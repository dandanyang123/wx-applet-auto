DEBUG 2023-07-01 00:01:12,586 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 00:01:12,590 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 00:01:12,591 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 00:01:12,597 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 00:01:13,015 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 00:01:13,015 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 00:01:13,016 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 00:01:13,018 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 00:01:13,019 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 00:01:13,019 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 00:01:13,022 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 00:01:13,024 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 00:01:15,622 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 00:01:15,623 minium_object.py _do_shell       87  out:

INFO  2023-07-01 00:01:25,628 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 00:01:25,975 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 00:01:25,976 connection.py _safely_send    417 SEND > {"id":"b196db65-bab3-4bb0-83de-943bef869f38","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 00:01:26,064 connection.py _on_message     652 RECV < {"id":"b196db65-bab3-4bb0-83de-943bef869f38","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 00:01:26,065 connection.py _safely_send    417 SEND > {"id":"04ceda98-5b09-4b8b-afa7-6c489a16fa19","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 00:01:29,018 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 00:01:29,024 connection.py _on_message     650 RECV < {"id":"04ceda98-5b09-4b8b-afa7-6c489a16fa19","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 00:01:29,025 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 00:01:29,026 connection.py _safely_send    417 SEND > {"id":"b89453e6-1520-4654-8f10-e5383d40b81e","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 00:01:29,029 connection.py _on_message     652 RECV < {"id":"b89453e6-1520-4654-8f10-e5383d40b81e","result":{}}
DEBUG 2023-07-01 00:01:29,030 connection.py _safely_send    417 SEND > {"id":"30831301-c97b-4c29-b62e-4c3b1abe7bca","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 00:01:29,034 connection.py _on_message     652 RECV < {"id":"30831301-c97b-4c29-b62e-4c3b1abe7bca","result":{}}
DEBUG 2023-07-01 00:01:29,036 connection.py _safely_send    417 SEND > {"id":"c997490d-b2d9-42fd-923d-2fa3712d4bb5","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 00:01:29,042 connection.py _on_message     652 RECV < {"id":"c997490d-b2d9-42fd-923d-2fa3712d4bb5","result":{"result":true}}
DEBUG 2023-07-01 00:01:29,044 connection.py _safely_send    417 SEND > {"id":"968e6e82-869f-4130-8f4c-d5fbdbd32b1a","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 00:01:29,047 connection.py _on_message     652 RECV < {"id":"968e6e82-869f-4130-8f4c-d5fbdbd32b1a","result":{"result":false}}
DEBUG 2023-07-01 00:01:29,047 connection.py _safely_send    417 SEND > {"id":"aa705437-4dbc-456e-ac44-ef5274e3441c","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 00:01:29,053 connection.py _on_message     650 RECV < {"id":"aa705437-4dbc-456e-ac44-ef5274e3441c","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 00:01:29,055 connection.py _safely_send    417 SEND > {"id":"58705a61-16a8-4731-9a89-96149508956d","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 00:01:29,057 connection.py _on_message     652 RECV < {"id":"58705a61-16a8-4731-9a89-96149508956d","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 00:01:29,058 connection.py _safely_send    417 SEND > {"id":"b5cbb7d5-f2fa-47c0-a928-2192e9c387f6","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 00:01:29,060 connection.py _on_message     652 RECV < {"id":"b5cbb7d5-f2fa-47c0-a928-2192e9c387f6","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 00:01:29,061 connection.py _safely_send    417 SEND > {"id":"3fd5c342-4e8e-44e9-afd8-a9634d5b5b3d","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 00:01:29,065 connection.py _on_message     652 RECV < {"id":"3fd5c342-4e8e-44e9-afd8-a9634d5b5b3d","result":{"result":false}}
DEBUG 2023-07-01 00:01:29,067 connection.py _safely_send    417 SEND > {"id":"244f59ae-d661-4b44-b445-1ccf96258620","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 00:01:29,070 connection.py _on_message     652 RECV < {"id":"244f59ae-d661-4b44-b445-1ccf96258620","result":{}}
DEBUG 2023-07-01 00:01:29,072 connection.py _safely_send    417 SEND > {"id":"0a3ede56-b38a-4748-b84b-aef7188446ec","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 00:01:29,074 connection.py _on_message     652 RECV < {"id":"0a3ede56-b38a-4748-b84b-aef7188446ec","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 00:01:29,076 connection.py _safely_send    417 SEND > {"id":"72924f7d-5e3d-461c-9a2d-13d63debc6da","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 00:01:29,348 connection.py _on_message     652 RECV < {"id":"72924f7d-5e3d-461c-9a2d-13d63debc6da","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 00:01:29,356 connection.py _safely_send    417 SEND > {"id":"28b36dee-ea34-4bee-8d6a-bbf1592c15a9","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 00:01:29,377 connection.py _on_message     652 RECV < {"id":"28b36dee-ea34-4bee-8d6a-bbf1592c15a9","result":{}}
DEBUG 2023-07-01 00:01:29,378 connection.py _safely_send    417 SEND > {"id":"6aa5a914-788a-4a0f-9533-c5dece17a1e5","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 00:01:29,384 connection.py _on_message     652 RECV < {"id":"6aa5a914-788a-4a0f-9533-c5dece17a1e5","result":{}}
DEBUG 2023-07-01 00:01:29,385 connection.py _safely_send    417 SEND > {"id":"07d4c5f1-6429-4b19-94e3-22e7efdbc817","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 00:01:29,390 connection.py _on_message     652 RECV < {"id":"07d4c5f1-6429-4b19-94e3-22e7efdbc817","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 00:01:29,391 connection.py _safely_send    417 SEND > {"id":"5a438f47-464f-4634-a52b-e4a621c894c4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 00:01:29,404 connection.py _on_message     650 RECV < {"id":"5a438f47-464f-4634-a52b-e4a621c894c4","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 00:01:29,405 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 00:01:29,408 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 00:01:29,409 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 00:01:29,410 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 00:01:29,411 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 00:01:29,415 minitest.py capture         673 capture setup.png
INFO  2023-07-01 00:01:29,416 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 00:01:29,417 connection.py _safely_send    417 SEND > {"id":"70bc39c7-ed45-47fd-92b2-926d30a39c8d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 00:01:29,511 connection.py _on_message     650 RECV < {"id":"70bc39c7-ed45-47fd-92b2-926d30a39c8d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X1sU2e+4PHfSULiQrhNeMl1pgnTbHvbMmylIZepcNTOTlN1q0unlWoXJBxppbnMrHQ3M1dayK20k8AfwdmV5gZGmp3s/rHDVrpXNhIQV6IMI4QaUKlshGgYaYaB9rbyTJLK3gBJICE4r2f/OLbjl+MTO2/2A9/PH23i12Nsf/M8zzlONF3XBQBUUFLoDQCAXBEsAMogWACUQbAAKINgAVAGwQKgDIIFQBkEC4AyCBYAZRAsAMogWACUQbAAKINgAVAGwQKgDIIFQBkEC4AyCBYAZRAsAMogWACUQbAAKINgAVAGwQKgDIIFQBkEC4AyCBYAZRAsAMogWACUQbAAKINgAVBGWaE34PE3Nzc/P6/P67qu64...
INFO  2023-07-01 00:01:29,513 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 00:01:29,514 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 00:01:31,515 page.py    wait_for        321 waitFor: 2.000126361846924 s
DEBUG 2023-07-01 00:01:31,516 connection.py _safely_send    417 SEND > {"id":"3321ed5b-33b6-410c-84eb-c483514e363f","method":"Page.getElementByXpath","params":{"selector":"/van-overlay/view/van-icon//view","pageId":2}}
DEBUG 2023-07-01 00:01:31,523 connection.py _on_message     652 RECV < {"id":"3321ed5b-33b6-410c-84eb-c483514e363f","error":{"message":"webview Page.getElementByXpath unimplemented"}}
ERROR 2023-07-01 00:01:31,524 connection.py _on_message     660 [3321ed5b-33b6-410c-84eb-c483514e363f]: webview Page.getElementByXpath unimplemented
WARNI 2023-07-01 00:01:31,525 connection.py _on_message     662 webview Page.getElementByXpath unimplemented, It may be caused by the low sdk version
DEBUG 2023-07-01 00:01:31,725 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 00:01:31,726 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 00:01:31,726 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 00:01:31,729 connection.py _safely_send    417 SEND > {"id":"0a1915e8-190c-4c49-abfc-3b5099cc3f9a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 00:01:31,843 connection.py _on_message     650 RECV < {"id":"0a1915e8-190c-4c49-abfc-3b5099cc3f9a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX/sXcV1L/pZM/uc7/EvYgN1jcTzw7ct4PpeKXYpCn4hCo56UZ0EqSa9UkG60m3SJ/WRVno1jfQK5Q8C916l0Ei54d4/bmikVhCpcVzJoY5QFYwA2ZFFTKRb10ATOc9Fwu8bwA7+dc7Ze2a9P+bXmtn7HH9tIPCle4H8PWef2TNr1qz1WWvWzJ5NzIyeeuqpp+VA6v1moKeeeuppqdQDVk899bRsqAesnnrqadlQD1g99dTTsqEesHrqqadlQz1g9dRTT8uGesDqqaeelg31gNVTTz0tG+oBq6eeelo21ANWTz31tGyoB6yeeupp2VAPWD311NOyoR6weuqpp2VDPWD11FNPy4Z6wOqpp56WDfWA1VNPPS...
INFO  2023-07-01 00:01:31,844 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 00:01:31,846 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 00:01:31,846 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 00:01:33,525 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 7, in test_my
    self.page.get_element('/page/van-overlay/view/van-icon//view').click()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 270, in get_element
    return self.get_element_by_xpath(
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 467, in get_element_by_xpath
    el = search_element()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\utils\utils.py", line 45, in wrapper
    r = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 465, in search_element
    return self._get_element_by_xpath(xpath)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\utils\utils.py", line 71, in wrapper
    return func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 639, in _get_element_by_xpath
    ret = self._send("Page.getElementByXpath", {"selector": xpath})
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 490, in _send
    self.connection.send(method, params)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\connection.py", line 447, in send
    return self._receive_response(cmd)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\connection.py", line 473, in _receive_response
    raise response
minium.framework.exception.MiniLowVersionSdkError: webview Page.getElementByXpath unimplemented
INFO  2023-07-01 00:01:43,532 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 00:01:43,532 connection.py _safely_send    417 ASYNC_SEND > {"id":"37d4f910-bda2-4954-9a96-eda77fb3aed3","method":"Tool.close","params":{}}
DEBUG 2023-07-01 00:01:43,536 connection.py _on_message     652 RECV < {"id":"37d4f910-bda2-4954-9a96-eda77fb3aed3","result":{}}
INFO  2023-07-01 00:01:43,538 connection.py _handle_async_msg 688 received async msg: 37d4f910-bda2-4954-9a96-eda77fb3aed3, maybe command ignore response
ERROR 2023-07-01 00:01:43,558 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 00:01:43,976 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 00:01:44,536 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 00:01:44,536 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 00:01:44,538 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 00:01:44,539 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 00:01:44,541 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 00:01:44,541 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:04:16,231 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:04:16,235 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:04:16,236 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:04:16,242 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:04:16,637 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:04:16,637 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:04:16,638 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:04:16,641 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:04:16,641 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:04:16,642 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:04:16,643 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:04:16,644 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:04:19,315 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:04:19,315 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:04:29,318 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:04:29,398 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:04:29,400 connection.py _safely_send    417 SEND > {"id":"11f8b436-edf6-4892-bdca-d67f47669161","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:04:29,420 connection.py _on_message     652 RECV < {"id":"11f8b436-edf6-4892-bdca-d67f47669161","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:04:29,421 connection.py _safely_send    417 SEND > {"id":"1abe33ad-5e21-4983-a162-77b48575f3d2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:04:31,726 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 15:04:31,730 connection.py _on_message     650 RECV < {"id":"1abe33ad-5e21-4983-a162-77b48575f3d2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:04:31,731 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:04:31,731 connection.py _safely_send    417 SEND > {"id":"b4f781e2-731d-4f8c-871f-b50058b8f916","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:04:31,736 connection.py _on_message     652 RECV < {"id":"b4f781e2-731d-4f8c-871f-b50058b8f916","result":{}}
DEBUG 2023-07-01 15:04:31,738 connection.py _safely_send    417 SEND > {"id":"5f26ec8b-c2ed-45bb-9338-1704313fadda","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:04:31,743 connection.py _on_message     652 RECV < {"id":"5f26ec8b-c2ed-45bb-9338-1704313fadda","result":{}}
DEBUG 2023-07-01 15:04:31,745 connection.py _safely_send    417 SEND > {"id":"0bc1a1a7-e8e1-403e-aac5-46b68b69fdc0","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:04:31,761 connection.py _on_message     652 RECV < {"id":"0bc1a1a7-e8e1-403e-aac5-46b68b69fdc0","result":{"result":true}}
DEBUG 2023-07-01 15:04:31,762 connection.py _safely_send    417 SEND > {"id":"5b5f394d-79d1-4ca3-a2f5-9242a18b4081","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:04:31,771 connection.py _on_message     652 RECV < {"id":"5b5f394d-79d1-4ca3-a2f5-9242a18b4081","result":{"result":false}}
DEBUG 2023-07-01 15:04:31,771 connection.py _safely_send    417 SEND > {"id":"c356db2d-a8ee-4a76-a06c-877fd177b57c","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:04:31,777 connection.py _on_message     650 RECV < {"id":"c356db2d-a8ee-4a76-a06c-877fd177b57c","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 15:04:31,780 connection.py _safely_send    417 SEND > {"id":"55e83871-f863-4290-978e-1c23f3f42b30","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:04:31,782 connection.py _on_message     652 RECV < {"id":"55e83871-f863-4290-978e-1c23f3f42b30","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:04:31,784 connection.py _safely_send    417 SEND > {"id":"6e6992f9-cddc-435c-ae5e-9700a2b8988f","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:04:31,787 connection.py _on_message     652 RECV < {"id":"6e6992f9-cddc-435c-ae5e-9700a2b8988f","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:04:31,788 connection.py _safely_send    417 SEND > {"id":"d92d3d48-c2c6-4e9c-9a7a-fdc004fd2442","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:04:31,795 connection.py _on_message     652 RECV < {"id":"d92d3d48-c2c6-4e9c-9a7a-fdc004fd2442","result":{"result":false}}
DEBUG 2023-07-01 15:04:31,797 connection.py _safely_send    417 SEND > {"id":"0d842ca0-6b53-418a-8eca-f2550efa70df","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:04:31,800 connection.py _on_message     652 RECV < {"id":"0d842ca0-6b53-418a-8eca-f2550efa70df","result":{}}
DEBUG 2023-07-01 15:04:31,803 connection.py _safely_send    417 SEND > {"id":"032a8b77-3a0a-4a7e-8613-5e7725d46061","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:04:31,808 connection.py _on_message     652 RECV < {"id":"032a8b77-3a0a-4a7e-8613-5e7725d46061","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:04:31,810 connection.py _safely_send    417 SEND > {"id":"2ca82f2a-752a-407a-a4a2-4f42f2c8cace","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:04:32,094 connection.py _on_message     652 RECV < {"id":"2ca82f2a-752a-407a-a4a2-4f42f2c8cace","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:04:32,103 connection.py _safely_send    417 SEND > {"id":"35dfb69b-23fe-41d2-8420-5d8d8dc1de91","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:04:32,131 connection.py _on_message     652 RECV < {"id":"35dfb69b-23fe-41d2-8420-5d8d8dc1de91","result":{}}
DEBUG 2023-07-01 15:04:32,136 connection.py _safely_send    417 SEND > {"id":"09180569-02a7-4688-bdf5-2395e8d0f0cc","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:04:32,209 connection.py _on_message     652 RECV < {"id":"09180569-02a7-4688-bdf5-2395e8d0f0cc","result":{}}
DEBUG 2023-07-01 15:04:32,212 connection.py _safely_send    417 SEND > {"id":"b3ace532-16ed-4fd4-b440-166d163d6de8","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:04:32,229 connection.py _on_message     652 RECV < {"id":"b3ace532-16ed-4fd4-b440-166d163d6de8","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:04:32,230 connection.py _safely_send    417 SEND > {"id":"1bb7c3a8-5122-4d90-a0c5-e1fe3fcd3867","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:04:32,237 connection.py _on_message     650 RECV < {"id":"1bb7c3a8-5122-4d90-a0c5-e1fe3fcd3867","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:04:32,238 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:04:32,244 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:04:32,244 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:04:32,245 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:04:32,247 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:04:32,249 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:04:32,251 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:04:32,253 connection.py _safely_send    417 SEND > {"id":"a24827ad-c2ef-4f92-a874-e1647e186495","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:04:32,471 connection.py _on_message     650 RECV < {"id":"a24827ad-c2ef-4f92-a874-e1647e186495","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXuYleV97/39/e5nHebInBgGhOGkHESrECRCNRFsaoNKEjRto9fbdjfJ+77dJn2vHWzeazfWP6zufV2pNtebxrb7amj2TovZrTg2aLCaCBTMYAiCUXEAwZFhhGEOzHlmzVrPff/eP57DetZhcEAQF7k/F4e1nvXcz33+3r/7+JCIwGKxWEoBvtwBsFgslqliBctisZQMVrAsFkvJYAXLYrGUDFawLBZLyWAFy2KxlAxWsCwWS8lgBctisZQMVrAsFkvJYAXLYrGUDFawLBZLyWAFy2KxlAxWsCwWS8lgBctisZQMVrAsFkvJYAXLYrGUDFawLBZLyWAFy2KxlAxWsCwWS8lgBctisZQMVrAsFkvJYAXLYr...
INFO  2023-07-01 15:04:32,473 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:04:32,475 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 15:04:34,477 page.py    wait_for        321 waitFor: 2.0011489391326904 s
INFO  2023-07-01 15:04:34,477 page.py    _get_elements_by_css 559 try to get elements: view[bindtap="onClick"]
DEBUG 2023-07-01 15:04:34,479 connection.py _safely_send    417 SEND > {"id":"a677cc4a-3784-4570-9f66-fe0c6f0d9b93","method":"Page.getElements","params":{"selector":"view[bindtap=\"onClick\"]","pageId":2}}
DEBUG 2023-07-01 15:04:34,485 connection.py _on_message     652 RECV < {"id":"a677cc4a-3784-4570-9f66-fe0c6f0d9b93","result":{"elements":[]}}
WARNI 2023-07-01 15:04:34,485 page.py    _get_elements_by_css 564 Could not found any element 'view[bindtap="onClick"]' you need
DEBUG 2023-07-01 15:04:34,487 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:04:34,488 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:04:34,489 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:04:34,489 connection.py _safely_send    417 SEND > {"id":"bf4c879a-e1cc-43bc-872e-fd71d4799754","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:04:34,606 connection.py _on_message     650 RECV < {"id":"bf4c879a-e1cc-43bc-872e-fd71d4799754","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX/sXcV1L/pZM/uc7/EvYgN1jcTzw7ct4PpeKXYpCn4hCo56UZ0EqSa9UkG60m3SJ/WRVno1jfQK5Q8C916l0Ei54d4/bmikVhCpcVzJoY5QFYwA2ZFFTKRb10ATOc9Fwu8bwA7+dc7Ze2a9P+bXmtn7HH9tIPCle4H8PWef2TNr1qz1WWvWzJ5NzIyeeuqpp+VA6v1moKeeeuppqdQDVk899bRsqAesnnrqadlQD1g99dTTsqEesHrqqadlQz1g9dRTT8uGesDqqaeelg31gNVTTz0tG+oBq6eeelo21ANWTz31tGyoB6yeeupp2VAPWD311NOyoR6weuqpp2VDPWD11FNPy4Z6wOqpp56WDfWA1VNPPS...
INFO  2023-07-01 15:04:34,608 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:04:34,609 page.py    _get_elements_by_css 559 try to get elements: page
DEBUG 2023-07-01 15:04:34,609 connection.py _safely_send    417 SEND > {"id":"677d9316-8e80-4618-a29c-6030594885ef","method":"Page.getElements","params":{"selector":"page","pageId":2}}
DEBUG 2023-07-01 15:04:34,613 connection.py _on_message     652 RECV < {"id":"677d9316-8e80-4618-a29c-6030594885ef","result":{"elements":[{"elementId":"2fc1f525-ef43-4a74-b6ce-eff8256dee20","tagName":"body","nodeId":"7e966b91"}]}}
INFO  2023-07-01 15:04:34,614 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.CustomElement object at 0x000001D5A283A340>]
DEBUG 2023-07-01 15:04:34,614 connection.py _safely_send    417 SEND > {"id":"f4ede4b8-1b56-4ded-b80d-7e5f8e38c444","method":"Element.getWXML","params":{"type":"inner","elementId":"2fc1f525-ef43-4a74-b6ce-eff8256dee20","pageId":2,"nodeId":"7e966b91"}}
DEBUG 2023-07-01 15:04:34,636 connection.py _on_message     650 RECV < {"id":"f4ede4b8-1b56-4ded-b80d-7e5f8e38c444","result":{"wxml":"<van-sticky is=\"miniprogram_npm/@vant/weapp/sticky/index\"><view class=\" van-sticky sticky-index--van-sticky\" style=\"height:60px;z-index:99\"><view class=\"van-sticky-wrap sticky-index--van-sticky-wrap van-sticky-wrap--fixed sticky-index--van-sticky-wrap--fixed\" style=\"top:0px;z-index:99\"><view class=\"search-contianer\"><view class=\"search\" style=\"height:60px;padding-top:24px\"><view class=\"search-title\" style=\"height:31px;line-...
INFO  2023-07-01 15:04:34,638 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:04:34,638 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 15:04:34,648 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 7, in test_my
    self.page.get_element('view[bindtap="onClick"]').click()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 286, in get_element
    raise MiniElementNotFoundError("element[%s] not found" % selector)
minium.framework.exception.MiniElementNotFoundError: element[view[bindtap="onClick"]] not found
INFO  2023-07-01 15:04:44,654 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:04:44,654 connection.py _safely_send    417 ASYNC_SEND > {"id":"08a1d6f1-641b-42a4-aa82-a808cc4c457c","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:04:44,656 connection.py _on_message     652 RECV < {"id":"08a1d6f1-641b-42a4-aa82-a808cc4c457c","result":{}}
INFO  2023-07-01 15:04:44,657 connection.py _handle_async_msg 688 received async msg: 08a1d6f1-641b-42a4-aa82-a808cc4c457c, maybe command ignore response
ERROR 2023-07-01 15:04:44,676 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:04:45,571 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:04:45,656 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:04:45,656 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:04:45,657 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:04:45,658 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:04:45,659 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:04:45,660 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:08:09,840 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:08:09,845 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:08:09,846 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:08:09,852 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:08:10,223 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:08:10,223 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:08:10,224 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:08:10,226 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:08:10,227 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:08:10,227 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:08:10,229 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:08:10,230 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:08:12,713 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:08:12,713 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:08:22,716 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:08:23,039 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:08:23,040 connection.py _safely_send    417 SEND > {"id":"4fd935e1-db38-4f96-92bc-dee8b627694b","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:08:23,051 connection.py _on_message     652 RECV < {"id":"4fd935e1-db38-4f96-92bc-dee8b627694b","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:08:23,052 connection.py _safely_send    417 SEND > {"id":"5208b150-79f8-4b0c-a80b-bfe427b2b47d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:08:24,174 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 15:08:24,181 connection.py _on_message     650 RECV < {"id":"5208b150-79f8-4b0c-a80b-bfe427b2b47d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:08:24,183 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:08:24,184 connection.py _safely_send    417 SEND > {"id":"f722bc4d-c88b-4628-b305-a844b14d4aeb","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:08:24,188 connection.py _on_message     652 RECV < {"id":"f722bc4d-c88b-4628-b305-a844b14d4aeb","result":{}}
DEBUG 2023-07-01 15:08:24,189 connection.py _safely_send    417 SEND > {"id":"b089b241-834d-4396-9a3a-421fa5ed8b55","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:08:24,192 connection.py _on_message     652 RECV < {"id":"b089b241-834d-4396-9a3a-421fa5ed8b55","result":{}}
DEBUG 2023-07-01 15:08:24,194 connection.py _safely_send    417 SEND > {"id":"c9c5b51a-d782-4c32-8422-7275120242a3","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:08:24,196 connection.py _on_message     652 RECV < {"id":"c9c5b51a-d782-4c32-8422-7275120242a3","result":{"result":true}}
DEBUG 2023-07-01 15:08:24,198 connection.py _safely_send    417 SEND > {"id":"4ea64efe-6e90-448d-9723-3cb7bef6ec96","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:08:24,200 connection.py _on_message     652 RECV < {"id":"4ea64efe-6e90-448d-9723-3cb7bef6ec96","result":{"result":false}}
DEBUG 2023-07-01 15:08:24,201 connection.py _safely_send    417 SEND > {"id":"8414eb9c-4c83-482d-873c-f8a5e01f7a0d","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:08:24,206 connection.py _on_message     650 RECV < {"id":"8414eb9c-4c83-482d-873c-f8a5e01f7a0d","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 15:08:24,207 connection.py _safely_send    417 SEND > {"id":"39da0f21-71ce-43b6-889c-ae56a6294284","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:08:24,210 connection.py _on_message     652 RECV < {"id":"39da0f21-71ce-43b6-889c-ae56a6294284","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:08:24,211 connection.py _safely_send    417 SEND > {"id":"1872f836-903e-4c70-9ac7-3e613b129849","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:08:24,214 connection.py _on_message     652 RECV < {"id":"1872f836-903e-4c70-9ac7-3e613b129849","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:08:24,216 connection.py _safely_send    417 SEND > {"id":"356478fd-5a70-426b-8135-c744da8a0594","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:08:24,221 connection.py _on_message     652 RECV < {"id":"356478fd-5a70-426b-8135-c744da8a0594","result":{"result":false}}
DEBUG 2023-07-01 15:08:24,223 connection.py _safely_send    417 SEND > {"id":"47427ca0-2cd2-4eb8-a809-c16851942071","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:08:24,225 connection.py _on_message     652 RECV < {"id":"47427ca0-2cd2-4eb8-a809-c16851942071","result":{}}
DEBUG 2023-07-01 15:08:24,225 connection.py _safely_send    417 SEND > {"id":"a5043fdd-3bc7-4c8a-8afa-efe2371b7d4d","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:08:24,230 connection.py _on_message     652 RECV < {"id":"a5043fdd-3bc7-4c8a-8afa-efe2371b7d4d","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:08:24,231 connection.py _safely_send    417 SEND > {"id":"d66a5ca5-6626-44e7-934e-f8ff81683888","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:08:24,518 connection.py _on_message     652 RECV < {"id":"d66a5ca5-6626-44e7-934e-f8ff81683888","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:08:24,524 connection.py _safely_send    417 SEND > {"id":"5204bfcf-0d76-4452-8129-cd673b60ed23","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:08:24,549 connection.py _on_message     652 RECV < {"id":"5204bfcf-0d76-4452-8129-cd673b60ed23","result":{}}
DEBUG 2023-07-01 15:08:24,550 connection.py _safely_send    417 SEND > {"id":"ec414044-8aee-4cc9-9065-1fa0e8b37ce3","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:08:24,557 connection.py _on_message     652 RECV < {"id":"ec414044-8aee-4cc9-9065-1fa0e8b37ce3","result":{}}
DEBUG 2023-07-01 15:08:24,559 connection.py _safely_send    417 SEND > {"id":"e82eece5-1504-449e-b65f-35887578c801","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:08:24,563 connection.py _on_message     652 RECV < {"id":"e82eece5-1504-449e-b65f-35887578c801","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:08:24,564 connection.py _safely_send    417 SEND > {"id":"d20c7813-be4e-40a3-94f9-7a623705ec57","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:08:24,569 connection.py _on_message     650 RECV < {"id":"d20c7813-be4e-40a3-94f9-7a623705ec57","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:08:24,570 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:08:24,577 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:08:24,578 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:08:24,579 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:08:24,579 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:08:24,581 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:08:24,581 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:08:24,582 connection.py _safely_send    417 SEND > {"id":"ecb3a939-a575-4587-8a34-38ae9d32b8d7","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:08:24,860 connection.py _on_message     650 RECV < {"id":"ecb3a939-a575-4587-8a34-38ae9d32b8d7","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvWmMXdd15/tfe5871jyyOKhEauBg2olI02qTsPwsGmkhtC28UE6ASEADL3YekCcnwAsVAy9W9EGWugFHigF31P2hrQ6QQDJeTDMArdDQMyyqJTVpqCnKsURxEKWiilPxsua6VXc6Z633Ye997r1Vt6gqiYMutX+WrLr3nmGfffb+77XWnkhE4PF4PM2AutEJ8Hg8nqXiBcvj8TQNXrA8Hk/T4AXL4/E0DV6wPB5P0+AFy+PxNA1esDweT9PgBcvj8TQNXrA8Hk/T4AXL4/E0DV6wPB5P0+AFy+PxNA1esDweT9PgBcvj8TQNXrA8Hk/T4AXL4/E0DV6wPB5P0+AFy+PxNA1esDweT9PgBcvj8TQNXrA8Hk...
INFO  2023-07-01 15:08:24,863 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:08:24,865 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 15:08:26,867 page.py    wait_for        321 waitFor: 2.0006937980651855 s
INFO  2023-07-01 15:08:26,867 page.py    _get_elements_by_css 559 try to get elements: view[class="adPositionIndexPop"]
DEBUG 2023-07-01 15:08:26,870 connection.py _safely_send    417 SEND > {"id":"c5febed9-166a-4427-ba5b-69178ea046e6","method":"Page.getElements","params":{"selector":"view[class=\"adPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:08:26,876 connection.py _on_message     652 RECV < {"id":"c5febed9-166a-4427-ba5b-69178ea046e6","result":{"elements":[{"elementId":"4bde6ddc-736e-4c85-a352-d36e6b97b0ab","tagName":"view"}]}}
INFO  2023-07-01 15:08:26,877 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000001AA9E449370>]
INFO  2023-07-01 15:08:26,878 page.py    _get_elements_by_css 559 try to get elements: view[bindtap="onClick"]
DEBUG 2023-07-01 15:08:26,879 connection.py _safely_send    417 SEND > {"id":"7cda5c35-ad57-44dd-b93e-02683b6500d0","method":"Page.getElements","params":{"selector":"view[bindtap=\"onClick\"]","pageId":2}}
DEBUG 2023-07-01 15:08:26,884 connection.py _on_message     652 RECV < {"id":"7cda5c35-ad57-44dd-b93e-02683b6500d0","result":{"elements":[]}}
WARNI 2023-07-01 15:08:26,885 page.py    _get_elements_by_css 564 Could not found any element 'view[bindtap="onClick"]' you need
DEBUG 2023-07-01 15:08:26,886 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:08:26,887 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:08:26,888 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:08:26,889 connection.py _safely_send    417 SEND > {"id":"6680611d-171e-4e0e-9f70-b568e45d0d6f","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:08:27,022 connection.py _on_message     650 RECV < {"id":"6680611d-171e-4e0e-9f70-b568e45d0d6f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX/sXcV1L/pZM/uc7/EvYgN1jcTzw7ct4PpeKXYpCn4hCo56UZ0EqSa9UkG60m3SJ/WRVno1jfQK5Q8C916l0Ei54d4/bmikVhCpcVzJoY5QFYwA2ZFFTKRb10ATOc9Fwu8bwA7+dc7Ze2a9P+bXmtn7HH9tIPCle4H8PWef2TNr1qz1WWvWzJ5NzIyeeuqpp+VA6v1moKeeeuppqdQDVk899bRsqAesnnrqadlQD1g99dTTsqEesHrqqadlQz1g9dRTT8uGesDqqaeelg31gNVTTz0tG+oBq6eeelo21ANWTz31tGyoB6yeeupp2VAPWD311NOyoR6weuqpp2VDPWD11FNPy4Z6wOqpp56WDfWA1VNPPS...
INFO  2023-07-01 15:08:27,026 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:08:27,027 page.py    _get_elements_by_css 559 try to get elements: page
DEBUG 2023-07-01 15:08:27,028 connection.py _safely_send    417 SEND > {"id":"c5741435-c99b-4232-a524-84c84bb7d561","method":"Page.getElements","params":{"selector":"page","pageId":2}}
DEBUG 2023-07-01 15:08:27,032 connection.py _on_message     652 RECV < {"id":"c5741435-c99b-4232-a524-84c84bb7d561","result":{"elements":[{"elementId":"aa756a17-ddba-43c7-857d-a12be188eade","tagName":"body","nodeId":"97a41962"}]}}
INFO  2023-07-01 15:08:27,032 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.CustomElement object at 0x000001AA9E449460>]
DEBUG 2023-07-01 15:08:27,035 connection.py _safely_send    417 SEND > {"id":"7b9ddfce-79f4-4a03-b139-2e729a4efcd8","method":"Element.getWXML","params":{"type":"inner","elementId":"aa756a17-ddba-43c7-857d-a12be188eade","pageId":2,"nodeId":"97a41962"}}
DEBUG 2023-07-01 15:08:27,087 connection.py _on_message     650 RECV < {"id":"7b9ddfce-79f4-4a03-b139-2e729a4efcd8","result":{"wxml":"<van-sticky is=\"miniprogram_npm/@vant/weapp/sticky/index\"><view class=\" van-sticky sticky-index--van-sticky\" style=\"height:60px;z-index:99\"><view class=\"van-sticky-wrap sticky-index--van-sticky-wrap van-sticky-wrap--fixed sticky-index--van-sticky-wrap--fixed\" style=\"top:0px;z-index:99\"><view class=\"search-contianer\"><view class=\"search\" style=\"height:60px;padding-top:24px\"><view class=\"search-title\" style=\"height:31px;line-...
INFO  2023-07-01 15:08:27,094 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:08:27,094 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 15:08:27,108 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 9, in test_my
    self.page.get_element('view[bindtap="onClick"]').click()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 286, in get_element
    raise MiniElementNotFoundError("element[%s] not found" % selector)
minium.framework.exception.MiniElementNotFoundError: element[view[bindtap="onClick"]] not found
INFO  2023-07-01 15:08:37,120 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:08:37,121 connection.py _safely_send    417 ASYNC_SEND > {"id":"5396c1c9-c1df-4d98-ab10-7e6242cf56cf","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:08:37,123 connection.py _on_message     652 RECV < {"id":"5396c1c9-c1df-4d98-ab10-7e6242cf56cf","result":{}}
INFO  2023-07-01 15:08:37,124 connection.py _handle_async_msg 688 received async msg: 5396c1c9-c1df-4d98-ab10-7e6242cf56cf, maybe command ignore response
ERROR 2023-07-01 15:08:37,143 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:08:37,907 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:08:38,124 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:08:38,124 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:08:38,125 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:08:38,127 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:08:38,127 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:08:38,128 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:13:33,832 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:13:33,837 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:13:33,839 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:13:33,846 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:13:34,232 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:13:34,232 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:13:34,233 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:13:34,235 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:13:34,237 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:13:34,238 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:13:34,239 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:13:34,240 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:13:36,728 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:13:36,728 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:13:46,733 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:13:47,031 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:13:47,038 connection.py _safely_send    417 SEND > {"id":"a08e57ef-4556-4a4f-985d-ced9eed22039","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:13:47,113 connection.py _on_message     652 RECV < {"id":"a08e57ef-4556-4a4f-985d-ced9eed22039","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:13:47,114 connection.py _safely_send    417 SEND > {"id":"5c34b324-09c5-454c-9575-3e10b2d3deee","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:13:50,314 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 15:13:50,319 connection.py _on_message     650 RECV < {"id":"5c34b324-09c5-454c-9575-3e10b2d3deee","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:13:50,322 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:13:50,323 connection.py _safely_send    417 SEND > {"id":"f9dc4b96-036b-482a-aa05-d49b6fc8ade7","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:13:50,327 connection.py _on_message     652 RECV < {"id":"f9dc4b96-036b-482a-aa05-d49b6fc8ade7","result":{}}
DEBUG 2023-07-01 15:13:50,328 connection.py _safely_send    417 SEND > {"id":"78012e44-f46a-4f0c-873e-874d5b52076a","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:13:50,331 connection.py _on_message     652 RECV < {"id":"78012e44-f46a-4f0c-873e-874d5b52076a","result":{}}
DEBUG 2023-07-01 15:13:50,333 connection.py _safely_send    417 SEND > {"id":"82ba18a9-f1f6-40d4-a90c-7c0bc04e741e","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:13:50,337 connection.py _on_message     652 RECV < {"id":"82ba18a9-f1f6-40d4-a90c-7c0bc04e741e","result":{"result":true}}
DEBUG 2023-07-01 15:13:50,339 connection.py _safely_send    417 SEND > {"id":"65b87580-e617-415f-8e42-3acfbcf88c09","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:13:50,347 connection.py _on_message     652 RECV < {"id":"65b87580-e617-415f-8e42-3acfbcf88c09","result":{"result":false}}
DEBUG 2023-07-01 15:13:50,348 connection.py _safely_send    417 SEND > {"id":"38dd5ddf-c09e-431a-b11a-5aaf0b4996ff","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:13:50,354 connection.py _on_message     650 RECV < {"id":"38dd5ddf-c09e-431a-b11a-5aaf0b4996ff","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 15:13:50,355 connection.py _safely_send    417 SEND > {"id":"02d24483-ec25-4bd9-9088-25aa6007a7c0","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:13:50,357 connection.py _on_message     652 RECV < {"id":"02d24483-ec25-4bd9-9088-25aa6007a7c0","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:13:50,359 connection.py _safely_send    417 SEND > {"id":"d99d6d9b-90c3-4f52-8671-2dc57a9ae917","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:13:50,361 connection.py _on_message     652 RECV < {"id":"d99d6d9b-90c3-4f52-8671-2dc57a9ae917","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:13:50,362 connection.py _safely_send    417 SEND > {"id":"489b91cd-3a57-4ed6-8041-2b59785d9090","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:13:50,367 connection.py _on_message     652 RECV < {"id":"489b91cd-3a57-4ed6-8041-2b59785d9090","result":{"result":false}}
DEBUG 2023-07-01 15:13:50,371 connection.py _safely_send    417 SEND > {"id":"6e42a684-23be-402a-836c-3aab9c3b4995","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:13:50,373 connection.py _on_message     652 RECV < {"id":"6e42a684-23be-402a-836c-3aab9c3b4995","result":{}}
DEBUG 2023-07-01 15:13:50,374 connection.py _safely_send    417 SEND > {"id":"306b16de-7644-4a90-bffb-bf79c293d087","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:13:50,377 connection.py _on_message     652 RECV < {"id":"306b16de-7644-4a90-bffb-bf79c293d087","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:13:50,378 connection.py _safely_send    417 SEND > {"id":"2f1865a8-7678-4813-846c-7ab5b693282e","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:13:50,694 connection.py _on_message     652 RECV < {"id":"2f1865a8-7678-4813-846c-7ab5b693282e","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:13:50,698 connection.py _safely_send    417 SEND > {"id":"a47175d8-a3c4-402d-813f-ae062cb1b64d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:13:50,708 connection.py _on_message     652 RECV < {"id":"a47175d8-a3c4-402d-813f-ae062cb1b64d","result":{}}
DEBUG 2023-07-01 15:13:50,709 connection.py _safely_send    417 SEND > {"id":"4940aa4e-8dbb-46c7-b0f0-26ca5cdf4dbf","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:13:50,715 connection.py _on_message     652 RECV < {"id":"4940aa4e-8dbb-46c7-b0f0-26ca5cdf4dbf","result":{}}
DEBUG 2023-07-01 15:13:50,717 connection.py _safely_send    417 SEND > {"id":"81fbfe46-d539-4937-92c8-6bb6a4a12462","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:13:50,724 connection.py _on_message     652 RECV < {"id":"81fbfe46-d539-4937-92c8-6bb6a4a12462","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:13:50,725 connection.py _safely_send    417 SEND > {"id":"63a7dff7-8b0e-4757-ae8c-46cc1fa151aa","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:13:50,728 connection.py _on_message     650 RECV < {"id":"63a7dff7-8b0e-4757-ae8c-46cc1fa151aa","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:13:50,729 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:13:50,736 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:13:50,737 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:13:50,740 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:13:50,740 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:13:50,743 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:13:50,743 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:13:50,744 connection.py _safely_send    417 SEND > {"id":"c985bb3e-87d8-4fb4-b55a-7a629d3ce1b0","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:13:51,044 connection.py _on_message     650 RECV < {"id":"c985bb3e-87d8-4fb4-b55a-7a629d3ce1b0","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvXuQXcWd5/n9ZZ77qFvvh6pKr0IlhFAhsJEQaiQj2oi2WQvDjgU9PYbYidi2e3d7cXfEtmjHrk2zERhmItzQjnCbmT/GTMd0r3BEW5ZnBBatppGEBCVaCIlXqSSBVKJUUpVuvd/3cTJ/+0eec+65t26JktCDK/ITPG6dZ548md/85S9/mYeYGRaLxVIKiGudAIvFYpkrVrAsFkvJYAXLYrGUDFawLBZLyWAFy2KxlAxWsCwWS8lgBctisZQMVrAsFkvJYAXLYrGUDFawLBZLyWAFy2KxlAxWsCwWS8lgBctisZQMVrAsFkvJYAXLYrGUDFawLBZLyWAFy2KxlAxWsCwWS8lgBctisZQMVrAsFkvJYAXLYr...
INFO  2023-07-01 15:13:51,048 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:13:51,051 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 15:13:53,054 page.py    wait_for        321 waitFor: 2.000502109527588 s
INFO  2023-07-01 15:13:53,054 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:53,056 connection.py _safely_send    417 SEND > {"id":"57b347e7-e8ce-41aa-977d-a0e7b75439dd","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:53,062 connection.py _on_message     652 RECV < {"id":"57b347e7-e8ce-41aa-977d-a0e7b75439dd","result":{"elements":[]}}
WARNI 2023-07-01 15:13:53,063 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:13:54,064 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:54,064 connection.py _safely_send    417 SEND > {"id":"ab6c3706-540c-4837-a585-2d9b283efc5e","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:54,069 connection.py _on_message     652 RECV < {"id":"ab6c3706-540c-4837-a585-2d9b283efc5e","result":{"elements":[]}}
WARNI 2023-07-01 15:13:54,070 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:13:55,072 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:55,072 connection.py _safely_send    417 SEND > {"id":"38fe3dcc-4d8c-403f-a5ea-ab6cda657081","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:55,077 connection.py _on_message     652 RECV < {"id":"38fe3dcc-4d8c-403f-a5ea-ab6cda657081","result":{"elements":[]}}
WARNI 2023-07-01 15:13:55,077 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:13:56,078 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:56,078 connection.py _safely_send    417 SEND > {"id":"5d104d45-8b9f-4316-8d27-cc4de838054c","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:56,082 connection.py _on_message     652 RECV < {"id":"5d104d45-8b9f-4316-8d27-cc4de838054c","result":{"elements":[]}}
WARNI 2023-07-01 15:13:56,083 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:13:57,084 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:57,084 connection.py _safely_send    417 SEND > {"id":"de482ed7-0307-467e-a574-b30df2fbc22a","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:57,103 connection.py _on_message     652 RECV < {"id":"de482ed7-0307-467e-a574-b30df2fbc22a","result":{"elements":[]}}
WARNI 2023-07-01 15:13:57,104 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:13:58,106 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:58,106 connection.py _safely_send    417 SEND > {"id":"283ff8fb-9229-4950-99d1-24614a849f42","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:58,110 connection.py _on_message     652 RECV < {"id":"283ff8fb-9229-4950-99d1-24614a849f42","result":{"elements":[]}}
WARNI 2023-07-01 15:13:58,111 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:13:59,112 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:13:59,112 connection.py _safely_send    417 SEND > {"id":"eeeafcf1-2d84-44b0-a5b7-eca14688cbea","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:13:59,116 connection.py _on_message     652 RECV < {"id":"eeeafcf1-2d84-44b0-a5b7-eca14688cbea","result":{"elements":[]}}
WARNI 2023-07-01 15:13:59,116 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:14:00,118 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:14:00,118 connection.py _safely_send    417 SEND > {"id":"9f0f924c-d303-4444-bab3-5b0127b0078a","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:14:00,122 connection.py _on_message     652 RECV < {"id":"9f0f924c-d303-4444-bab3-5b0127b0078a","result":{"elements":[]}}
WARNI 2023-07-01 15:14:00,123 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:14:01,124 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:14:01,124 connection.py _safely_send    417 SEND > {"id":"3a9e4b6b-4789-4dbe-a856-98c8a8b6e4af","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:14:01,127 connection.py _on_message     652 RECV < {"id":"3a9e4b6b-4789-4dbe-a856-98c8a8b6e4af","result":{"elements":[]}}
WARNI 2023-07-01 15:14:01,128 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:14:02,128 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:14:02,128 connection.py _safely_send    417 SEND > {"id":"4a4fc07f-09cf-48de-8efb-7c3defc1b1f0","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:14:02,132 connection.py _on_message     652 RECV < {"id":"4a4fc07f-09cf-48de-8efb-7c3defc1b1f0","result":{"elements":[]}}
WARNI 2023-07-01 15:14:02,132 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
DEBUG 2023-07-01 15:14:03,133 connection.py _safely_send    417 SEND > {"id":"6b9b51b3-4347-4223-b3ae-c73da67dd05b","method":"Page.getElementByXpath","params":{"selector":"/van-overlay/view/van-icon//view","pageId":2}}
DEBUG 2023-07-01 15:14:03,138 connection.py _on_message     652 RECV < {"id":"6b9b51b3-4347-4223-b3ae-c73da67dd05b","error":{"message":"webview Page.getElementByXpath unimplemented"}}
ERROR 2023-07-01 15:14:03,138 connection.py _on_message     660 [6b9b51b3-4347-4223-b3ae-c73da67dd05b]: webview Page.getElementByXpath unimplemented
WARNI 2023-07-01 15:14:03,138 connection.py _on_message     662 webview Page.getElementByXpath unimplemented, It may be caused by the low sdk version
DEBUG 2023-07-01 15:14:03,353 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:14:03,354 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:14:03,355 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:14:03,355 connection.py _safely_send    417 SEND > {"id":"7770abc1-3315-432a-a39f-2fa0e9bf7ddf","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:14:03,499 connection.py _on_message     650 RECV < {"id":"7770abc1-3315-432a-a39f-2fa0e9bf7ddf","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX2sXtV1J7zWPh/Pcz9s32sbx0yJwUn4cD0jxS5FwQpRcKaD6gSkmnSkgjTS26Sv1Je00lvTSG9D+YPAjJTCRMqEmT8mTKVWEKlxXMmhjlAVjADZESKm0tQ10CSX3JhgLv643/f5OGev94+z99pr7XOusQmEXOaskOvnOWefvddeH7+19jr7nAeJCFpqqaWW1gKZ95uBllpqqaVLpRawWmqppTVDLWC11FJLa4ZawGqppZbWDLWA1VJLLa0ZagGrpZZaWjPUAlZLLbW0ZqgFrJZaamnNUAtYLbXU0pqhFrBaaqmlNUMtYLXUUktrhlrAaqmlltYMtYDVUkstrRlqAaulllpaM9QCVksttbRmqAWsllpqac...
INFO  2023-07-01 15:14:03,502 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:14:03,503 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:14:03,504 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 15:14:03,512 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 9, in test_my
    self.page.get_element('/page/van-overlay/view/van-icon//view').click()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 270, in get_element
    return self.get_element_by_xpath(
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 467, in get_element_by_xpath
    el = search_element()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\utils\utils.py", line 45, in wrapper
    r = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 465, in search_element
    return self._get_element_by_xpath(xpath)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\utils\utils.py", line 71, in wrapper
    return func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 639, in _get_element_by_xpath
    ret = self._send("Page.getElementByXpath", {"selector": xpath})
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 490, in _send
    self.connection.send(method, params)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\connection.py", line 447, in send
    return self._receive_response(cmd)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\connection.py", line 473, in _receive_response
    raise response
minium.framework.exception.MiniLowVersionSdkError: webview Page.getElementByXpath unimplemented
INFO  2023-07-01 15:14:13,525 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:14:13,525 connection.py _safely_send    417 ASYNC_SEND > {"id":"0536c5e3-422e-4f05-a985-b6f5dda5177b","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:14:13,529 connection.py _on_message     652 RECV < {"id":"0536c5e3-422e-4f05-a985-b6f5dda5177b","result":{}}
INFO  2023-07-01 15:14:13,530 connection.py _handle_async_msg 688 received async msg: 0536c5e3-422e-4f05-a985-b6f5dda5177b, maybe command ignore response
ERROR 2023-07-01 15:14:13,550 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:14:13,949 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:14:14,529 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:14:14,529 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:14:14,531 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:14:14,532 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:14:14,533 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:14:14,533 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:16:51,554 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:16:51,558 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:16:51,560 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:16:51,565 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:16:51,950 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:16:51,950 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:16:51,951 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:16:51,953 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:16:51,954 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:16:51,955 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:16:51,956 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:16:51,957 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:16:54,439 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:16:54,440 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:17:04,443 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:17:04,742 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:17:04,743 connection.py _safely_send    417 SEND > {"id":"06ae618e-7ef2-49bc-b43d-d8c8f25047f5","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:17:04,749 connection.py _on_message     652 RECV < {"id":"06ae618e-7ef2-49bc-b43d-d8c8f25047f5","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:17:04,750 connection.py _safely_send    417 SEND > {"id":"1759401e-1bec-4ba9-a9e3-c15f21364b93","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:17:06,698 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 15:17:06,701 connection.py _on_message     650 RECV < {"id":"1759401e-1bec-4ba9-a9e3-c15f21364b93","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:17:06,702 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:17:06,703 connection.py _safely_send    417 SEND > {"id":"86dee256-95bd-4741-9c55-429001560f80","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:17:06,708 connection.py _on_message     652 RECV < {"id":"86dee256-95bd-4741-9c55-429001560f80","result":{}}
DEBUG 2023-07-01 15:17:06,710 connection.py _safely_send    417 SEND > {"id":"40bbab8f-576c-440b-86b9-708995806753","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:17:06,735 connection.py _on_message     652 RECV < {"id":"40bbab8f-576c-440b-86b9-708995806753","result":{}}
DEBUG 2023-07-01 15:17:06,736 connection.py _safely_send    417 SEND > {"id":"2fa3d94f-44de-45ef-8395-6c500b30971f","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:17:06,741 connection.py _on_message     652 RECV < {"id":"2fa3d94f-44de-45ef-8395-6c500b30971f","result":{"result":true}}
DEBUG 2023-07-01 15:17:06,742 connection.py _safely_send    417 SEND > {"id":"a59802ac-eb71-4f20-b6ac-f6edd1898acf","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:17:06,744 connection.py _on_message     652 RECV < {"id":"a59802ac-eb71-4f20-b6ac-f6edd1898acf","result":{"result":false}}
DEBUG 2023-07-01 15:17:06,748 connection.py _safely_send    417 SEND > {"id":"fbc89651-e16b-43ca-8116-4eefda792970","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:17:06,753 connection.py _on_message     650 RECV < {"id":"fbc89651-e16b-43ca-8116-4eefda792970","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 15:17:06,755 connection.py _safely_send    417 SEND > {"id":"5820879c-abad-43b1-b21e-99ef502bb669","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:17:06,761 connection.py _on_message     652 RECV < {"id":"5820879c-abad-43b1-b21e-99ef502bb669","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:17:06,762 connection.py _safely_send    417 SEND > {"id":"b6eb6e9f-5b15-4910-ba42-3c3b4dc3a98f","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:17:06,764 connection.py _on_message     652 RECV < {"id":"b6eb6e9f-5b15-4910-ba42-3c3b4dc3a98f","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:17:06,765 connection.py _safely_send    417 SEND > {"id":"4efa1062-6f8c-48a6-b23c-b2bfb6e47257","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:17:06,771 connection.py _on_message     652 RECV < {"id":"4efa1062-6f8c-48a6-b23c-b2bfb6e47257","result":{"result":false}}
DEBUG 2023-07-01 15:17:06,773 connection.py _safely_send    417 SEND > {"id":"8644a1f9-25ff-4f3a-81c2-9e39e847c081","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:17:06,775 connection.py _on_message     652 RECV < {"id":"8644a1f9-25ff-4f3a-81c2-9e39e847c081","result":{}}
DEBUG 2023-07-01 15:17:06,776 connection.py _safely_send    417 SEND > {"id":"3b148ed0-a173-4604-8b20-5b23e2cb51b8","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:17:06,780 connection.py _on_message     652 RECV < {"id":"3b148ed0-a173-4604-8b20-5b23e2cb51b8","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:17:06,782 connection.py _safely_send    417 SEND > {"id":"48b8da6f-b1e4-4087-b699-4187a3f54edc","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:17:07,031 connection.py _on_message     652 RECV < {"id":"48b8da6f-b1e4-4087-b699-4187a3f54edc","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:17:07,035 connection.py _safely_send    417 SEND > {"id":"9f9d5c7d-d10f-4858-a3e3-c0c65795f30e","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:17:07,042 connection.py _on_message     652 RECV < {"id":"9f9d5c7d-d10f-4858-a3e3-c0c65795f30e","result":{}}
DEBUG 2023-07-01 15:17:07,045 connection.py _safely_send    417 SEND > {"id":"eedc42d7-3fa1-4c2c-9fba-31addeb01a53","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:17:07,048 connection.py _on_message     652 RECV < {"id":"eedc42d7-3fa1-4c2c-9fba-31addeb01a53","result":{}}
DEBUG 2023-07-01 15:17:07,050 connection.py _safely_send    417 SEND > {"id":"5fd6817d-ad19-4416-973d-b89ff68f2dc6","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:17:07,058 connection.py _on_message     652 RECV < {"id":"5fd6817d-ad19-4416-973d-b89ff68f2dc6","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:17:07,059 connection.py _safely_send    417 SEND > {"id":"efa5f1e9-ba87-420c-8be1-215fafc6a526","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:17:07,063 connection.py _on_message     650 RECV < {"id":"efa5f1e9-ba87-420c-8be1-215fafc6a526","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:17:07,064 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:17:07,069 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:17:07,070 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:17:07,071 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:17:07,073 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:17:07,075 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:17:07,076 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:17:07,076 connection.py _safely_send    417 SEND > {"id":"3bec48a6-597a-4635-9c3c-43d75b5bdf7c","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:17:07,438 connection.py _on_message     650 RECV < {"id":"3bec48a6-597a-4635-9c3c-43d75b5bdf7c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX3MXsV1L/pbM3s/z2Mbgg3ENRLXF5+2gOtzrmKXomCFKDjqQXUSdGPSIxV0j3Sb9Eq9pJVuTSPdhvIHgXOkFBopp5zzxwmnUiuI1Diu5FBHqApGgOzIIqbSqWugiZzrIuHzYrCDP97nY8+s+8d8rZm9n9evDYS8nL1C/D7P3rNn1qxZ67fWrJnZDzEzeuqpp55WAqkPmoGeeuqpp+VSD1g99dTTiqEesHrqqacVQz1g9dRTTyuGesDqqaeeVgz1gNVTTz2tGOoBq6eeelox1ANWTz31tGKoB6yeeuppxVAPWD311NOKoR6weuqppxVDPWD11FNPK4Z6wOqpp55WDPWA1VNPPa0Y6gGrp556WjHUA1ZPPf...
INFO  2023-07-01 15:17:07,441 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:17:07,443 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 15:17:09,444 page.py    wait_for        321 waitFor: 2.0001728534698486 s
INFO  2023-07-01 15:17:09,444 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:09,445 connection.py _safely_send    417 SEND > {"id":"c245871f-2403-4794-8129-c8b3940910e3","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:09,451 connection.py _on_message     652 RECV < {"id":"c245871f-2403-4794-8129-c8b3940910e3","result":{"elements":[]}}
WARNI 2023-07-01 15:17:09,452 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:10,453 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:10,453 connection.py _safely_send    417 SEND > {"id":"47538899-a017-44cc-bcb3-a147078fa8eb","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:10,458 connection.py _on_message     652 RECV < {"id":"47538899-a017-44cc-bcb3-a147078fa8eb","result":{"elements":[]}}
WARNI 2023-07-01 15:17:10,459 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:11,460 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:11,460 connection.py _safely_send    417 SEND > {"id":"a0a622c0-812a-4fb1-8693-7f7748f6374b","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:11,464 connection.py _on_message     652 RECV < {"id":"a0a622c0-812a-4fb1-8693-7f7748f6374b","result":{"elements":[]}}
WARNI 2023-07-01 15:17:11,465 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:12,466 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:12,466 connection.py _safely_send    417 SEND > {"id":"2f65971e-a5fa-4e3a-85aa-4517dd4ece73","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:12,470 connection.py _on_message     652 RECV < {"id":"2f65971e-a5fa-4e3a-85aa-4517dd4ece73","result":{"elements":[]}}
WARNI 2023-07-01 15:17:12,471 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:13,473 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:13,473 connection.py _safely_send    417 SEND > {"id":"a3206873-e968-4076-8a4f-08946c9005b8","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:13,478 connection.py _on_message     652 RECV < {"id":"a3206873-e968-4076-8a4f-08946c9005b8","result":{"elements":[]}}
WARNI 2023-07-01 15:17:13,478 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:14,479 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:14,479 connection.py _safely_send    417 SEND > {"id":"fbfd3e99-f894-496d-98cd-21381dffa523","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:14,484 connection.py _on_message     652 RECV < {"id":"fbfd3e99-f894-496d-98cd-21381dffa523","result":{"elements":[]}}
WARNI 2023-07-01 15:17:14,484 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:15,485 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:15,485 connection.py _safely_send    417 SEND > {"id":"dc423b64-bca0-4ba0-a32d-4d53d5c8e40e","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:15,489 connection.py _on_message     652 RECV < {"id":"dc423b64-bca0-4ba0-a32d-4d53d5c8e40e","result":{"elements":[]}}
WARNI 2023-07-01 15:17:15,490 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:16,492 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:16,492 connection.py _safely_send    417 SEND > {"id":"b66b9f8f-92d8-4e38-b5a7-2e0a2e751f6f","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:16,497 connection.py _on_message     652 RECV < {"id":"b66b9f8f-92d8-4e38-b5a7-2e0a2e751f6f","result":{"elements":[]}}
WARNI 2023-07-01 15:17:16,498 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:17,498 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:17,498 connection.py _safely_send    417 SEND > {"id":"fc712788-dd2f-4eba-98cf-95cf94b39013","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:17,503 connection.py _on_message     652 RECV < {"id":"fc712788-dd2f-4eba-98cf-95cf94b39013","result":{"elements":[]}}
WARNI 2023-07-01 15:17:17,504 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:18,505 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:17:18,505 connection.py _safely_send    417 SEND > {"id":"bbda190f-f7ec-4ebd-acb3-7f9aefb76400","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:17:18,510 connection.py _on_message     652 RECV < {"id":"bbda190f-f7ec-4ebd-acb3-7f9aefb76400","result":{"elements":[]}}
WARNI 2023-07-01 15:17:18,510 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:17:19,512 page.py    _get_elements_by_css 559 try to get elements: view[bindtap="onClick"]
DEBUG 2023-07-01 15:17:19,513 connection.py _safely_send    417 SEND > {"id":"7e45eea2-aead-4719-b619-d93d88378ef5","method":"Page.getElements","params":{"selector":"view[bindtap=\"onClick\"]","pageId":2}}
DEBUG 2023-07-01 15:17:19,516 connection.py _on_message     652 RECV < {"id":"7e45eea2-aead-4719-b619-d93d88378ef5","result":{"elements":[]}}
WARNI 2023-07-01 15:17:19,517 page.py    _get_elements_by_css 564 Could not found any element 'view[bindtap="onClick"]' you need
DEBUG 2023-07-01 15:17:19,518 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:17:19,518 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:17:19,519 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:17:19,519 connection.py _safely_send    417 SEND > {"id":"0b921090-5216-46ec-83d0-3baef28625eb","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:17:19,649 connection.py _on_message     650 RECV < {"id":"0b921090-5216-46ec-83d0-3baef28625eb","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX2sXtV1J7zWPh/Pcz9s32sbx0yJwUn4cD0jxS5FwQpRcKaD6gSkmnSkgjTS26Sv1Je00lvTSG9D+YPAjJTCRMqEmT8mTKVWEKlxXMmhjlAVjADZESKm0tQ10CSX3JhgLv643/f5OGev94+z99pr7XOusQmEXOaskOvnOWefvddeH7+19jr7nAeJCFpqqaWW1gKZ95uBllpqqaVLpRawWmqppTVDLWC11FJLa4ZawGqppZbWDLWA1VJLLa0ZagGrpZZaWjPUAlZLLbW0ZqgFrJZaamnNUAtYLbXU0pqhFrBaaqmlNUMtYLXUUktrhlrAaqmlltYMtYDVUkstrRlqAaulllpaM9QCVksttbRmqAWsllpqac...
INFO  2023-07-01 15:17:19,651 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:17:19,651 page.py    _get_elements_by_css 559 try to get elements: page
DEBUG 2023-07-01 15:17:19,652 connection.py _safely_send    417 SEND > {"id":"9283e339-18a5-41f3-8b06-b95dc654d87c","method":"Page.getElements","params":{"selector":"page","pageId":2}}
DEBUG 2023-07-01 15:17:19,657 connection.py _on_message     652 RECV < {"id":"9283e339-18a5-41f3-8b06-b95dc654d87c","result":{"elements":[{"elementId":"44183d67-421f-4d1e-8223-183df3148a0d","tagName":"body","nodeId":"2a99c159"}]}}
INFO  2023-07-01 15:17:19,657 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.CustomElement object at 0x0000018749EB8370>]
DEBUG 2023-07-01 15:17:19,658 connection.py _safely_send    417 SEND > {"id":"9d290eb3-3957-48cb-9ce0-773447c17137","method":"Element.getWXML","params":{"type":"inner","elementId":"44183d67-421f-4d1e-8223-183df3148a0d","pageId":2,"nodeId":"2a99c159"}}
DEBUG 2023-07-01 15:17:19,681 connection.py _on_message     650 RECV < {"id":"9d290eb3-3957-48cb-9ce0-773447c17137","result":{"wxml":"<van-sticky is=\"miniprogram_npm/@vant/weapp/sticky/index\"><view class=\" van-sticky sticky-index--van-sticky\" style=\"height:60px;z-index:99\"><view class=\"van-sticky-wrap sticky-index--van-sticky-wrap van-sticky-wrap--fixed sticky-index--van-sticky-wrap--fixed\" style=\"top:0px;z-index:99\"><view class=\"search-contianer\"><view class=\"search\" style=\"height:60px;padding-top:24px\"><view class=\"search-title\" style=\"height:31px;line-...
INFO  2023-07-01 15:17:19,683 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:17:19,683 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 15:17:19,693 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 9, in test_my
    self.page.get_element('view[bindtap="onClick"]').click()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 286, in get_element
    raise MiniElementNotFoundError("element[%s] not found" % selector)
minium.framework.exception.MiniElementNotFoundError: element[view[bindtap="onClick"]] not found
INFO  2023-07-01 15:17:29,700 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:17:29,700 connection.py _safely_send    417 ASYNC_SEND > {"id":"5e76abfc-dae6-496f-959d-56d927c13eb2","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:17:29,702 connection.py _on_message     652 RECV < {"id":"5e76abfc-dae6-496f-959d-56d927c13eb2","result":{}}
INFO  2023-07-01 15:17:29,703 connection.py _handle_async_msg 688 received async msg: 5e76abfc-dae6-496f-959d-56d927c13eb2, maybe command ignore response
ERROR 2023-07-01 15:17:29,725 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:17:30,157 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:17:30,702 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:17:30,702 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:17:30,704 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:17:30,705 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:17:30,706 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:17:30,706 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:18:13,986 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:18:13,991 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:18:13,993 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:18:14,004 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:18:14,567 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:18:14,567 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:18:14,568 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:18:14,570 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:18:14,572 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:18:14,572 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:18:14,574 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:18:14,575 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:18:17,225 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:18:17,226 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:18:27,230 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
ERROR 2023-07-01 15:18:35,294 connection.py _on_error       632 [WinError 10061] 由于目标计算机积极拒绝，无法连接。
INFO  2023-07-01 15:18:35,294 connection.py _ws_run_forever 367 websocket run forever shutdown
DEBUG 2023-07-01 15:18:39,082 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:18:39,085 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:18:39,088 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:18:39,094 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:18:39,472 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:18:39,472 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:18:39,473 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:18:39,475 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:18:39,476 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:18:39,477 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:18:39,478 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:18:39,478 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:18:41,964 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:18:41,965 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:18:51,970 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:18:52,224 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:18:52,226 connection.py _safely_send    417 SEND > {"id":"c252cf1d-099c-4c4f-96ef-49aa1aa70c27","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:18:52,232 connection.py _on_message     652 RECV < {"id":"c252cf1d-099c-4c4f-96ef-49aa1aa70c27","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:18:52,234 connection.py _safely_send    417 SEND > {"id":"1514c7af-c1c6-4ebc-b5e9-c37382d7705c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:18:54,019 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 15:18:54,023 connection.py _on_message     650 RECV < {"id":"1514c7af-c1c6-4ebc-b5e9-c37382d7705c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:18:54,024 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:18:54,025 connection.py _safely_send    417 SEND > {"id":"9f9c4a6b-94a7-4843-b452-5209766e6e12","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:18:54,030 connection.py _on_message     652 RECV < {"id":"9f9c4a6b-94a7-4843-b452-5209766e6e12","result":{}}
DEBUG 2023-07-01 15:18:54,031 connection.py _safely_send    417 SEND > {"id":"be008703-9ffe-49f2-a2e7-965b9e9c3d0b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:18:54,037 connection.py _on_message     652 RECV < {"id":"be008703-9ffe-49f2-a2e7-965b9e9c3d0b","result":{}}
DEBUG 2023-07-01 15:18:54,039 connection.py _safely_send    417 SEND > {"id":"e86ec267-5cc0-4ba0-a82b-846e913364da","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:18:54,043 connection.py _on_message     652 RECV < {"id":"e86ec267-5cc0-4ba0-a82b-846e913364da","result":{"result":true}}
DEBUG 2023-07-01 15:18:54,044 connection.py _safely_send    417 SEND > {"id":"2b4298ff-5745-4116-91b8-59888eb45a6c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:18:54,047 connection.py _on_message     652 RECV < {"id":"2b4298ff-5745-4116-91b8-59888eb45a6c","result":{"result":false}}
DEBUG 2023-07-01 15:18:54,047 connection.py _safely_send    417 SEND > {"id":"aeb2c1bf-766c-4c14-894b-b4f4457ec373","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:18:54,052 connection.py _on_message     650 RECV < {"id":"aeb2c1bf-766c-4c14-894b-b4f4457ec373","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 15:18:54,053 connection.py _safely_send    417 SEND > {"id":"b123f178-22e4-4e30-be3f-65e7158c8ff6","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:18:54,055 connection.py _on_message     652 RECV < {"id":"b123f178-22e4-4e30-be3f-65e7158c8ff6","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:18:54,056 connection.py _safely_send    417 SEND > {"id":"f7c145e8-d98c-474d-ad32-5aa47d8a2466","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:18:54,058 connection.py _on_message     652 RECV < {"id":"f7c145e8-d98c-474d-ad32-5aa47d8a2466","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:18:54,059 connection.py _safely_send    417 SEND > {"id":"f8abacba-ba62-48b2-a0c9-63bb108d7ebf","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:18:54,063 connection.py _on_message     652 RECV < {"id":"f8abacba-ba62-48b2-a0c9-63bb108d7ebf","result":{"result":false}}
DEBUG 2023-07-01 15:18:54,065 connection.py _safely_send    417 SEND > {"id":"c967e03a-30a6-4224-b0f8-19db890f4713","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:18:54,068 connection.py _on_message     652 RECV < {"id":"c967e03a-30a6-4224-b0f8-19db890f4713","result":{}}
DEBUG 2023-07-01 15:18:54,069 connection.py _safely_send    417 SEND > {"id":"7b7a4b04-e30e-4fd7-bf67-c217d6ce8677","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:18:54,072 connection.py _on_message     652 RECV < {"id":"7b7a4b04-e30e-4fd7-bf67-c217d6ce8677","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:18:54,075 connection.py _safely_send    417 SEND > {"id":"118a8ef5-ef33-4034-b9ef-ef268eba283f","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:18:54,307 connection.py _on_message     652 RECV < {"id":"118a8ef5-ef33-4034-b9ef-ef268eba283f","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:18:54,310 connection.py _safely_send    417 SEND > {"id":"c9bcea79-420a-44b8-aabb-b6c264bd7aef","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:18:54,316 connection.py _on_message     652 RECV < {"id":"c9bcea79-420a-44b8-aabb-b6c264bd7aef","result":{}}
DEBUG 2023-07-01 15:18:54,317 connection.py _safely_send    417 SEND > {"id":"697e4a74-1be2-494a-bcf5-6f34d66dfe74","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:18:54,319 connection.py _on_message     652 RECV < {"id":"697e4a74-1be2-494a-bcf5-6f34d66dfe74","result":{}}
DEBUG 2023-07-01 15:18:54,322 connection.py _safely_send    417 SEND > {"id":"5db1f084-9d29-43ab-bb14-f91a67c63298","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:18:54,325 connection.py _on_message     652 RECV < {"id":"5db1f084-9d29-43ab-bb14-f91a67c63298","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:18:54,326 connection.py _safely_send    417 SEND > {"id":"00bde18f-2004-406c-bcfd-0e858aa807d2","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:18:54,331 connection.py _on_message     650 RECV < {"id":"00bde18f-2004-406c-bcfd-0e858aa807d2","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:18:54,332 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:18:54,337 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:18:54,338 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:18:54,339 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:18:54,339 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:18:54,344 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:18:54,345 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:18:54,346 connection.py _safely_send    417 SEND > {"id":"e06421d0-939a-4295-acc6-210582762f88","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:18:54,592 connection.py _on_message     650 RECV < {"id":"e06421d0-939a-4295-acc6-210582762f88","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvWmQXeV17/1fa+8z9Dyou9WaGolBSAhjSxYyUoBrhB1i2eYmwrlVgapb9cbOW5UXJ1WvRVz1xoQPGO5NORBX+Zp7P1wTVyUFropl5V4Zi0scJAXhFpaFhDGtCYmWWkJq9azu091n2Hut98Ozp9ODaIEGjnh+NnD6nD08+xn+z1rrGTapKiwWi6US4GudAIvFYpkrVrAsFkvFYAXLYrFUDFawLBZLxWAFy2KxVAxWsCwWS8VgBctisVQMVrAsFkvFYAXLYrFUDFawLBZLxWAFy2KxVAxWsCwWS8VgBctisVQMVrAsFkvFYAXLYrFUDFawLBZLxWAFy2KxVAxWsCwWS8VgBctisVQMVrAsFkvFYAXLYrFUDF...
INFO  2023-07-01 15:18:54,596 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:18:54,597 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 15:18:56,600 page.py    wait_for        321 waitFor: 2.000413417816162 s
INFO  2023-07-01 15:18:56,600 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:18:56,602 connection.py _safely_send    417 SEND > {"id":"e6b7967b-3f7b-4e5c-a9f2-3dc114d67e19","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:18:56,609 connection.py _on_message     652 RECV < {"id":"e6b7967b-3f7b-4e5c-a9f2-3dc114d67e19","result":{"elements":[]}}
WARNI 2023-07-01 15:18:56,610 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:18:57,612 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:18:57,612 connection.py _safely_send    417 SEND > {"id":"ac5accaa-1cb7-4dbc-8011-97dd93a8e874","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:18:57,616 connection.py _on_message     652 RECV < {"id":"ac5accaa-1cb7-4dbc-8011-97dd93a8e874","result":{"elements":[]}}
WARNI 2023-07-01 15:18:57,617 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:18:58,618 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:18:58,618 connection.py _safely_send    417 SEND > {"id":"7623815b-bd4a-4ebf-818d-7e2271f25b92","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:18:58,623 connection.py _on_message     652 RECV < {"id":"7623815b-bd4a-4ebf-818d-7e2271f25b92","result":{"elements":[]}}
WARNI 2023-07-01 15:18:58,623 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:18:59,624 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:18:59,624 connection.py _safely_send    417 SEND > {"id":"a2f6fb9d-9f6c-4425-9560-7695985370e7","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:18:59,627 connection.py _on_message     652 RECV < {"id":"a2f6fb9d-9f6c-4425-9560-7695985370e7","result":{"elements":[]}}
WARNI 2023-07-01 15:18:59,628 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:00,628 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:19:00,628 connection.py _safely_send    417 SEND > {"id":"72c27a8e-9cbb-411a-a516-76ec073ef375","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:19:00,633 connection.py _on_message     652 RECV < {"id":"72c27a8e-9cbb-411a-a516-76ec073ef375","result":{"elements":[]}}
WARNI 2023-07-01 15:19:00,634 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:01,634 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:19:01,634 connection.py _safely_send    417 SEND > {"id":"a97c7c6a-0318-4da7-8f92-0a381076a9a9","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:19:01,639 connection.py _on_message     652 RECV < {"id":"a97c7c6a-0318-4da7-8f92-0a381076a9a9","result":{"elements":[]}}
WARNI 2023-07-01 15:19:01,640 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:02,642 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:19:02,642 connection.py _safely_send    417 SEND > {"id":"459bde94-f7e9-46cb-9fe5-7947e34ba6c5","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:19:02,647 connection.py _on_message     652 RECV < {"id":"459bde94-f7e9-46cb-9fe5-7947e34ba6c5","result":{"elements":[]}}
WARNI 2023-07-01 15:19:02,648 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:03,649 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:19:03,649 connection.py _safely_send    417 SEND > {"id":"d2b36975-aaae-499c-8032-9935c5b17deb","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:19:03,653 connection.py _on_message     652 RECV < {"id":"d2b36975-aaae-499c-8032-9935c5b17deb","result":{"elements":[]}}
WARNI 2023-07-01 15:19:03,653 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:04,654 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:19:04,654 connection.py _safely_send    417 SEND > {"id":"bb337565-2c49-4747-9d00-81b921b5eaf7","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:19:04,659 connection.py _on_message     652 RECV < {"id":"bb337565-2c49-4747-9d00-81b921b5eaf7","result":{"elements":[]}}
WARNI 2023-07-01 15:19:04,660 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:05,661 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:19:05,661 connection.py _safely_send    417 SEND > {"id":"04a14dbc-a5b8-4b64-8382-dc04e9076fae","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:19:05,666 connection.py _on_message     652 RECV < {"id":"04a14dbc-a5b8-4b64-8382-dc04e9076fae","result":{"elements":[]}}
WARNI 2023-07-01 15:19:05,667 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:19:06,668 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="输入关键词搜索"]
DEBUG 2023-07-01 15:19:06,669 connection.py _safely_send    417 SEND > {"id":"dd512c70-cb6f-434f-8901-0fbe3551f8c9","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8f93\u5165\u5173\u952e\u8bcd\u641c\u7d22\"]","pageId":2}}
DEBUG 2023-07-01 15:19:06,675 connection.py _on_message     652 RECV < {"id":"dd512c70-cb6f-434f-8901-0fbe3551f8c9","result":{"elements":[{"elementId":"7e1f2262-e63f-4cc2-a850-1bf1259ae65f","tagName":"input"}]}}
INFO  2023-07-01 15:19:06,675 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000238A41C4310>]
DEBUG 2023-07-01 15:19:06,676 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:19:06,677 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:19:06,677 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:19:06,678 connection.py _safely_send    417 SEND > {"id":"0de985cd-aa0c-4725-8121-3a67b6418464","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:19:06,816 connection.py _on_message     650 RECV < {"id":"0de985cd-aa0c-4725-8121-3a67b6418464","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX2QXdV1L/hb+97uvv0ldatF07KxjGwMkhUnliwrRmMcI15CRTZURTiZClS9qRc7M5MheTMvIq6amPCHA+9VORBX+YX3/njmZSopcE2MlZRM5EdljAgwkkcRErEtCzC4sSyQ1ProltQft7vv2Wv+WB97n9stLGEwad5Zdgnp3nvO2XvttX7rt9b+OMTMqKSSSipZChLe7gZUUkkllVyqVIBVSSWVLBmpAKuSSipZMlIBViWVVLJkpAKsSiqpZMlIBViVVFLJkpEKsCqppJIlIxVgVVJJJUtGKsCqpJJKloxUgFVJJZUsGakAq5JKKlkyUgFWJZVUsmSkAqxKKqlkyUgFWJVUUsmSkQqwKqmkkiUjFWBVUk...
INFO  2023-07-01 15:19:06,818 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:19:06,819 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:19:06,819 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 15:19:16,828 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:19:16,828 connection.py _safely_send    417 ASYNC_SEND > {"id":"e66bf5c4-fbb1-4339-91c2-a1a1c5ca7981","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:19:16,831 connection.py _on_message     652 RECV < {"id":"e66bf5c4-fbb1-4339-91c2-a1a1c5ca7981","result":{}}
INFO  2023-07-01 15:19:16,832 connection.py _handle_async_msg 688 received async msg: e66bf5c4-fbb1-4339-91c2-a1a1c5ca7981, maybe command ignore response
ERROR 2023-07-01 15:19:16,852 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:19:17,326 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:19:17,830 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:19:17,830 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:19:17,832 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:19:17,833 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:19:17,833 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:19:17,834 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:23:56,587 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:23:56,591 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:23:56,592 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:23:56,598 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:23:56,965 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:23:56,966 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:23:56,966 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:23:56,968 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:23:56,969 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:23:56,970 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:23:56,971 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:23:56,971 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-11.14.0" --auto-port 9420
INFO  2023-07-01 15:23:59,457 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:23:59,457 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:24:09,459 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:24:09,770 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:24:09,771 connection.py _safely_send    417 SEND > {"id":"2e70bd92-b098-4c04-af80-80c3b6764f08","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:24:09,776 connection.py _on_message     652 RECV < {"id":"2e70bd92-b098-4c04-af80-80c3b6764f08","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:24:09,777 connection.py _safely_send    417 SEND > {"id":"5113604e-9139-40cd-93e5-eacb9b2c030a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:24:10,414 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{}}
DEBUG 2023-07-01 15:24:10,420 connection.py _on_message     650 RECV < {"id":"5113604e-9139-40cd-93e5-eacb9b2c030a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:24:10,421 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:24:10,422 connection.py _safely_send    417 SEND > {"id":"39ecc751-891b-42b2-885e-466d638c3160","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:24:10,429 connection.py _on_message     652 RECV < {"id":"39ecc751-891b-42b2-885e-466d638c3160","result":{}}
DEBUG 2023-07-01 15:24:10,430 connection.py _safely_send    417 SEND > {"id":"07bb203b-dff1-4384-b16a-76b0cd2d3941","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:24:10,435 connection.py _on_message     652 RECV < {"id":"07bb203b-dff1-4384-b16a-76b0cd2d3941","result":{}}
DEBUG 2023-07-01 15:24:10,436 connection.py _safely_send    417 SEND > {"id":"7a763e78-0fee-4d94-9f36-fd2eb0099bc3","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:24:10,439 connection.py _on_message     652 RECV < {"id":"7a763e78-0fee-4d94-9f36-fd2eb0099bc3","result":{"result":true}}
DEBUG 2023-07-01 15:24:10,441 connection.py _safely_send    417 SEND > {"id":"1ebce657-edb9-4970-9846-9d288d40b763","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:24:10,443 connection.py _on_message     652 RECV < {"id":"1ebce657-edb9-4970-9846-9d288d40b763","result":{"result":false}}
DEBUG 2023-07-01 15:24:10,446 connection.py _safely_send    417 SEND > {"id":"907a155b-46bd-4c6d-b45a-e3a7e7be7d85","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:24:10,450 connection.py _on_message     650 RECV < {"id":"907a155b-46bd-4c6d-b45a-e3a7e7be7d85","result":{"result":{"pages":["pages/start/start","pages/shop/select","pages/index/index","pages/notice/index","pages/notice/show","pages/category/category","pages/goods/list","pages/goods/list-vop","pages/goods/fav","pages/goods-details/index","pages/goods-details/vop","pages/shop-cart/index","pages/to-pay-order/index","pages/select-address/index","pages/address-add/index","pages/order-list/index","pages/order-details/index","pages/order-details/scan-result","...
DEBUG 2023-07-01 15:24:10,451 connection.py _safely_send    417 SEND > {"id":"2787a6ce-36e1-4b27-9a67-495bc6e5c1a1","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:24:10,454 connection.py _on_message     652 RECV < {"id":"2787a6ce-36e1-4b27-9a67-495bc6e5c1a1","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:24:10,458 connection.py _safely_send    417 SEND > {"id":"075d91b8-d2aa-4381-a9a8-ed01e3242c99","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:24:10,459 connection.py _on_message     652 RECV < {"id":"075d91b8-d2aa-4381-a9a8-ed01e3242c99","result":{"version":"1.06.2301160","SDKVersion":"2.16.0"}}
DEBUG 2023-07-01 15:24:10,460 connection.py _safely_send    417 SEND > {"id":"0c0b2a3f-b34d-4039-8ed5-0d8d666302d4","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:24:10,464 connection.py _on_message     652 RECV < {"id":"0c0b2a3f-b34d-4039-8ed5-0d8d666302d4","result":{"result":false}}
DEBUG 2023-07-01 15:24:10,466 connection.py _safely_send    417 SEND > {"id":"a61fdfc7-b85f-43b8-aca9-b335472bb279","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:24:10,470 connection.py _on_message     652 RECV < {"id":"a61fdfc7-b85f-43b8-aca9-b335472bb279","result":{}}
DEBUG 2023-07-01 15:24:10,471 connection.py _safely_send    417 SEND > {"id":"90a5a741-209b-4069-897e-aa75915439bd","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:24:10,474 connection.py _on_message     652 RECV < {"id":"90a5a741-209b-4069-897e-aa75915439bd","result":{"pageId":2,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:24:10,475 connection.py _safely_send    417 SEND > {"id":"0090fac3-4232-4c40-99eb-c24bafe7fd37","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:24:10,735 connection.py _on_message     652 RECV < {"id":"0090fac3-4232-4c40-99eb-c24bafe7fd37","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:24:10,738 connection.py _safely_send    417 SEND > {"id":"c05e7f4d-8dbd-4114-9b0a-f2b473aac450","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:24:10,744 connection.py _on_message     652 RECV < {"id":"c05e7f4d-8dbd-4114-9b0a-f2b473aac450","result":{}}
DEBUG 2023-07-01 15:24:10,744 connection.py _safely_send    417 SEND > {"id":"5a8e3f84-4c00-4285-9aab-596e02afc875","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:24:10,747 connection.py _on_message     652 RECV < {"id":"5a8e3f84-4c00-4285-9aab-596e02afc875","result":{}}
DEBUG 2023-07-01 15:24:10,749 connection.py _safely_send    417 SEND > {"id":"f4a7d2e2-5c87-4a1a-b144-9814a2796dcc","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:24:10,751 connection.py _on_message     652 RECV < {"id":"f4a7d2e2-5c87-4a1a-b144-9814a2796dcc","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:24:10,752 connection.py _safely_send    417 SEND > {"id":"9deb97b0-f436-4d0c-bb2b-3baf82336c39","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:24:10,756 connection.py _on_message     650 RECV < {"id":"9deb97b0-f436-4d0c-bb2b-3baf82336c39","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":520,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.16.0","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:24:10,757 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:24:10,763 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:24:10,764 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:24:10,765 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:24:10,765 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:24:10,767 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:24:10,767 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:24:10,768 connection.py _safely_send    417 SEND > {"id":"2b0edbb6-7434-4b9e-9cfa-30394f7cda44","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:24:11,062 connection.py _on_message     650 RECV < {"id":"2b0edbb6-7434-4b9e-9cfa-30394f7cda44","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX3MXtV1J/pbe5/zPI8/CDYQ10hcXzxtAZcZKXYpClaIgqMOqpMg1aSjKUgj3Sa9Ui9ppVvTSLeh/EFgRkphImXKzB8TplIriNQQV3KoI1QFI0B2hIipNHUNNJFzXSR83wB2wB/Px9l73T/2Xnuvfc55jQ0m5GXOSvD7POfsj7XXXuu31l57n/MQM2OggQYaaCWQ+aAZGGiggQY6XxoAa6CBBloxNADWQAMNtGJoAKyBBhpoxdAAWAMNNNCKoQGwBhpooBVDA2ANNNBAK4YGwBpooIFWDA2ANdBAA60YGgBroIEGWjE0ANZAAw20YmgArIEGGmjF0ABYAw000IqhAbAGGmigFUMDYA000EArhgbAGmiggV...
INFO  2023-07-01 15:24:11,065 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:24:11,067 minitest.py _miniSetUp      394 =========case: test_my start=========
DEBUG 2023-07-01 15:24:13,067 page.py    wait_for        321 waitFor: 2.000173807144165 s
INFO  2023-07-01 15:24:13,067 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:13,069 connection.py _safely_send    417 SEND > {"id":"c3d464b6-7101-4dec-9a62-8d62d82e16eb","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:13,075 connection.py _on_message     652 RECV < {"id":"c3d464b6-7101-4dec-9a62-8d62d82e16eb","result":{"elements":[]}}
WARNI 2023-07-01 15:24:13,076 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:14,077 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:14,077 connection.py _safely_send    417 SEND > {"id":"45042cd2-c233-4741-9920-261900875bf1","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:14,082 connection.py _on_message     652 RECV < {"id":"45042cd2-c233-4741-9920-261900875bf1","result":{"elements":[]}}
WARNI 2023-07-01 15:24:14,083 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:15,084 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:15,084 connection.py _safely_send    417 SEND > {"id":"e88cf07a-6597-4b12-b84e-2fa378f14099","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:15,089 connection.py _on_message     652 RECV < {"id":"e88cf07a-6597-4b12-b84e-2fa378f14099","result":{"elements":[]}}
WARNI 2023-07-01 15:24:15,090 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:16,090 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:16,090 connection.py _safely_send    417 SEND > {"id":"5e0ee1b8-2563-4d4e-b34e-b2a61eeaab17","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:16,094 connection.py _on_message     652 RECV < {"id":"5e0ee1b8-2563-4d4e-b34e-b2a61eeaab17","result":{"elements":[]}}
WARNI 2023-07-01 15:24:16,095 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:17,096 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:17,096 connection.py _safely_send    417 SEND > {"id":"fc7dd0d1-d35b-4d6c-9b5f-1a7b0e508987","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:17,100 connection.py _on_message     652 RECV < {"id":"fc7dd0d1-d35b-4d6c-9b5f-1a7b0e508987","result":{"elements":[]}}
WARNI 2023-07-01 15:24:17,100 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:18,102 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:18,102 connection.py _safely_send    417 SEND > {"id":"5c20b458-53d0-4ac3-b80c-973e7fb76b63","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:18,106 connection.py _on_message     652 RECV < {"id":"5c20b458-53d0-4ac3-b80c-973e7fb76b63","result":{"elements":[]}}
WARNI 2023-07-01 15:24:18,108 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:19,109 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:19,109 connection.py _safely_send    417 SEND > {"id":"7badb1ee-54b6-4c8b-9d0d-1d504066716d","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:19,113 connection.py _on_message     652 RECV < {"id":"7badb1ee-54b6-4c8b-9d0d-1d504066716d","result":{"elements":[]}}
WARNI 2023-07-01 15:24:19,114 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:20,114 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:20,114 connection.py _safely_send    417 SEND > {"id":"b7a5a0e4-e7fd-4d78-9cdc-12e7e3e2a028","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:20,118 connection.py _on_message     652 RECV < {"id":"b7a5a0e4-e7fd-4d78-9cdc-12e7e3e2a028","result":{"elements":[]}}
WARNI 2023-07-01 15:24:20,119 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:21,120 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:21,120 connection.py _safely_send    417 SEND > {"id":"4575896d-ccbb-4030-b409-5a814858d2ca","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:21,125 connection.py _on_message     652 RECV < {"id":"4575896d-ccbb-4030-b409-5a814858d2ca","result":{"elements":[]}}
WARNI 2023-07-01 15:24:21,126 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:22,128 page.py    _get_elements_by_css 559 try to get elements: image[bindtap="clickAdPositionIndexPop"]
DEBUG 2023-07-01 15:24:22,129 connection.py _safely_send    417 SEND > {"id":"9d79f962-1f40-4630-9d1c-4b25c011f39e","method":"Page.getElements","params":{"selector":"image[bindtap=\"clickAdPositionIndexPop\"]","pageId":2}}
DEBUG 2023-07-01 15:24:22,133 connection.py _on_message     652 RECV < {"id":"9d79f962-1f40-4630-9d1c-4b25c011f39e","result":{"elements":[]}}
WARNI 2023-07-01 15:24:22,134 page.py    _get_elements_by_css 564 Could not found any element 'image[bindtap="clickAdPositionIndexPop"]' you need
INFO  2023-07-01 15:24:23,135 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="输入关键词搜索"]
DEBUG 2023-07-01 15:24:23,136 connection.py _safely_send    417 SEND > {"id":"7bd14aa4-0aae-4ef1-b816-f584faa7556d","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8f93\u5165\u5173\u952e\u8bcd\u641c\u7d22\"]","pageId":2}}
DEBUG 2023-07-01 15:24:23,142 connection.py _on_message     652 RECV < {"id":"7bd14aa4-0aae-4ef1-b816-f584faa7556d","result":{"elements":[{"elementId":"9c62c082-958f-4dce-a629-ba1de90b41b4","tagName":"input"}]}}
INFO  2023-07-01 15:24:23,143 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000157F49B8340>]
DEBUG 2023-07-01 15:24:23,144 connection.py _safely_send    417 SEND > {"id":"a4a6915a-c015-4b1d-a7d0-731e3054b172","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u4ee5\u60fa\u60fa\u76f8\u60dc"},"elementId":"9c62c082-958f-4dce-a629-ba1de90b41b4","pageId":2}}
DEBUG 2023-07-01 15:24:23,147 connection.py _on_message     652 RECV < {"id":"a4a6915a-c015-4b1d-a7d0-731e3054b172","result":{}}
DEBUG 2023-07-01 15:24:23,149 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:24:23,149 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:24:23,151 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:24:23,151 connection.py _safely_send    417 SEND > {"id":"ff361e67-5692-440f-b970-b770e345dcde","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:24:23,177 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"warn","args":["Component \"pages/index/index\" does not have a method \"bindinput\" to handle event \"input\"."]}}
DEBUG 2023-07-01 15:24:23,322 connection.py _on_message     650 RECV < {"id":"ff361e67-5692-440f-b970-b770e345dcde","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAKKCAIAAACceJr7AAAAAXNSR0IArs4c6QAAIABJREFUeJzsvX2QXdV1L/hb+97uvv0ldatF07KxjGwMkhUnliwrRmMcI15CRTZURTiZClS9qRc7M5MheTMvIq6amPCHA+9VORBX+YX3/njmZSopcE2MlZRM5EdljAgwkkcRErEtCzC4sSyQ1ProltQft7vv2Wv+WB97n9stLGEwad5Zdgnp3nvO2XvttX7rt9b+OMTMqKSSSipZChLe7gZUUkkllVyqVIBVSSWVLBmpAKuSSipZMlIBViWVVLJkpAKsSiqpZMlIBViVVFLJkpEKsCqppJIlIxVgVVJJJUtGKsCqpJJKloxUgFVJJZUsGakAq5JKKlkyUgFWJZVUsmSkAqxKKqlkyUgFWJVUUsmSkQqwKqmkkiUjFWBVUk...
INFO  2023-07-01 15:24:23,325 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:24:23,325 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:24:23,326 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 15:24:33,334 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:24:33,334 connection.py _safely_send    417 ASYNC_SEND > {"id":"e04ede80-e583-48b1-8868-b5823474a2e5","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:24:33,337 connection.py _on_message     652 RECV < {"id":"e04ede80-e583-48b1-8868-b5823474a2e5","result":{}}
INFO  2023-07-01 15:24:33,338 connection.py _handle_async_msg 688 received async msg: e04ede80-e583-48b1-8868-b5823474a2e5, maybe command ignore response
ERROR 2023-07-01 15:24:33,358 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:24:33,763 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:24:34,338 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:24:34,338 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:24:34,339 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:24:34,341 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:24:34,341 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:24:34,342 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 15:32:32,430 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:32:32,433 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:32:32,434 miniconfig.py from_file       131 load config from config.json
DEBUG 2023-07-01 15:33:06,151 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 15:33:06,154 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 15:33:06,156 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 15:33:06,162 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 15:33:06,530 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 15:33:06,531 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 15:33:06,532 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 15:33:06,533 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 15:33:06,535 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 15:33:06,535 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 15:33:06,537 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 15:33:06,538 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 15:33:09,078 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 15:33:09,079 minium_object.py _do_shell       87  out:

INFO  2023-07-01 15:33:19,082 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 15:33:19,188 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 15:33:19,188 connection.py _safely_send    417 SEND > {"id":"d7f43528-8247-4069-9431-5e6939706a3f","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:33:19,192 connection.py _on_message     652 RECV < {"id":"d7f43528-8247-4069-9431-5e6939706a3f","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 15:33:19,193 connection.py _safely_send    417 SEND > {"id":"59a5fe71-846f-40a1-91e9-6dc86b96211c","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:33:19,196 connection.py _on_message     650 RECV < {"id":"59a5fe71-846f-40a1-91e9-6dc86b96211c","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 15:33:19,197 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 15:33:19,197 connection.py _safely_send    417 SEND > {"id":"606ef8d3-5355-46eb-886e-7302d10c422f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 15:33:19,199 connection.py _on_message     652 RECV < {"id":"606ef8d3-5355-46eb-886e-7302d10c422f","result":{}}
DEBUG 2023-07-01 15:33:19,200 connection.py _safely_send    417 SEND > {"id":"deed6b47-d2f3-4d35-a7df-0f3b32a9cbea","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 15:33:19,204 connection.py _on_message     652 RECV < {"id":"deed6b47-d2f3-4d35-a7df-0f3b32a9cbea","result":{}}
DEBUG 2023-07-01 15:33:19,205 connection.py _safely_send    417 SEND > {"id":"b2a466fb-5335-41ca-8182-e3e9a129b23b","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 15:33:19,207 connection.py _on_message     652 RECV < {"id":"b2a466fb-5335-41ca-8182-e3e9a129b23b","result":{"result":true}}
DEBUG 2023-07-01 15:33:19,211 connection.py _safely_send    417 SEND > {"id":"ef456ffc-f003-410c-b483-373b55969e98","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 15:33:19,213 connection.py _on_message     652 RECV < {"id":"ef456ffc-f003-410c-b483-373b55969e98","result":{"result":false}}
DEBUG 2023-07-01 15:33:19,214 connection.py _safely_send    417 SEND > {"id":"5d870e89-f923-4715-b978-58365028e754","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 15:33:19,216 connection.py _on_message     650 RECV < {"id":"5d870e89-f923-4715-b978-58365028e754","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 15:33:19,216 connection.py _safely_send    417 SEND > {"id":"67c2264d-ec26-4bee-88ad-1df679be1101","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 15:33:19,218 connection.py _on_message     652 RECV < {"id":"67c2264d-ec26-4bee-88ad-1df679be1101","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 15:33:19,221 connection.py _safely_send    417 SEND > {"id":"825ee6dd-b242-472f-b9ee-b7d0a8bf68a5","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 15:33:19,222 connection.py _on_message     652 RECV < {"id":"825ee6dd-b242-472f-b9ee-b7d0a8bf68a5","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 15:33:19,223 connection.py _safely_send    417 SEND > {"id":"5f9fdf49-fd4d-4594-8ad5-3f5cbd92c237","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 15:33:19,226 connection.py _on_message     652 RECV < {"id":"5f9fdf49-fd4d-4594-8ad5-3f5cbd92c237","result":{"result":false}}
DEBUG 2023-07-01 15:33:19,227 connection.py _safely_send    417 SEND > {"id":"0b210d17-58b6-4802-8c06-bbf2d0f1abe5","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 15:33:19,230 connection.py _on_message     652 RECV < {"id":"0b210d17-58b6-4802-8c06-bbf2d0f1abe5","result":{}}
DEBUG 2023-07-01 15:33:19,232 connection.py _safely_send    417 SEND > {"id":"4e5f8efc-c5f6-4c4a-8787-91c686bf98fc","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 15:33:19,237 connection.py _on_message     652 RECV < {"id":"4e5f8efc-c5f6-4c4a-8787-91c686bf98fc","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 15:33:19,238 connection.py _safely_send    417 SEND > {"id":"f9c2965a-fb02-4077-9a85-cca8d2ab125f","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 15:33:19,486 connection.py _on_message     652 RECV < {"id":"f9c2965a-fb02-4077-9a85-cca8d2ab125f","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 15:33:19,487 connection.py _safely_send    417 SEND > {"id":"ca15ba39-5e6e-4483-b890-a437e1fa30c0","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 15:33:19,491 connection.py _on_message     652 RECV < {"id":"ca15ba39-5e6e-4483-b890-a437e1fa30c0","result":{}}
DEBUG 2023-07-01 15:33:19,492 connection.py _safely_send    417 SEND > {"id":"43208ca9-110d-4ae5-b6b9-e994b6bc1d23","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 15:33:19,496 connection.py _on_message     652 RECV < {"id":"43208ca9-110d-4ae5-b6b9-e994b6bc1d23","result":{}}
DEBUG 2023-07-01 15:33:19,499 connection.py _safely_send    417 SEND > {"id":"ef449f9a-ec2b-41aa-b442-71f2f34f2a03","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 15:33:19,503 connection.py _on_message     652 RECV < {"id":"ef449f9a-ec2b-41aa-b442-71f2f34f2a03","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 15:33:19,504 connection.py _safely_send    417 SEND > {"id":"3d9ce25b-0750-45ba-a527-b8a5cc8da7c6","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 15:33:19,508 connection.py _on_message     650 RECV < {"id":"3d9ce25b-0750-45ba-a527-b8a5cc8da7c6","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 15:33:19,509 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 15:33:19,528 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 15:33:19,529 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 15:33:19,530 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 15:33:19,532 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 15:33:19,533 minitest.py capture         673 capture setup.png
INFO  2023-07-01 15:33:19,533 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:33:19,534 connection.py _safely_send    417 SEND > {"id":"4c059626-b661-44b0-a5ab-d593945bb7bc","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:33:19,587 connection.py _on_message     650 RECV < {"id":"4c059626-b661-44b0-a5ab-d593945bb7bc","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 15:33:19,588 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:33:19,589 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 15:33:19,590 app.py     navigate_to     528 NavigateTo: /pages/list/index?title=生日&id=5b8e37e34b640a63b33272dc
DEBUG 2023-07-01 15:33:19,591 connection.py _safely_send    417 ASYNC_SEND > {"id":"22df3782-38ef-4139-a0f6-3ab8dfc37572","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/list/index?title=\u751f\u65e5&id=5b8e37e34b640a63b33272dc"}]}}
DEBUG 2023-07-01 15:33:19,643 connection.py _on_message     652 RECV < {"id":"22df3782-38ef-4139-a0f6-3ab8dfc37572","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 15:33:19,643 connection.py _handle_async_msg 688 received async msg: 22df3782-38ef-4139-a0f6-3ab8dfc37572
DEBUG 2023-07-01 15:33:19,737 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"title":"生日","id":"5b8e37e34b640a63b33272dc"}]}}
DEBUG 2023-07-01 15:33:19,739 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 15:33:19,743 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 15:33:19,957 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/list/index","query":{"title":"%E7%94%9F%E6%97%A5","id":"5b8e37e34b640a63b33272dc"},"openType":"navigateTo","__ts__":1688196799941},1688196799942]}}
INFO  2023-07-01 15:33:19,959 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/list/index', 'query': {'title': '%E7%94%9F%E6%97%A5', 'id': '5b8e37e34b640a63b33272dc'}, 'openType': 'navigateTo', '__ts__': 1688196799941}, 1688196799942]}
DEBUG 2023-07-01 15:33:19,960 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 15:33:19,962 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 15:33:19,963 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 15:33:19,964 connection.py _safely_send    417 SEND > {"id":"9a736774-fe8b-4a47-af0f-32a6d6a75c13","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 15:33:20,029 connection.py _on_message     650 RECV < {"id":"9a736774-fe8b-4a47-af0f-32a6d6a75c13","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAEZxJREFUeJzt3c9r1emhx/Hn5FdTO2qGgC0zcGnAderiC73otBQ7ELDU0EKhi9RFKtxdkj9g4sL8AzGrS9EsNIVu42JAKIHe20gXBypn2VvIhdK7sKQxoxlHTXLu4hg1P3XG6eR8Jq/XRs/x/EqenPd5nud8T6wtLy8XgAQdh/0AAN5UrdlsHvZjAHgjZlhADMECYggWEEOwgBiCBcQQLCCGYAExBAuIIVhADMECYggWEEOwgBiCBcQQLCBGGwTr3nRVjc/f33ZeY6aqqunGPtdozFTVzPZ/3OtGOFzLt8ersXm/H/JtNGaqvb+H9+fHj+QPfNdhP4DS+K+5cnbyg1OvnHV//sbNUsrc6Mz5+tjgG9zG8vzsrhvZx5MnTx...
INFO  2023-07-01 15:33:20,031 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 15:33:20,032 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 15:33:20,033 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 15:33:30,042 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 15:33:30,042 connection.py _safely_send    417 ASYNC_SEND > {"id":"eeec215b-5871-463c-8c07-0f0eb7391819","method":"Tool.close","params":{}}
DEBUG 2023-07-01 15:33:30,046 connection.py _on_message     652 RECV < {"id":"eeec215b-5871-463c-8c07-0f0eb7391819","result":{}}
INFO  2023-07-01 15:33:30,046 connection.py _handle_async_msg 688 received async msg: eeec215b-5871-463c-8c07-0f0eb7391819, maybe command ignore response
ERROR 2023-07-01 15:33:30,068 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 15:33:30,511 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 15:33:31,044 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 15:33:31,044 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 15:33:31,045 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 15:33:31,047 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 15:33:31,048 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 15:33:31,049 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:33:25,245 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:33:25,249 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:33:25,251 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:33:25,257 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:33:25,628 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:33:25,628 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:33:25,629 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:33:25,631 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:33:25,632 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:33:25,632 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:33:25,634 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:33:25,635 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:33:28,252 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:33:28,253 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:33:38,255 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:33:38,384 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:33:38,385 connection.py _safely_send    417 SEND > {"id":"bf1069bc-4cb5-4472-b3ce-050d83e26f02","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:33:38,388 connection.py _on_message     652 RECV < {"id":"bf1069bc-4cb5-4472-b3ce-050d83e26f02","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:33:38,389 connection.py _safely_send    417 SEND > {"id":"79e0033d-6b40-4077-a25a-c276b882d2dc","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:33:38,392 connection.py _on_message     650 RECV < {"id":"79e0033d-6b40-4077-a25a-c276b882d2dc","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:33:38,393 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:33:38,393 connection.py _safely_send    417 SEND > {"id":"8b5c7e35-6dd7-454f-bfce-e37c160c3a52","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:33:38,397 connection.py _on_message     652 RECV < {"id":"8b5c7e35-6dd7-454f-bfce-e37c160c3a52","result":{}}
DEBUG 2023-07-01 17:33:38,397 connection.py _safely_send    417 SEND > {"id":"d68d41ad-56b1-4f0f-89d1-62d862b9972c","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:33:38,400 connection.py _on_message     652 RECV < {"id":"d68d41ad-56b1-4f0f-89d1-62d862b9972c","result":{}}
DEBUG 2023-07-01 17:33:38,401 connection.py _safely_send    417 SEND > {"id":"0db4bb53-0e0d-4d17-beb6-e1a4d71d4b6d","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:33:38,404 connection.py _on_message     652 RECV < {"id":"0db4bb53-0e0d-4d17-beb6-e1a4d71d4b6d","result":{"result":true}}
DEBUG 2023-07-01 17:33:38,406 connection.py _safely_send    417 SEND > {"id":"6e8b115f-ec3a-4c6d-b6a0-8eab9bbe76f2","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:33:38,409 connection.py _on_message     652 RECV < {"id":"6e8b115f-ec3a-4c6d-b6a0-8eab9bbe76f2","result":{"result":false}}
DEBUG 2023-07-01 17:33:38,409 connection.py _safely_send    417 SEND > {"id":"f7110f95-0bba-4b06-bb87-bef93d6fa7ed","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:33:38,412 connection.py _on_message     650 RECV < {"id":"f7110f95-0bba-4b06-bb87-bef93d6fa7ed","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:33:38,413 connection.py _safely_send    417 SEND > {"id":"f28194eb-7173-4fe8-8d95-4f3fedec661b","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:33:38,416 connection.py _on_message     652 RECV < {"id":"f28194eb-7173-4fe8-8d95-4f3fedec661b","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:33:38,417 connection.py _safely_send    417 SEND > {"id":"231ec8c7-6e14-47af-b8d7-9e57dad54b8f","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:33:38,418 connection.py _on_message     652 RECV < {"id":"231ec8c7-6e14-47af-b8d7-9e57dad54b8f","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:33:38,420 connection.py _safely_send    417 SEND > {"id":"4052937a-5fe1-4de9-9514-8dfcc5a3fb1e","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:33:38,423 connection.py _on_message     652 RECV < {"id":"4052937a-5fe1-4de9-9514-8dfcc5a3fb1e","result":{"result":false}}
DEBUG 2023-07-01 17:33:38,425 connection.py _safely_send    417 SEND > {"id":"3a7bd126-20be-4df6-b9ef-3c5eba911adf","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:33:38,430 connection.py _on_message     652 RECV < {"id":"3a7bd126-20be-4df6-b9ef-3c5eba911adf","result":{}}
DEBUG 2023-07-01 17:33:38,431 connection.py _safely_send    417 SEND > {"id":"a77905a1-af6a-444d-af45-6c1bfdb897a0","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:33:38,433 connection.py _on_message     652 RECV < {"id":"a77905a1-af6a-444d-af45-6c1bfdb897a0","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:33:38,435 connection.py _safely_send    417 SEND > {"id":"8b549dfa-6d3d-41f9-aca2-4086b14de566","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:33:38,654 connection.py _on_message     652 RECV < {"id":"8b549dfa-6d3d-41f9-aca2-4086b14de566","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:33:38,656 connection.py _safely_send    417 SEND > {"id":"9e134de1-c643-4b26-9de5-6fd973463f12","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:33:38,659 connection.py _on_message     652 RECV < {"id":"9e134de1-c643-4b26-9de5-6fd973463f12","result":{}}
DEBUG 2023-07-01 17:33:38,660 connection.py _safely_send    417 SEND > {"id":"e3b2b2a4-ef80-4069-8173-01fc026de4e3","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:33:38,662 connection.py _on_message     652 RECV < {"id":"e3b2b2a4-ef80-4069-8173-01fc026de4e3","result":{}}
DEBUG 2023-07-01 17:33:38,663 connection.py _safely_send    417 SEND > {"id":"63d0b4eb-4447-4d7f-abfa-8fd07ec131db","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:33:38,665 connection.py _on_message     652 RECV < {"id":"63d0b4eb-4447-4d7f-abfa-8fd07ec131db","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:33:38,668 connection.py _safely_send    417 SEND > {"id":"862464bb-6ec5-4f40-95cc-c7cfb03122e0","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:33:38,671 connection.py _on_message     650 RECV < {"id":"862464bb-6ec5-4f40-95cc-c7cfb03122e0","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:33:38,672 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:33:38,674 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:33:38,675 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:33:38,676 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:33:38,678 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:33:38,679 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:33:38,680 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:33:38,680 connection.py _safely_send    417 SEND > {"id":"55b5afeb-b5b1-41c5-be7b-3d8e9edefc51","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:33:38,728 connection.py _on_message     650 RECV < {"id":"55b5afeb-b5b1-41c5-be7b-3d8e9edefc51","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:33:38,730 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:33:38,732 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:33:38,733 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:33:38,734 connection.py _safely_send    417 ASYNC_SEND > {"id":"e0e4f401-84a9-4dc4-8af5-208fa9e45a55","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:33:38,796 connection.py _on_message     652 RECV < {"id":"e0e4f401-84a9-4dc4-8af5-208fa9e45a55","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:33:38,797 connection.py _handle_async_msg 688 received async msg: e0e4f401-84a9-4dc4-8af5-208fa9e45a55
DEBUG 2023-07-01 17:33:39,089 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204019084},1688204019086]}}
INFO  2023-07-01 17:33:39,092 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204019084}, 1688204019086]}
INFO  2023-07-01 17:33:39,093 page.py    _get_elements_by_css 559 try to get elements: input[bindinput="bindKeyName"]
DEBUG 2023-07-01 17:33:39,095 connection.py _safely_send    417 SEND > {"id":"fc6d554e-66a3-4a5d-b872-f9b69ba5ef54","method":"Page.getElements","params":{"selector":"input[bindinput=\"bindKeyName\"]","pageId":2}}
DEBUG 2023-07-01 17:33:39,156 connection.py _on_message     652 RECV < {"id":"fc6d554e-66a3-4a5d-b872-f9b69ba5ef54","result":{"elements":[]}}
WARNI 2023-07-01 17:33:39,157 page.py    _get_elements_by_css 564 Could not found any element 'input[bindinput="bindKeyName"]' you need
DEBUG 2023-07-01 17:33:39,161 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:33:39,162 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:33:39,162 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:33:39,163 connection.py _safely_send    417 SEND > {"id":"c7086ff2-fdc7-4db1-9b66-30f98fd1d57a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:33:39,224 connection.py _on_message     650 RECV < {"id":"c7086ff2-fdc7-4db1-9b66-30f98fd1d57a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9slPed4PGPQ7JpU7WZxCnYhHAZDsit2rrYGSOw01RH2viwhK3AkSzEWKohZXVRPdZ29yIVbGtsU6l33a3Hq57WB7irsSGbsDjr4WQLNrWugA2yZz3ENLoGKJMF4hmoDdP0x8IS8P0xv3/P2OMfH/N+/RU/nnmeZ9zMO9/v93lmmjM5OSkAoMFDc30CAJAuggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANgj...
INFO  2023-07-01 17:33:39,227 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:33:39,228 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:33:39,228 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 17:33:39,241 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 10, in test_my
    bindKeyName.click()
AttributeError: 'list' object has no attribute 'click'
INFO  2023-07-01 17:33:49,250 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:33:49,250 connection.py _safely_send    417 ASYNC_SEND > {"id":"2361141d-614b-44ad-a971-3cbfc2d33512","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:33:49,253 connection.py _on_message     652 RECV < {"id":"2361141d-614b-44ad-a971-3cbfc2d33512","result":{}}
INFO  2023-07-01 17:33:49,254 connection.py _handle_async_msg 688 received async msg: 2361141d-614b-44ad-a971-3cbfc2d33512, maybe command ignore response
ERROR 2023-07-01 17:33:49,277 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:33:49,735 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:33:50,253 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:33:50,253 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:33:50,255 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:33:50,256 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:33:50,257 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:33:50,257 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:35:16,084 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:35:16,088 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:35:16,090 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:35:16,097 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:35:16,470 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:35:16,471 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:35:16,472 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:35:16,474 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:35:16,475 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:35:16,475 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:35:16,478 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:35:16,479 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:35:18,993 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:35:18,994 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:35:28,996 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:35:29,095 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:35:29,095 connection.py _safely_send    417 SEND > {"id":"79f6ad03-3201-4d57-be8a-69e6e18b5c35","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:35:29,098 connection.py _on_message     652 RECV < {"id":"79f6ad03-3201-4d57-be8a-69e6e18b5c35","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:35:29,099 connection.py _safely_send    417 SEND > {"id":"47781f68-4c50-4d73-ac59-5e8e3c66e389","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:35:29,103 connection.py _on_message     650 RECV < {"id":"47781f68-4c50-4d73-ac59-5e8e3c66e389","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:35:29,104 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:35:29,105 connection.py _safely_send    417 SEND > {"id":"72731414-43b6-443b-a71b-0b082f76a54f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:35:29,109 connection.py _on_message     652 RECV < {"id":"72731414-43b6-443b-a71b-0b082f76a54f","result":{}}
DEBUG 2023-07-01 17:35:29,109 connection.py _safely_send    417 SEND > {"id":"519d5fcc-c109-4244-a2a9-00ca8aa994c8","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:35:29,113 connection.py _on_message     652 RECV < {"id":"519d5fcc-c109-4244-a2a9-00ca8aa994c8","result":{}}
DEBUG 2023-07-01 17:35:29,114 connection.py _safely_send    417 SEND > {"id":"79b5d716-55b4-48a4-8dd9-01feaef2be11","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:35:29,117 connection.py _on_message     652 RECV < {"id":"79b5d716-55b4-48a4-8dd9-01feaef2be11","result":{"result":true}}
DEBUG 2023-07-01 17:35:29,118 connection.py _safely_send    417 SEND > {"id":"39065c90-33bf-4a1e-b45e-e3b0f61e6216","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:35:29,120 connection.py _on_message     652 RECV < {"id":"39065c90-33bf-4a1e-b45e-e3b0f61e6216","result":{"result":false}}
DEBUG 2023-07-01 17:35:29,121 connection.py _safely_send    417 SEND > {"id":"6fe9531a-05c1-414f-89bf-a6acf4377207","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:35:29,124 connection.py _on_message     650 RECV < {"id":"6fe9531a-05c1-414f-89bf-a6acf4377207","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:35:29,124 connection.py _safely_send    417 SEND > {"id":"589298ad-8d8d-4f9f-ae71-4a55d7baba68","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:35:29,127 connection.py _on_message     652 RECV < {"id":"589298ad-8d8d-4f9f-ae71-4a55d7baba68","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:35:29,128 connection.py _safely_send    417 SEND > {"id":"2f376940-e659-47a5-8dc7-5d39734c5691","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:35:29,130 connection.py _on_message     652 RECV < {"id":"2f376940-e659-47a5-8dc7-5d39734c5691","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:35:29,131 connection.py _safely_send    417 SEND > {"id":"82b25e35-6a5c-4314-a273-fbc2deb2e89c","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:35:29,134 connection.py _on_message     652 RECV < {"id":"82b25e35-6a5c-4314-a273-fbc2deb2e89c","result":{"result":false}}
DEBUG 2023-07-01 17:35:29,135 connection.py _safely_send    417 SEND > {"id":"bfda3004-1049-4b49-a9f1-af2b7342c445","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:35:29,137 connection.py _on_message     652 RECV < {"id":"bfda3004-1049-4b49-a9f1-af2b7342c445","result":{}}
DEBUG 2023-07-01 17:35:29,139 connection.py _safely_send    417 SEND > {"id":"8a362f33-1bd8-4999-b328-9dba16d6d7f3","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:35:29,141 connection.py _on_message     652 RECV < {"id":"8a362f33-1bd8-4999-b328-9dba16d6d7f3","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:35:29,142 connection.py _safely_send    417 SEND > {"id":"bb614ae4-fb15-455e-97d9-059bdc05dc19","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:35:29,382 connection.py _on_message     652 RECV < {"id":"bb614ae4-fb15-455e-97d9-059bdc05dc19","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:35:29,385 connection.py _safely_send    417 SEND > {"id":"aa7b5712-92d3-48c9-a395-7fcd5b33d49f","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:35:29,389 connection.py _on_message     652 RECV < {"id":"aa7b5712-92d3-48c9-a395-7fcd5b33d49f","result":{}}
DEBUG 2023-07-01 17:35:29,390 connection.py _safely_send    417 SEND > {"id":"dc1dbe25-e23f-4417-be13-aa84ddbf36c7","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:35:29,392 connection.py _on_message     652 RECV < {"id":"dc1dbe25-e23f-4417-be13-aa84ddbf36c7","result":{}}
DEBUG 2023-07-01 17:35:29,393 connection.py _safely_send    417 SEND > {"id":"b1d2dba1-974c-4622-8be8-1643471af7a2","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:35:29,398 connection.py _on_message     652 RECV < {"id":"b1d2dba1-974c-4622-8be8-1643471af7a2","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:35:29,399 connection.py _safely_send    417 SEND > {"id":"0fc950ba-9ac4-4a37-b649-8d633e79f5ce","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:35:29,402 connection.py _on_message     650 RECV < {"id":"0fc950ba-9ac4-4a37-b649-8d633e79f5ce","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:35:29,403 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:35:29,405 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:35:29,406 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:35:29,406 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:35:29,408 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:35:29,409 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:35:29,410 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:35:29,410 connection.py _safely_send    417 SEND > {"id":"b6490ac4-04ef-4d24-9d6f-189cea32c37b","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:35:29,461 connection.py _on_message     650 RECV < {"id":"b6490ac4-04ef-4d24-9d6f-189cea32c37b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:35:29,463 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:35:29,463 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:35:29,465 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:35:29,466 connection.py _safely_send    417 ASYNC_SEND > {"id":"27324d8a-f6ac-4efe-bcde-7eb2beb28d14","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:35:29,513 connection.py _on_message     652 RECV < {"id":"27324d8a-f6ac-4efe-bcde-7eb2beb28d14","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:35:29,514 connection.py _handle_async_msg 688 received async msg: 27324d8a-f6ac-4efe-bcde-7eb2beb28d14
DEBUG 2023-07-01 17:35:29,791 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204129777},1688204129778]}}
INFO  2023-07-01 17:35:29,794 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204129777}, 1688204129778]}
INFO  2023-07-01 17:35:29,795 page.py    _get_elements_by_css 559 try to get elements: input[bindinput="bindKeyName"][placeholder="请填写姓名"]
DEBUG 2023-07-01 17:35:29,802 connection.py _safely_send    417 SEND > {"id":"830c2b43-7e9f-4722-8631-d7c366e4d882","method":"Page.getElements","params":{"selector":"input[bindinput=\"bindKeyName\"][placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 17:35:29,815 connection.py _on_message     652 RECV < {"id":"830c2b43-7e9f-4722-8631-d7c366e4d882","result":{"elements":[]}}
WARNI 2023-07-01 17:35:29,816 page.py    _get_elements_by_css 564 Could not found any element 'input[bindinput="bindKeyName"][placeholder="请填写姓名"]' you need
DEBUG 2023-07-01 17:35:29,817 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:35:29,819 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:35:29,819 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:35:29,820 connection.py _safely_send    417 SEND > {"id":"0387f50d-a635-4d4f-abc1-88ca3ae63570","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:35:29,880 connection.py _on_message     650 RECV < {"id":"0387f50d-a635-4d4f-abc1-88ca3ae63570","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9slPed4PGPQ7JpU7WZxCnYhHAZDsit2rrYGSOw01RH2viwhK3AkSzEWKohZXVRPdZ29yIVbGtsU6l33a3Hq57WB7irsSGbsDjr4WQLNrWugA2yZz3ENLoGKJMF4hmoDdP0x8IS8P0xv3/P2OMfH/N+/RU/nnmeZ9zMO9/v93lmmjM5OSkAoMFDc30CAJAuggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANgj...
INFO  2023-07-01 17:35:29,882 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:35:29,883 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:35:29,884 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 17:35:29,891 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 10, in test_my
    bindKeyName.click()
AttributeError: 'list' object has no attribute 'click'
INFO  2023-07-01 17:35:39,897 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:35:39,897 connection.py _safely_send    417 ASYNC_SEND > {"id":"c2e380da-a861-431b-9fb5-99ebbec5b7e2","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:35:39,901 connection.py _on_message     652 RECV < {"id":"c2e380da-a861-431b-9fb5-99ebbec5b7e2","result":{}}
INFO  2023-07-01 17:35:39,902 connection.py _handle_async_msg 688 received async msg: c2e380da-a861-431b-9fb5-99ebbec5b7e2, maybe command ignore response
ERROR 2023-07-01 17:35:39,923 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:35:40,367 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:35:40,900 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:35:40,900 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:35:40,901 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:35:40,903 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:35:40,903 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:35:40,904 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:35:45,639 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:35:45,644 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:35:45,646 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:35:45,652 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:35:46,025 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:35:46,026 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:35:46,027 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:35:46,029 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:35:46,031 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:35:46,031 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:35:46,032 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:35:46,033 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:35:48,450 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:35:48,450 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:35:58,453 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:35:58,770 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:35:58,770 connection.py _safely_send    417 SEND > {"id":"0533d144-9e59-453c-8f6f-20384cd19b48","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:35:58,773 connection.py _on_message     652 RECV < {"id":"0533d144-9e59-453c-8f6f-20384cd19b48","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:35:58,774 connection.py _safely_send    417 SEND > {"id":"ba8f05cb-0a48-4afc-959c-c80f0eb7bbd6","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:35:58,778 connection.py _on_message     650 RECV < {"id":"ba8f05cb-0a48-4afc-959c-c80f0eb7bbd6","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:35:58,779 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:35:58,779 connection.py _safely_send    417 SEND > {"id":"614bf886-5469-4678-bde7-bf24f9af92e9","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:35:58,781 connection.py _on_message     652 RECV < {"id":"614bf886-5469-4678-bde7-bf24f9af92e9","result":{}}
DEBUG 2023-07-01 17:35:58,783 connection.py _safely_send    417 SEND > {"id":"a1d60793-8d78-432f-bc83-9bc2eb176840","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:35:58,786 connection.py _on_message     652 RECV < {"id":"a1d60793-8d78-432f-bc83-9bc2eb176840","result":{}}
DEBUG 2023-07-01 17:35:58,788 connection.py _safely_send    417 SEND > {"id":"05f895a1-c2d2-4891-a993-2ca985270a56","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:35:58,790 connection.py _on_message     652 RECV < {"id":"05f895a1-c2d2-4891-a993-2ca985270a56","result":{"result":true}}
DEBUG 2023-07-01 17:35:58,791 connection.py _safely_send    417 SEND > {"id":"a10d5351-cd1d-4ab4-95e1-8cd46dea0ebb","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:35:58,797 connection.py _on_message     652 RECV < {"id":"a10d5351-cd1d-4ab4-95e1-8cd46dea0ebb","result":{"result":false}}
DEBUG 2023-07-01 17:35:58,798 connection.py _safely_send    417 SEND > {"id":"40ec9a8c-b053-4a5a-9c50-58e11ed41dc8","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:35:58,800 connection.py _on_message     650 RECV < {"id":"40ec9a8c-b053-4a5a-9c50-58e11ed41dc8","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:35:58,801 connection.py _safely_send    417 SEND > {"id":"62b09fb2-ed76-4b2e-a855-d7a5b9ce02af","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:35:58,803 connection.py _on_message     652 RECV < {"id":"62b09fb2-ed76-4b2e-a855-d7a5b9ce02af","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:35:58,805 connection.py _safely_send    417 SEND > {"id":"efd3ef0d-cd69-4e27-b057-052905a24d7b","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:35:58,808 connection.py _on_message     652 RECV < {"id":"efd3ef0d-cd69-4e27-b057-052905a24d7b","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:35:58,809 connection.py _safely_send    417 SEND > {"id":"fa7660f8-3d9c-4632-9e79-5828b19d15bc","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:35:58,813 connection.py _on_message     652 RECV < {"id":"fa7660f8-3d9c-4632-9e79-5828b19d15bc","result":{"result":false}}
DEBUG 2023-07-01 17:35:58,814 connection.py _safely_send    417 SEND > {"id":"c9d6f4f6-4d77-4212-92d9-06ee3e397aca","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:35:58,817 connection.py _on_message     652 RECV < {"id":"c9d6f4f6-4d77-4212-92d9-06ee3e397aca","result":{}}
DEBUG 2023-07-01 17:35:58,818 connection.py _safely_send    417 SEND > {"id":"447c555d-828c-4a51-ad94-dc2477b3c0e8","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:35:58,820 connection.py _on_message     652 RECV < {"id":"447c555d-828c-4a51-ad94-dc2477b3c0e8","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:35:58,821 connection.py _safely_send    417 SEND > {"id":"ed4bb708-d922-4f56-96e4-d6f7297f3dbc","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:35:59,094 connection.py _on_message     652 RECV < {"id":"ed4bb708-d922-4f56-96e4-d6f7297f3dbc","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:35:59,097 connection.py _safely_send    417 SEND > {"id":"60bf0c2e-9ffb-45c4-81a3-98cb8fda2bea","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:35:59,100 connection.py _on_message     652 RECV < {"id":"60bf0c2e-9ffb-45c4-81a3-98cb8fda2bea","result":{}}
DEBUG 2023-07-01 17:35:59,101 connection.py _safely_send    417 SEND > {"id":"5b12ea9d-5161-46f8-940f-03c2a0fdd3eb","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:35:59,103 connection.py _on_message     652 RECV < {"id":"5b12ea9d-5161-46f8-940f-03c2a0fdd3eb","result":{}}
DEBUG 2023-07-01 17:35:59,104 connection.py _safely_send    417 SEND > {"id":"73bd94e4-2f7b-4624-859a-b421fe41a177","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:35:59,108 connection.py _on_message     652 RECV < {"id":"73bd94e4-2f7b-4624-859a-b421fe41a177","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:35:59,109 connection.py _safely_send    417 SEND > {"id":"beaa40f8-1786-4d64-9ac5-5b65cfddd606","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:35:59,112 connection.py _on_message     650 RECV < {"id":"beaa40f8-1786-4d64-9ac5-5b65cfddd606","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:35:59,113 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:35:59,115 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:35:59,116 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:35:59,117 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:35:59,118 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:35:59,119 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:35:59,120 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:35:59,120 connection.py _safely_send    417 SEND > {"id":"7bfc5e58-5ac9-4bbc-b2c9-614ecb69db20","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:35:59,168 connection.py _on_message     650 RECV < {"id":"7bfc5e58-5ac9-4bbc-b2c9-614ecb69db20","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:35:59,169 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:35:59,170 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:35:59,171 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:35:59,172 connection.py _safely_send    417 ASYNC_SEND > {"id":"be0397b4-af78-4b39-95f8-dec393c7c47f","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:35:59,227 connection.py _on_message     652 RECV < {"id":"be0397b4-af78-4b39-95f8-dec393c7c47f","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:35:59,227 connection.py _handle_async_msg 688 received async msg: be0397b4-af78-4b39-95f8-dec393c7c47f
DEBUG 2023-07-01 17:35:59,505 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204159494},1688204159495]}}
INFO  2023-07-01 17:35:59,508 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204159494}, 1688204159495]}
INFO  2023-07-01 17:35:59,509 page.py    _get_elements_by_css 559 try to get elements: input[bindinput="bindKeyName"][placeholder="请填写姓名"]
DEBUG 2023-07-01 17:35:59,513 connection.py _safely_send    417 SEND > {"id":"b883dac0-a983-4d3e-9ca9-bc0270dd8bff","method":"Page.getElements","params":{"selector":"input[bindinput=\"bindKeyName\"][placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 17:35:59,565 connection.py _on_message     652 RECV < {"id":"b883dac0-a983-4d3e-9ca9-bc0270dd8bff","result":{"elements":[]}}
WARNI 2023-07-01 17:35:59,566 page.py    _get_elements_by_css 564 Could not found any element 'input[bindinput="bindKeyName"][placeholder="请填写姓名"]' you need
DEBUG 2023-07-01 17:35:59,568 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:35:59,570 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:35:59,570 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:35:59,571 connection.py _safely_send    417 SEND > {"id":"b79aef2c-7bfa-47b7-9c06-9d457c578462","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:35:59,624 connection.py _on_message     650 RECV < {"id":"b79aef2c-7bfa-47b7-9c06-9d457c578462","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9slPed4PGPQ7JpU7WZxCnYhHAZDsit2rrYGSOw01RH2viwhK3AkSzEWKohZXVRPdZ29yIVbGtsU6l33a3Hq57WB7irsSGbsDjr4WQLNrWugA2yZz3ENLoGKJMF4hmoDdP0x8IS8P0xv3/P2OMfH/N+/RU/nnmeZ9zMO9/v93lmmjM5OSkAoMFDc30CAJAuggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANgj...
INFO  2023-07-01 17:35:59,627 basenative.py wrapper         29  call IdeNative.screen_shot end
DEBUG 2023-07-01 17:35:59,628 connection.py _safely_send    417 SEND > {"id":"0e8c841d-81b0-4a5c-a7b3-08b8a43d297f","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":2}}
DEBUG 2023-07-01 17:35:59,710 connection.py _on_message     652 RECV < {"id":"0e8c841d-81b0-4a5c-a7b3-08b8a43d297f","result":{"elementId":"b651a3ba-4dfe-4aca-ac65-d835ed7ae898","tagName":"view"}}
DEBUG 2023-07-01 17:35:59,713 connection.py _safely_send    417 SEND > {"id":"8a2647d5-0c4e-4fd8-99ca-9013de6995e5","method":"Element.getWXML","params":{"type":"outer","elementId":"b651a3ba-4dfe-4aca-ac65-d835ed7ae898","pageId":2}}
DEBUG 2023-07-01 17:35:59,761 connection.py _on_message     650 RECV < {"id":"8a2647d5-0c4e-4fd8-99ca-9013de6995e5","result":{"wxml":"<view class=\"main\"><view class=\"data\"><view class=\"item\"><text>联系人</text><input placeholder=\"请填写姓名\" type=\"text\" value=\"\">请填写姓名</input></view><view class=\"item\"><text>手机号</text><input placeholder=\"11位手机号码\" type=\"number\" value=\"\">11位手机号码</input></view><view class=\"item\"><text>地区</text><picker custom-item=\"全部\" mode=\"region\" value=\"[&quot;广东省&quot;,&quot;广州市&quot;,&quot;海珠区&quot;]\" aria-haspopup=\"true\"><view class=\"...
INFO  2023-07-01 17:35:59,763 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:35:59,770 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 17:35:59,781 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 9, in test_my
    bindKeyName = self.page.get_element('input[bindinput="bindKeyName"][placeholder="请填写姓名"]')
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 286, in get_element
    raise MiniElementNotFoundError("element[%s] not found" % selector)
minium.framework.exception.MiniElementNotFoundError: element[input[bindinput="bindKeyName"][placeholder="请填写姓名"]] not found
INFO  2023-07-01 17:36:09,788 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:36:09,788 connection.py _safely_send    417 ASYNC_SEND > {"id":"309630f3-bb17-429c-ba26-8a0983eefc43","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:36:09,790 connection.py _on_message     652 RECV < {"id":"309630f3-bb17-429c-ba26-8a0983eefc43","result":{}}
INFO  2023-07-01 17:36:09,791 connection.py _handle_async_msg 688 received async msg: 309630f3-bb17-429c-ba26-8a0983eefc43, maybe command ignore response
ERROR 2023-07-01 17:36:09,811 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:36:10,257 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:36:10,790 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:36:10,791 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:36:10,792 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:36:10,793 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:36:10,794 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:36:10,794 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:36:16,385 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:36:16,389 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:36:16,391 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:36:16,397 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:36:16,765 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:36:16,765 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:36:16,766 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:36:16,767 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:36:16,768 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:36:16,768 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:36:16,770 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:36:16,770 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:36:19,234 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:36:19,235 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:36:29,237 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:36:29,607 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:36:29,608 connection.py _safely_send    417 SEND > {"id":"d4501ce1-417f-497f-a093-4c20d9965bd7","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:36:29,613 connection.py _on_message     652 RECV < {"id":"d4501ce1-417f-497f-a093-4c20d9965bd7","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:36:29,614 connection.py _safely_send    417 SEND > {"id":"bb721d13-ff82-4413-90ed-3f54f4f8cf65","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:36:31,248 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 17:36:31,251 connection.py _on_message     650 RECV < {"id":"bb721d13-ff82-4413-90ed-3f54f4f8cf65","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:36:31,252 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:36:31,252 connection.py _safely_send    417 SEND > {"id":"38cbe71f-88b3-4141-a6d2-ae200a0bd9db","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:36:31,254 connection.py _on_message     652 RECV < {"id":"38cbe71f-88b3-4141-a6d2-ae200a0bd9db","result":{}}
DEBUG 2023-07-01 17:36:31,254 connection.py _safely_send    417 SEND > {"id":"7d68d200-71aa-48d9-bfbe-002b631d3569","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:36:31,257 connection.py _on_message     652 RECV < {"id":"7d68d200-71aa-48d9-bfbe-002b631d3569","result":{}}
DEBUG 2023-07-01 17:36:31,258 connection.py _safely_send    417 SEND > {"id":"963b9355-df97-4465-afb3-7d024af3cf76","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:36:31,262 connection.py _on_message     652 RECV < {"id":"963b9355-df97-4465-afb3-7d024af3cf76","result":{"result":true}}
DEBUG 2023-07-01 17:36:31,263 connection.py _safely_send    417 SEND > {"id":"88cc4f84-5bd8-46a7-9970-6de772c81c27","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:36:31,265 connection.py _on_message     652 RECV < {"id":"88cc4f84-5bd8-46a7-9970-6de772c81c27","result":{"result":false}}
DEBUG 2023-07-01 17:36:31,266 connection.py _safely_send    417 SEND > {"id":"79a37f55-278d-4858-ad01-338885b79490","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:36:31,268 connection.py _on_message     650 RECV < {"id":"79a37f55-278d-4858-ad01-338885b79490","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:36:31,269 connection.py _safely_send    417 SEND > {"id":"93a70b72-a702-4d0f-ac4c-eb6ec3692627","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:36:31,271 connection.py _on_message     652 RECV < {"id":"93a70b72-a702-4d0f-ac4c-eb6ec3692627","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:36:31,272 connection.py _safely_send    417 SEND > {"id":"ba735092-29ff-48fc-9342-aa19a498403c","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:36:31,274 connection.py _on_message     652 RECV < {"id":"ba735092-29ff-48fc-9342-aa19a498403c","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:36:31,275 connection.py _safely_send    417 SEND > {"id":"8cb33d97-88b1-4ecb-bcca-1009d7aaeb57","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:36:31,278 connection.py _on_message     652 RECV < {"id":"8cb33d97-88b1-4ecb-bcca-1009d7aaeb57","result":{"result":false}}
DEBUG 2023-07-01 17:36:31,279 connection.py _safely_send    417 SEND > {"id":"d0c9f089-e010-45a3-a659-dfdee7471c34","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:36:31,282 connection.py _on_message     652 RECV < {"id":"d0c9f089-e010-45a3-a659-dfdee7471c34","result":{}}
DEBUG 2023-07-01 17:36:31,283 connection.py _safely_send    417 SEND > {"id":"d48f4c68-5c22-485b-b1d4-d12476789ea8","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:36:31,285 connection.py _on_message     652 RECV < {"id":"d48f4c68-5c22-485b-b1d4-d12476789ea8","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:36:31,286 connection.py _safely_send    417 SEND > {"id":"9cbd3334-6e90-457b-90b8-06fbda0ff378","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:36:31,519 connection.py _on_message     652 RECV < {"id":"9cbd3334-6e90-457b-90b8-06fbda0ff378","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:36:31,521 connection.py _safely_send    417 SEND > {"id":"286a1cfa-9825-42a4-a6cf-206449b2aea0","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:36:31,524 connection.py _on_message     652 RECV < {"id":"286a1cfa-9825-42a4-a6cf-206449b2aea0","result":{}}
DEBUG 2023-07-01 17:36:31,525 connection.py _safely_send    417 SEND > {"id":"db524bc2-9498-43b7-9bc4-8a2349325b86","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:36:31,526 connection.py _on_message     652 RECV < {"id":"db524bc2-9498-43b7-9bc4-8a2349325b86","result":{}}
DEBUG 2023-07-01 17:36:31,528 connection.py _safely_send    417 SEND > {"id":"88b85996-442a-4350-84ec-29699e62ce84","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:36:31,530 connection.py _on_message     652 RECV < {"id":"88b85996-442a-4350-84ec-29699e62ce84","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:36:31,532 connection.py _safely_send    417 SEND > {"id":"4cc85f62-1e2f-4e9b-abc8-61ee138e9397","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:36:31,539 connection.py _on_message     650 RECV < {"id":"4cc85f62-1e2f-4e9b-abc8-61ee138e9397","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:36:31,540 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:36:31,544 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:36:31,545 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:36:31,545 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:36:31,545 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:36:31,549 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:36:31,549 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:36:31,549 connection.py _safely_send    417 SEND > {"id":"0b011efc-6d12-4e58-81be-2b5d47318fba","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:36:31,591 connection.py _on_message     650 RECV < {"id":"0b011efc-6d12-4e58-81be-2b5d47318fba","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:36:31,593 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:36:31,593 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:36:31,594 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:36:31,597 connection.py _safely_send    417 ASYNC_SEND > {"id":"e95d7906-aad5-4bdc-bc28-c1fb0dd93cd5","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:36:31,646 connection.py _on_message     652 RECV < {"id":"e95d7906-aad5-4bdc-bc28-c1fb0dd93cd5","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:36:31,647 connection.py _handle_async_msg 688 received async msg: e95d7906-aad5-4bdc-bc28-c1fb0dd93cd5
DEBUG 2023-07-01 17:36:31,923 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204191908},1688204191909]}}
INFO  2023-07-01 17:36:31,925 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204191908}, 1688204191909]}
INFO  2023-07-01 17:36:31,926 page.py    _get_elements_by_css 559 try to get elements: input[bindinput="bindKeyName"]
DEBUG 2023-07-01 17:36:31,930 connection.py _safely_send    417 SEND > {"id":"e69bf394-0d8c-487d-810e-c3d2a5f605a9","method":"Page.getElements","params":{"selector":"input[bindinput=\"bindKeyName\"]","pageId":2}}
DEBUG 2023-07-01 17:36:31,949 connection.py _on_message     652 RECV < {"id":"e69bf394-0d8c-487d-810e-c3d2a5f605a9","result":{"elements":[]}}
WARNI 2023-07-01 17:36:31,950 page.py    _get_elements_by_css 564 Could not found any element 'input[bindinput="bindKeyName"]' you need
DEBUG 2023-07-01 17:36:31,951 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:36:31,953 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:36:31,953 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:36:31,954 connection.py _safely_send    417 SEND > {"id":"5a15a7db-edbf-42e7-bd27-df330a84a9f8","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:36:32,017 connection.py _on_message     650 RECV < {"id":"5a15a7db-edbf-42e7-bd27-df330a84a9f8","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9slPed4PGPQ7JpU7WZxCnYhHAZDsit2rrYGSOw01RH2viwhK3AkSzEWKohZXVRPdZ29yIVbGtsU6l33a3Hq57WB7irsSGbsDjr4WQLNrWugA2yZz3ENLoGKJMF4hmoDdP0x8IS8P0xv3/P2OMfH/N+/RU/nnmeZ9zMO9/v93lmmjM5OSkAoMFDc30CAJAuggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANgj...
INFO  2023-07-01 17:36:32,019 basenative.py wrapper         29  call IdeNative.screen_shot end
DEBUG 2023-07-01 17:36:32,020 connection.py _safely_send    417 SEND > {"id":"14333463-255e-4296-826e-d0bc868b939a","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":2}}
DEBUG 2023-07-01 17:36:32,026 connection.py _on_message     652 RECV < {"id":"14333463-255e-4296-826e-d0bc868b939a","result":{"elementId":"61f5a02b-e378-4513-8fe7-9fe8518f6b41","tagName":"view"}}
DEBUG 2023-07-01 17:36:32,027 connection.py _safely_send    417 SEND > {"id":"458a192a-a107-4ecc-b36f-1b48435b579c","method":"Element.getWXML","params":{"type":"outer","elementId":"61f5a02b-e378-4513-8fe7-9fe8518f6b41","pageId":2}}
DEBUG 2023-07-01 17:36:32,034 connection.py _on_message     650 RECV < {"id":"458a192a-a107-4ecc-b36f-1b48435b579c","result":{"wxml":"<view class=\"main\"><view class=\"data\"><view class=\"item\"><text>联系人</text><input placeholder=\"请填写姓名\" type=\"text\" value=\"\">请填写姓名</input></view><view class=\"item\"><text>手机号</text><input placeholder=\"11位手机号码\" type=\"number\" value=\"\">11位手机号码</input></view><view class=\"item\"><text>地区</text><picker custom-item=\"全部\" mode=\"region\" value=\"[&quot;广东省&quot;,&quot;广州市&quot;,&quot;海珠区&quot;]\" aria-haspopup=\"true\"><view class=\"...
INFO  2023-07-01 17:36:32,035 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:36:32,036 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 17:36:32,060 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 9, in test_my
    bindKeyName = self.page.get_element('input[bindinput="bindKeyName"]')
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 286, in get_element
    raise MiniElementNotFoundError("element[%s] not found" % selector)
minium.framework.exception.MiniElementNotFoundError: element[input[bindinput="bindKeyName"]] not found
INFO  2023-07-01 17:36:42,068 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:36:42,068 connection.py _safely_send    417 ASYNC_SEND > {"id":"9575598e-56e7-44e3-a2e2-c553de3e799b","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:36:42,071 connection.py _on_message     652 RECV < {"id":"9575598e-56e7-44e3-a2e2-c553de3e799b","result":{}}
INFO  2023-07-01 17:36:42,071 connection.py _handle_async_msg 688 received async msg: 9575598e-56e7-44e3-a2e2-c553de3e799b, maybe command ignore response
ERROR 2023-07-01 17:36:42,092 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:36:42,548 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:36:43,071 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:36:43,072 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:36:43,077 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:36:43,078 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:36:43,079 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:36:43,079 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:38:19,984 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:38:19,988 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:38:19,990 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:38:19,996 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:38:20,360 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:38:20,361 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:38:20,362 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:38:20,364 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:38:20,365 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:38:20,365 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:38:20,366 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:38:20,367 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:38:22,823 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:38:22,824 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:38:32,826 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:38:32,850 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:38:32,850 connection.py _safely_send    417 SEND > {"id":"9dbda372-9305-4b95-9393-2092d9b43a3e","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:38:32,855 connection.py _on_message     652 RECV < {"id":"9dbda372-9305-4b95-9393-2092d9b43a3e","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:38:32,856 connection.py _safely_send    417 SEND > {"id":"5b902522-4ce5-434f-8915-3ff2c706c8a4","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:38:33,981 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 17:38:33,985 connection.py _on_message     650 RECV < {"id":"5b902522-4ce5-434f-8915-3ff2c706c8a4","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:38:33,986 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:38:33,986 connection.py _safely_send    417 SEND > {"id":"fcbb7766-0f3f-4354-ae25-2f82e638139f","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:38:33,988 connection.py _on_message     652 RECV < {"id":"fcbb7766-0f3f-4354-ae25-2f82e638139f","result":{}}
DEBUG 2023-07-01 17:38:33,989 connection.py _safely_send    417 SEND > {"id":"a51529b9-9342-45ce-9f8c-0b9c63e3e030","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:38:33,993 connection.py _on_message     652 RECV < {"id":"a51529b9-9342-45ce-9f8c-0b9c63e3e030","result":{}}
DEBUG 2023-07-01 17:38:33,995 connection.py _safely_send    417 SEND > {"id":"433b8e58-ce69-43a1-8783-80926b8b1126","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:38:33,998 connection.py _on_message     652 RECV < {"id":"433b8e58-ce69-43a1-8783-80926b8b1126","result":{"result":true}}
DEBUG 2023-07-01 17:38:33,999 connection.py _safely_send    417 SEND > {"id":"4e4bf303-e705-46e5-87c6-945b80ea8ae6","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:38:34,001 connection.py _on_message     652 RECV < {"id":"4e4bf303-e705-46e5-87c6-945b80ea8ae6","result":{"result":false}}
DEBUG 2023-07-01 17:38:34,002 connection.py _safely_send    417 SEND > {"id":"418585ef-e146-4aa4-8d3d-fd58eb85a56e","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:38:34,004 connection.py _on_message     650 RECV < {"id":"418585ef-e146-4aa4-8d3d-fd58eb85a56e","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:38:34,006 connection.py _safely_send    417 SEND > {"id":"b261f086-a246-4354-9da1-480fc57e6cfc","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:38:34,008 connection.py _on_message     652 RECV < {"id":"b261f086-a246-4354-9da1-480fc57e6cfc","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:38:34,009 connection.py _safely_send    417 SEND > {"id":"be323534-727d-4452-a356-f7374ef6950d","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:38:34,011 connection.py _on_message     652 RECV < {"id":"be323534-727d-4452-a356-f7374ef6950d","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:38:34,012 connection.py _safely_send    417 SEND > {"id":"1a2f2d35-3ab2-4cab-a0e8-93ceb52bf5bf","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:38:34,015 connection.py _on_message     652 RECV < {"id":"1a2f2d35-3ab2-4cab-a0e8-93ceb52bf5bf","result":{"result":false}}
DEBUG 2023-07-01 17:38:34,017 connection.py _safely_send    417 SEND > {"id":"12ef565e-bab1-4dd7-a202-b6ee0a25e028","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:38:34,020 connection.py _on_message     652 RECV < {"id":"12ef565e-bab1-4dd7-a202-b6ee0a25e028","result":{}}
DEBUG 2023-07-01 17:38:34,020 connection.py _safely_send    417 SEND > {"id":"c4f455ce-a0bf-4e4e-8fc0-c3178199ebf8","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:38:34,022 connection.py _on_message     652 RECV < {"id":"c4f455ce-a0bf-4e4e-8fc0-c3178199ebf8","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:38:34,023 connection.py _safely_send    417 SEND > {"id":"1420cce3-908c-4eaa-b129-445cb22add78","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:38:34,256 connection.py _on_message     652 RECV < {"id":"1420cce3-908c-4eaa-b129-445cb22add78","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:38:34,258 connection.py _safely_send    417 SEND > {"id":"2d042cd4-9b4a-4402-a0f3-92dbe307837d","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:38:34,262 connection.py _on_message     652 RECV < {"id":"2d042cd4-9b4a-4402-a0f3-92dbe307837d","result":{}}
DEBUG 2023-07-01 17:38:34,263 connection.py _safely_send    417 SEND > {"id":"85d00cf7-12be-4493-90ce-649e3e6e6812","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:38:34,264 connection.py _on_message     652 RECV < {"id":"85d00cf7-12be-4493-90ce-649e3e6e6812","result":{}}
DEBUG 2023-07-01 17:38:34,266 connection.py _safely_send    417 SEND > {"id":"9966de5e-c092-4d43-aaa0-1d974758010e","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:38:34,270 connection.py _on_message     652 RECV < {"id":"9966de5e-c092-4d43-aaa0-1d974758010e","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:38:34,270 connection.py _safely_send    417 SEND > {"id":"d4769b58-8f91-4ebc-8095-f8520522d8bd","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:38:34,273 connection.py _on_message     650 RECV < {"id":"d4769b58-8f91-4ebc-8095-f8520522d8bd","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:38:34,274 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:38:34,286 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:38:34,287 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:38:34,288 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:38:34,290 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:38:34,301 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:38:34,301 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:38:34,302 connection.py _safely_send    417 SEND > {"id":"a2c657f8-5357-4a25-b351-a1800b4080d9","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:38:34,347 connection.py _on_message     650 RECV < {"id":"a2c657f8-5357-4a25-b351-a1800b4080d9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:38:34,348 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:38:34,349 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:38:34,350 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:38:34,351 connection.py _safely_send    417 ASYNC_SEND > {"id":"93342f28-26ec-44d8-85c0-a730bc8f87d4","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:38:34,399 connection.py _on_message     652 RECV < {"id":"93342f28-26ec-44d8-85c0-a730bc8f87d4","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:38:34,399 connection.py _handle_async_msg 688 received async msg: 93342f28-26ec-44d8-85c0-a730bc8f87d4
DEBUG 2023-07-01 17:38:34,682 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204314668},1688204314669]}}
INFO  2023-07-01 17:38:34,685 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204314668}, 1688204314669]}
DEBUG 2023-07-01 17:38:34,686 connection.py _safely_send    417 SEND > {"id":"1f090ac2-0185-4147-80e1-d3a182155675","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[1]/input","pageId":2}}
DEBUG 2023-07-01 17:38:34,718 connection.py _on_message     652 RECV < {"id":"1f090ac2-0185-4147-80e1-d3a182155675","result":{"elementId":"9fd0e599-bd79-48aa-8a68-131365465edf","tagName":"input"}}
DEBUG 2023-07-01 17:38:34,720 connection.py _safely_send    417 SEND > {"id":"3d5e693e-bd93-4ce5-8997-51dffb44991d","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"9fd0e599-bd79-48aa-8a68-131365465edf","pageId":2}}
DEBUG 2023-07-01 17:38:34,724 connection.py _on_message     652 RECV < {"id":"3d5e693e-bd93-4ce5-8997-51dffb44991d","result":{}}
DEBUG 2023-07-01 17:38:34,725 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:38:34,727 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:38:34,728 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:38:34,729 connection.py _safely_send    417 SEND > {"id":"dde7a5d2-70e3-4c0d-9e10-7f85f58875e4","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:38:34,788 connection.py _on_message     650 RECV < {"id":"dde7a5d2-70e3-4c0d-9e10-7f85f58875e4","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9slPed4PGPQ7JpU7WZxCnYhHAZDsit2rrYGSOw01RH2viwhK3AkSzEWKohZXVRPdZ29yIVbGtsU6l33a3Hq57WB7irsSGbsDjr4WQLNrWugA2yZz3ENLoGKJMF4hmoDdP0x8IS8P0xv3/P2OMfH/N+/RU/nnmeZ9zMO9/v93lmmjM5OSkAoMFDc30CAJAuggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANggVADYIFQA2CBUANgj...
INFO  2023-07-01 17:38:34,791 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:38:34,792 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:38:34,792 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 17:38:44,803 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:38:44,803 connection.py _safely_send    417 ASYNC_SEND > {"id":"7ada3430-6e01-490c-abcb-d478df86db72","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:38:44,806 connection.py _on_message     652 RECV < {"id":"7ada3430-6e01-490c-abcb-d478df86db72","result":{}}
INFO  2023-07-01 17:38:44,807 connection.py _handle_async_msg 688 received async msg: 7ada3430-6e01-490c-abcb-d478df86db72, maybe command ignore response
ERROR 2023-07-01 17:38:44,828 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:38:45,282 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:38:45,805 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:38:45,805 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:38:45,806 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:38:45,808 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:38:45,808 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:38:45,809 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:40:13,263 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:40:13,267 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:40:13,269 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:40:13,275 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:40:13,656 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:40:13,657 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:40:13,658 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:40:13,660 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:40:13,662 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:40:13,662 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:40:13,664 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:40:13,665 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:40:16,185 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:40:16,186 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:40:26,189 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:40:26,284 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:40:26,314 connection.py _safely_send    417 SEND > {"id":"0c2806aa-4a0e-45f8-8c50-fe5e0c711e10","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:40:26,331 connection.py _on_message     652 RECV < {"id":"0c2806aa-4a0e-45f8-8c50-fe5e0c711e10","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:40:26,332 connection.py _safely_send    417 SEND > {"id":"9de6b55e-2f09-4fc4-a675-1452f8c2cab1","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:40:26,899 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 17:40:26,902 connection.py _on_message     650 RECV < {"id":"9de6b55e-2f09-4fc4-a675-1452f8c2cab1","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:40:26,903 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:40:26,904 connection.py _safely_send    417 SEND > {"id":"582a2981-d096-433d-a774-c36ddf6f3058","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:40:26,906 connection.py _on_message     652 RECV < {"id":"582a2981-d096-433d-a774-c36ddf6f3058","result":{}}
DEBUG 2023-07-01 17:40:26,907 connection.py _safely_send    417 SEND > {"id":"d75cc826-2dcf-4c1b-a60d-48b243297ac5","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:40:26,910 connection.py _on_message     652 RECV < {"id":"d75cc826-2dcf-4c1b-a60d-48b243297ac5","result":{}}
DEBUG 2023-07-01 17:40:26,912 connection.py _safely_send    417 SEND > {"id":"0a174252-d212-463f-91c6-723873618573","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:40:26,915 connection.py _on_message     652 RECV < {"id":"0a174252-d212-463f-91c6-723873618573","result":{"result":true}}
DEBUG 2023-07-01 17:40:26,916 connection.py _safely_send    417 SEND > {"id":"1c625564-3713-4d17-b3f8-15577b694a92","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:40:26,918 connection.py _on_message     652 RECV < {"id":"1c625564-3713-4d17-b3f8-15577b694a92","result":{"result":false}}
DEBUG 2023-07-01 17:40:26,919 connection.py _safely_send    417 SEND > {"id":"9681c5ad-c433-4d47-a5db-5f7ba24dba03","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:40:26,923 connection.py _on_message     650 RECV < {"id":"9681c5ad-c433-4d47-a5db-5f7ba24dba03","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:40:26,924 connection.py _safely_send    417 SEND > {"id":"d6c858b8-bf5e-4c23-8d5a-24290bd491cb","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:40:26,926 connection.py _on_message     652 RECV < {"id":"d6c858b8-bf5e-4c23-8d5a-24290bd491cb","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:40:26,927 connection.py _safely_send    417 SEND > {"id":"fd68c9f6-faf9-4ce5-af94-4283a167be47","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:40:26,928 connection.py _on_message     652 RECV < {"id":"fd68c9f6-faf9-4ce5-af94-4283a167be47","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:40:26,929 connection.py _safely_send    417 SEND > {"id":"2f3b06fb-37a9-4175-9ba5-e75c03e3997c","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:40:26,932 connection.py _on_message     652 RECV < {"id":"2f3b06fb-37a9-4175-9ba5-e75c03e3997c","result":{"result":false}}
DEBUG 2023-07-01 17:40:26,934 connection.py _safely_send    417 SEND > {"id":"55b1fb8f-fbdf-4303-870b-8510f003a043","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:40:26,937 connection.py _on_message     652 RECV < {"id":"55b1fb8f-fbdf-4303-870b-8510f003a043","result":{}}
DEBUG 2023-07-01 17:40:26,938 connection.py _safely_send    417 SEND > {"id":"70abd4aa-78fa-43ba-9d32-fcb59cd198f8","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:40:26,940 connection.py _on_message     652 RECV < {"id":"70abd4aa-78fa-43ba-9d32-fcb59cd198f8","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:40:26,941 connection.py _safely_send    417 SEND > {"id":"8c6fc03a-5f54-401b-b413-d4865d782cab","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:40:27,156 connection.py _on_message     652 RECV < {"id":"8c6fc03a-5f54-401b-b413-d4865d782cab","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:40:27,158 connection.py _safely_send    417 SEND > {"id":"c08853c9-4db1-402d-b687-64fc80fb3bf6","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:40:27,162 connection.py _on_message     652 RECV < {"id":"c08853c9-4db1-402d-b687-64fc80fb3bf6","result":{}}
DEBUG 2023-07-01 17:40:27,163 connection.py _safely_send    417 SEND > {"id":"10dd90a5-cbe8-406b-8561-5af50f12539c","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:40:27,165 connection.py _on_message     652 RECV < {"id":"10dd90a5-cbe8-406b-8561-5af50f12539c","result":{}}
DEBUG 2023-07-01 17:40:27,166 connection.py _safely_send    417 SEND > {"id":"6e398b37-672a-4235-be17-25efdff5d381","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:40:27,170 connection.py _on_message     652 RECV < {"id":"6e398b37-672a-4235-be17-25efdff5d381","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:40:27,171 connection.py _safely_send    417 SEND > {"id":"59136739-a868-4c47-8298-360f9c3e1d2f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:40:27,174 connection.py _on_message     650 RECV < {"id":"59136739-a868-4c47-8298-360f9c3e1d2f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:40:27,175 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:40:27,180 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:40:27,180 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:40:27,181 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:40:27,182 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:40:27,183 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:40:27,184 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:40:27,184 connection.py _safely_send    417 SEND > {"id":"bb347bb9-f792-488d-8398-7aa496a7a80c","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:40:27,231 connection.py _on_message     650 RECV < {"id":"bb347bb9-f792-488d-8398-7aa496a7a80c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:40:27,232 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:40:27,233 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:40:27,234 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:40:27,235 connection.py _safely_send    417 ASYNC_SEND > {"id":"7d55b304-5010-4bd3-801a-230996799ff5","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:40:27,280 connection.py _on_message     652 RECV < {"id":"7d55b304-5010-4bd3-801a-230996799ff5","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:40:27,281 connection.py _handle_async_msg 688 received async msg: 7d55b304-5010-4bd3-801a-230996799ff5
DEBUG 2023-07-01 17:40:27,538 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204427526},1688204427527]}}
INFO  2023-07-01 17:40:27,540 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204427526}, 1688204427527]}
DEBUG 2023-07-01 17:40:27,542 connection.py _safely_send    417 SEND > {"id":"e5ee087f-1abc-4bd0-809a-10fd79636ef9","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[1]/input","pageId":2}}
DEBUG 2023-07-01 17:40:27,558 connection.py _on_message     652 RECV < {"id":"e5ee087f-1abc-4bd0-809a-10fd79636ef9","result":{"elementId":"15169152-439d-4919-a325-7ae5878ea6ea","tagName":"input"}}
DEBUG 2023-07-01 17:40:27,560 connection.py _safely_send    417 SEND > {"id":"ce309d51-20ef-40e6-ad3a-d6026f3c79f0","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"15169152-439d-4919-a325-7ae5878ea6ea","pageId":2}}
DEBUG 2023-07-01 17:40:27,575 connection.py _on_message     652 RECV < {"id":"ce309d51-20ef-40e6-ad3a-d6026f3c79f0","result":{}}
INFO  2023-07-01 17:40:27,576 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 17:40:27,576 connection.py _safely_send    417 SEND > {"id":"160f1d0b-5d3d-42f5-8380-c06347addb0e","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 17:40:27,585 connection.py _on_message     652 RECV < {"id":"160f1d0b-5d3d-42f5-8380-c06347addb0e","result":{"elements":[{"elementId":"9f40b1b4-6bde-465b-b19b-e38667fd098c","tagName":"input"}]}}
INFO  2023-07-01 17:40:27,586 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000165B30F82B0>]
DEBUG 2023-07-01 17:40:27,587 connection.py _safely_send    417 SEND > {"id":"3c0a4199-b0cb-43bc-89c1-7f2b8739488c","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"15169152-439d-4919-a325-7ae5878ea6ea","pageId":2}}
DEBUG 2023-07-01 17:40:27,596 connection.py _on_message     652 RECV < {"id":"3c0a4199-b0cb-43bc-89c1-7f2b8739488c","result":{}}
DEBUG 2023-07-01 17:40:27,597 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:40:27,598 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:40:27,599 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:40:27,601 connection.py _safely_send    417 SEND > {"id":"19634005-28fc-4dab-8da5-b716d584a209","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:40:27,672 connection.py _on_message     650 RECV < {"id":"19634005-28fc-4dab-8da5-b716d584a209","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9wFOed5/GvjL1OnEosR4mQAHMeDuPbSqIgPKJA4zh1cmIdqrJUhsMJeFBVBhxvnSsa1Wb3XBWQKGlEqnKXvWh0lavlDMrWSOCNWeSVuBIlr6O6YDRQaFaSRVwXG8J4AUuDwoDi/FhYDLo/en70/NRIGv34Su/XX0xPdz/dI/VHz/Ptp4eciYkJAQAN7pvvAwCATBFYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CC...
INFO  2023-07-01 17:40:27,674 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:40:27,675 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:40:27,676 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 17:40:37,689 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:40:37,689 connection.py _safely_send    417 ASYNC_SEND > {"id":"9038f156-9979-4b04-bb5d-f64fd7908616","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:40:37,691 connection.py _on_message     652 RECV < {"id":"9038f156-9979-4b04-bb5d-f64fd7908616","result":{}}
INFO  2023-07-01 17:40:37,692 connection.py _handle_async_msg 688 received async msg: 9038f156-9979-4b04-bb5d-f64fd7908616, maybe command ignore response
ERROR 2023-07-01 17:40:37,715 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:40:38,159 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:40:38,691 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:40:38,691 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:40:38,692 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:40:38,694 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:40:38,696 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:40:38,696 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:41:09,643 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:41:09,647 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:41:09,649 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:41:09,655 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:41:10,029 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:41:10,029 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:41:10,030 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:41:10,033 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:41:10,034 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:41:10,034 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:41:10,036 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:41:10,036 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:41:12,430 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:41:12,431 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:41:22,434 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:41:22,532 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:41:22,532 connection.py _safely_send    417 SEND > {"id":"d5da63b8-3aaf-4daa-85db-092bb145f962","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:41:22,535 connection.py _on_message     652 RECV < {"id":"d5da63b8-3aaf-4daa-85db-092bb145f962","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:41:22,536 connection.py _safely_send    417 SEND > {"id":"ba58be9b-954b-4674-beba-a40bed5850c8","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:41:22,539 connection.py _on_message     650 RECV < {"id":"ba58be9b-954b-4674-beba-a40bed5850c8","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:41:22,540 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:41:22,540 connection.py _safely_send    417 SEND > {"id":"1ef90611-2053-4f25-aacc-792c50850bce","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:41:22,542 connection.py _on_message     652 RECV < {"id":"1ef90611-2053-4f25-aacc-792c50850bce","result":{}}
DEBUG 2023-07-01 17:41:22,543 connection.py _safely_send    417 SEND > {"id":"2f22f705-713e-4dc0-a7f8-bb5ba474838b","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:41:22,549 connection.py _on_message     652 RECV < {"id":"2f22f705-713e-4dc0-a7f8-bb5ba474838b","result":{}}
DEBUG 2023-07-01 17:41:22,550 connection.py _safely_send    417 SEND > {"id":"f5213388-e0dc-482d-92d6-c9ae1b61e883","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:41:22,553 connection.py _on_message     652 RECV < {"id":"f5213388-e0dc-482d-92d6-c9ae1b61e883","result":{"result":true}}
DEBUG 2023-07-01 17:41:22,554 connection.py _safely_send    417 SEND > {"id":"3ccce28d-d6f5-4ace-bb32-1a99441cb395","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:41:22,556 connection.py _on_message     652 RECV < {"id":"3ccce28d-d6f5-4ace-bb32-1a99441cb395","result":{"result":false}}
DEBUG 2023-07-01 17:41:22,557 connection.py _safely_send    417 SEND > {"id":"dc97a98d-53ab-4608-9c9f-d092fca54106","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:41:22,559 connection.py _on_message     650 RECV < {"id":"dc97a98d-53ab-4608-9c9f-d092fca54106","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:41:22,560 connection.py _safely_send    417 SEND > {"id":"0521b904-578a-4757-8f15-a0b963391cbf","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:41:22,563 connection.py _on_message     652 RECV < {"id":"0521b904-578a-4757-8f15-a0b963391cbf","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:41:22,565 connection.py _safely_send    417 SEND > {"id":"2e12d2ee-b34d-4a8a-aa47-0f967c8e6b70","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:41:22,566 connection.py _on_message     652 RECV < {"id":"2e12d2ee-b34d-4a8a-aa47-0f967c8e6b70","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:41:22,567 connection.py _safely_send    417 SEND > {"id":"0a239517-dbc9-44d2-a133-94373f9214fd","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:41:22,570 connection.py _on_message     652 RECV < {"id":"0a239517-dbc9-44d2-a133-94373f9214fd","result":{"result":false}}
DEBUG 2023-07-01 17:41:22,571 connection.py _safely_send    417 SEND > {"id":"2c424801-5c7c-44f9-9013-410e61b46914","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:41:22,573 connection.py _on_message     652 RECV < {"id":"2c424801-5c7c-44f9-9013-410e61b46914","result":{}}
DEBUG 2023-07-01 17:41:22,575 connection.py _safely_send    417 SEND > {"id":"36b6dc8d-3471-4976-9f4d-4f06909a9e9e","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:41:22,578 connection.py _on_message     652 RECV < {"id":"36b6dc8d-3471-4976-9f4d-4f06909a9e9e","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:41:22,579 connection.py _safely_send    417 SEND > {"id":"967183b3-6205-49f2-8c49-43a20237d22a","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:41:22,811 connection.py _on_message     652 RECV < {"id":"967183b3-6205-49f2-8c49-43a20237d22a","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:41:22,814 connection.py _safely_send    417 SEND > {"id":"da071827-7ebe-481a-abea-ba41b64eac94","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:41:22,817 connection.py _on_message     652 RECV < {"id":"da071827-7ebe-481a-abea-ba41b64eac94","result":{}}
DEBUG 2023-07-01 17:41:22,818 connection.py _safely_send    417 SEND > {"id":"fb6946f8-8c0a-4fd0-b4de-11f362651665","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:41:22,820 connection.py _on_message     652 RECV < {"id":"fb6946f8-8c0a-4fd0-b4de-11f362651665","result":{}}
DEBUG 2023-07-01 17:41:22,821 connection.py _safely_send    417 SEND > {"id":"cd1a196f-1b55-414f-97c2-605f4c58908d","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:41:22,824 connection.py _on_message     652 RECV < {"id":"cd1a196f-1b55-414f-97c2-605f4c58908d","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:41:22,826 connection.py _safely_send    417 SEND > {"id":"c053190d-62d5-46c3-ba54-23b3a47bb20f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:41:22,829 connection.py _on_message     650 RECV < {"id":"c053190d-62d5-46c3-ba54-23b3a47bb20f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:41:22,830 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:41:22,834 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:41:22,835 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:41:22,836 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:41:22,838 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:41:22,839 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:41:22,839 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:41:22,840 connection.py _safely_send    417 SEND > {"id":"47276b0c-da7b-4ce6-bbf9-ff88602312ed","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:41:22,907 connection.py _on_message     650 RECV < {"id":"47276b0c-da7b-4ce6-bbf9-ff88602312ed","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:41:22,909 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:41:22,910 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:41:22,911 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:41:22,912 connection.py _safely_send    417 ASYNC_SEND > {"id":"530b1e94-f2a3-4930-84f0-8c5e8b4988c1","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:41:23,009 connection.py _on_message     652 RECV < {"id":"530b1e94-f2a3-4930-84f0-8c5e8b4988c1","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:41:23,010 connection.py _handle_async_msg 688 received async msg: 530b1e94-f2a3-4930-84f0-8c5e8b4988c1
DEBUG 2023-07-01 17:41:23,321 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688204483305},1688204483306]}}
INFO  2023-07-01 17:41:23,323 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688204483305}, 1688204483306]}
DEBUG 2023-07-01 17:41:23,324 connection.py _safely_send    417 SEND > {"id":"4e58d2c7-9b66-430a-a4d8-664c5e6d427b","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[1]/input","pageId":2}}
DEBUG 2023-07-01 17:41:23,356 connection.py _on_message     652 RECV < {"id":"4e58d2c7-9b66-430a-a4d8-664c5e6d427b","result":{"elementId":"45fbd5fc-c3fb-4070-9d42-daed48144889","tagName":"input"}}
DEBUG 2023-07-01 17:41:23,357 connection.py _safely_send    417 SEND > {"id":"f261c22a-d87b-4e0a-91ec-1ce2fb69bd40","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"45fbd5fc-c3fb-4070-9d42-daed48144889","pageId":2}}
DEBUG 2023-07-01 17:41:23,366 connection.py _on_message     652 RECV < {"id":"f261c22a-d87b-4e0a-91ec-1ce2fb69bd40","result":{}}
INFO  2023-07-01 17:41:23,367 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 17:41:23,368 connection.py _safely_send    417 SEND > {"id":"fd8a1dcf-5118-4d10-87be-8ca2c4ac2388","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 17:41:23,373 connection.py _on_message     652 RECV < {"id":"fd8a1dcf-5118-4d10-87be-8ca2c4ac2388","result":{"elements":[{"elementId":"2307a6f1-1750-4a66-bd98-ccc1e5dd3fa1","tagName":"input"}]}}
INFO  2023-07-01 17:41:23,374 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000028470609370>]
DEBUG 2023-07-01 17:41:23,375 connection.py _safely_send    417 SEND > {"id":"1e1c8057-752f-46c3-8105-66036c7bf53b","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"2307a6f1-1750-4a66-bd98-ccc1e5dd3fa1","pageId":2}}
DEBUG 2023-07-01 17:41:23,384 connection.py _on_message     652 RECV < {"id":"1e1c8057-752f-46c3-8105-66036c7bf53b","result":{}}
DEBUG 2023-07-01 17:41:23,385 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:41:23,387 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:41:23,388 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:41:23,389 connection.py _safely_send    417 SEND > {"id":"e296f1b3-dee0-425a-b918-b37c2aaf0f98","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:41:23,457 connection.py _on_message     650 RECV < {"id":"e296f1b3-dee0-425a-b918-b37c2aaf0f98","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3W1sW9ed5/G/4mTSpmjjVq3ip3jDrpPsoK0qW9eBLXpSrJKWGwGVEHuTJg4toLTbDDaIKExnNkBtMRApD9DdzlrUoovJxlYHMu20ydgJlYUCZ1xim5i0EXMsmWmxTeKWGT9JVs3ETR/GHsfmvrh8uHwUJVEPf/n7eWVd3nvPvZe8P55z7jl0TTKZFADQ4Ka5PgAAqBSBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8...
INFO  2023-07-01 17:41:23,459 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:41:23,459 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:41:23,461 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 17:41:33,476 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 17:41:33,476 connection.py _safely_send    417 ASYNC_SEND > {"id":"0053ee55-78c7-4e3b-9a32-aaaac620cf49","method":"Tool.close","params":{}}
DEBUG 2023-07-01 17:41:33,481 connection.py _on_message     652 RECV < {"id":"0053ee55-78c7-4e3b-9a32-aaaac620cf49","result":{}}
INFO  2023-07-01 17:41:33,482 connection.py _handle_async_msg 688 received async msg: 0053ee55-78c7-4e3b-9a32-aaaac620cf49, maybe command ignore response
ERROR 2023-07-01 17:41:33,504 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 17:41:33,919 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 17:41:34,480 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 17:41:34,480 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 17:41:34,481 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 17:41:34,483 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 17:41:34,483 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 17:41:34,484 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 17:59:35,965 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 17:59:35,969 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 17:59:35,971 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 17:59:35,979 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 17:59:36,350 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 17:59:36,350 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 17:59:36,352 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 17:59:36,354 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 17:59:36,355 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 17:59:36,355 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 17:59:36,357 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 17:59:36,358 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 17:59:38,840 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 17:59:38,840 minium_object.py _do_shell       87  out:

INFO  2023-07-01 17:59:48,842 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 17:59:49,169 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 17:59:49,170 connection.py _safely_send    417 SEND > {"id":"8a3f83b7-3d58-44fb-b33e-3260199eb292","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:59:49,175 connection.py _on_message     652 RECV < {"id":"8a3f83b7-3d58-44fb-b33e-3260199eb292","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:59:49,175 connection.py _safely_send    417 SEND > {"id":"5ee53712-f570-4edb-8e14-5b61f8a416e0","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:59:50,604 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 17:59:50,672 connection.py _on_message     650 RECV < {"id":"5ee53712-f570-4edb-8e14-5b61f8a416e0","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 17:59:50,673 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 17:59:50,675 connection.py _safely_send    417 SEND > {"id":"1734ecfd-9a43-4bcb-bcbd-c8157c2f8355","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 17:59:50,693 connection.py _on_message     652 RECV < {"id":"1734ecfd-9a43-4bcb-bcbd-c8157c2f8355","result":{}}
DEBUG 2023-07-01 17:59:50,694 connection.py _safely_send    417 SEND > {"id":"46cb5da3-825e-4fbd-afef-f356b2e15c8a","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 17:59:50,706 connection.py _on_message     652 RECV < {"id":"46cb5da3-825e-4fbd-afef-f356b2e15c8a","result":{}}
DEBUG 2023-07-01 17:59:50,707 connection.py _safely_send    417 SEND > {"id":"36b99d56-eb97-4f50-923f-1ad01fa7ec20","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 17:59:50,723 connection.py _on_message     652 RECV < {"id":"36b99d56-eb97-4f50-923f-1ad01fa7ec20","result":{"result":true}}
DEBUG 2023-07-01 17:59:50,724 connection.py _safely_send    417 SEND > {"id":"3708f61d-d465-4880-8063-210ba8fa6250","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 17:59:50,727 connection.py _on_message     652 RECV < {"id":"3708f61d-d465-4880-8063-210ba8fa6250","result":{"result":false}}
DEBUG 2023-07-01 17:59:50,727 connection.py _safely_send    417 SEND > {"id":"cbab4947-aab7-49d7-b725-fea82b2ad332","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 17:59:50,730 connection.py _on_message     650 RECV < {"id":"cbab4947-aab7-49d7-b725-fea82b2ad332","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 17:59:50,731 connection.py _safely_send    417 SEND > {"id":"c0383b30-bce2-4556-af5d-3971e1f55b7e","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 17:59:50,734 connection.py _on_message     652 RECV < {"id":"c0383b30-bce2-4556-af5d-3971e1f55b7e","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 17:59:50,735 connection.py _safely_send    417 SEND > {"id":"9ac1bdac-7d59-4a37-a361-3cb4ad59fbff","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 17:59:50,736 connection.py _on_message     652 RECV < {"id":"9ac1bdac-7d59-4a37-a361-3cb4ad59fbff","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 17:59:50,737 connection.py _safely_send    417 SEND > {"id":"129be12d-1e07-4293-b4b8-99b1e98b2fde","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 17:59:50,740 connection.py _on_message     652 RECV < {"id":"129be12d-1e07-4293-b4b8-99b1e98b2fde","result":{"result":false}}
DEBUG 2023-07-01 17:59:50,741 connection.py _safely_send    417 SEND > {"id":"88f1312b-2a64-40d1-85a3-4c265b914de8","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 17:59:50,744 connection.py _on_message     652 RECV < {"id":"88f1312b-2a64-40d1-85a3-4c265b914de8","result":{}}
DEBUG 2023-07-01 17:59:50,746 connection.py _safely_send    417 SEND > {"id":"7b1ee1d4-303f-4efd-a6df-7b592f6fcf64","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 17:59:50,748 connection.py _on_message     652 RECV < {"id":"7b1ee1d4-303f-4efd-a6df-7b592f6fcf64","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 17:59:50,749 connection.py _safely_send    417 SEND > {"id":"51f5d0d9-43b5-4d94-a550-f5ba1d1a3b27","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 17:59:50,957 connection.py _on_message     652 RECV < {"id":"51f5d0d9-43b5-4d94-a550-f5ba1d1a3b27","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 17:59:50,958 connection.py _safely_send    417 SEND > {"id":"0dc7f6d0-d6cb-421c-b9ad-b8c1526b9430","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 17:59:50,962 connection.py _on_message     652 RECV < {"id":"0dc7f6d0-d6cb-421c-b9ad-b8c1526b9430","result":{}}
DEBUG 2023-07-01 17:59:50,963 connection.py _safely_send    417 SEND > {"id":"228f3517-95df-478c-886f-fae2fe36de11","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 17:59:50,965 connection.py _on_message     652 RECV < {"id":"228f3517-95df-478c-886f-fae2fe36de11","result":{}}
DEBUG 2023-07-01 17:59:50,966 connection.py _safely_send    417 SEND > {"id":"4c423a31-4f25-438e-95a4-441b6df583cf","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 17:59:50,969 connection.py _on_message     652 RECV < {"id":"4c423a31-4f25-438e-95a4-441b6df583cf","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 17:59:50,970 connection.py _safely_send    417 SEND > {"id":"23e68791-fa5c-41ad-befc-63b560d62267","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 17:59:50,973 connection.py _on_message     650 RECV < {"id":"23e68791-fa5c-41ad-befc-63b560d62267","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 17:59:50,974 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 17:59:50,991 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 17:59:50,991 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 17:59:50,993 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 17:59:50,994 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 17:59:50,996 minitest.py capture         673 capture setup.png
INFO  2023-07-01 17:59:50,996 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:59:50,997 connection.py _safely_send    417 SEND > {"id":"d4e2ca59-e5b9-4848-931e-e95770b0b3ba","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:59:51,051 connection.py _on_message     650 RECV < {"id":"d4e2ca59-e5b9-4848-931e-e95770b0b3ba","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 17:59:51,053 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:59:51,055 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 17:59:51,056 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 17:59:51,057 connection.py _safely_send    417 ASYNC_SEND > {"id":"2d4e8513-385e-4c40-abb6-9da75b58af50","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 17:59:51,091 connection.py _on_message     652 RECV < {"id":"2d4e8513-385e-4c40-abb6-9da75b58af50","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 17:59:51,091 connection.py _handle_async_msg 688 received async msg: 2d4e8513-385e-4c40-abb6-9da75b58af50
DEBUG 2023-07-01 17:59:51,386 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688205591371},1688205591372]}}
INFO  2023-07-01 17:59:51,389 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688205591371}, 1688205591372]}
INFO  2023-07-01 17:59:51,391 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 17:59:51,393 connection.py _safely_send    417 SEND > {"id":"8fb97777-d6cf-4d83-8bfe-6b6b3474162e","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 17:59:51,413 connection.py _on_message     652 RECV < {"id":"8fb97777-d6cf-4d83-8bfe-6b6b3474162e","result":{"elements":[{"elementId":"3c950cda-b55a-461b-a532-f47c46b04c40","tagName":"input"}]}}
INFO  2023-07-01 17:59:51,414 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000017872BC1B50>]
DEBUG 2023-07-01 17:59:51,418 connection.py _safely_send    417 SEND > {"id":"f7fb7f11-3ed8-4656-bbae-0fbd604f55b0","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"3c950cda-b55a-461b-a532-f47c46b04c40","pageId":2}}
DEBUG 2023-07-01 17:59:51,426 connection.py _on_message     652 RECV < {"id":"f7fb7f11-3ed8-4656-bbae-0fbd604f55b0","result":{}}
INFO  2023-07-01 17:59:51,432 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 17:59:51,435 connection.py _safely_send    417 SEND > {"id":"24b5c16b-45b7-4938-b22a-ba2f744849d3","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 17:59:51,441 connection.py _on_message     652 RECV < {"id":"24b5c16b-45b7-4938-b22a-ba2f744849d3","result":{"elements":[{"elementId":"da4efa33-01ba-46ff-9380-654468525908","tagName":"input"}]}}
INFO  2023-07-01 17:59:51,442 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000017872BFB4F0>]
DEBUG 2023-07-01 17:59:51,443 connection.py _safely_send    417 SEND > {"id":"99bf0a64-6784-4a88-b603-aa0843846f55","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"da4efa33-01ba-46ff-9380-654468525908","pageId":2}}
DEBUG 2023-07-01 17:59:51,452 connection.py _on_message     652 RECV < {"id":"99bf0a64-6784-4a88-b603-aa0843846f55","result":{}}
DEBUG 2023-07-01 17:59:51,453 connection.py _safely_send    417 SEND > {"id":"450cbf98-4fdb-4b29-8cd9-d555dbbba895","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 17:59:51,467 connection.py _on_message     652 RECV < {"id":"450cbf98-4fdb-4b29-8cd9-d555dbbba895","result":{"elementId":"a55333ad-a0ba-4bea-bd99-48ff3350120d","tagName":"picker"}}
DEBUG 2023-07-01 17:59:51,469 connection.py _safely_send    417 SEND > {"id":"a38b0852-b5d0-4dd0-b1ee-fec4d9d838ed","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":"\u6d4b\u8bd5"},"elementId":"a55333ad-a0ba-4bea-bd99-48ff3350120d","pageId":2}}
DEBUG 2023-07-01 17:59:51,474 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为","测试"]}}
DEBUG 2023-07-01 17:59:51,479 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["测试"]}}
DEBUG 2023-07-01 17:59:51,480 connection.py _on_message     652 RECV < {"id":"a38b0852-b5d0-4dd0-b1ee-fec4d9d838ed","result":{}}
DEBUG 2023-07-01 17:59:51,481 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 17:59:51,484 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 17:59:51,487 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 17:59:51,488 connection.py _safely_send    417 SEND > {"id":"b5af5243-4697-4576-866f-25c377f5227f","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 17:59:51,577 connection.py _on_message     650 RECV < {"id":"b5af5243-4697-4576-866f-25c377f5227f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9wm/Wd4PGPCVkKnZa0bk1+QA5xQG6nrevETxiwsnTOcNXhGeyBHC0JimequGXnmEqe6+wxU7AzlpLO9G53Y/mmN8vhuDuOgJYuAYkbM+ZSzxUihSHPxo5o50pJ+7AhcRwTQUq73WQh0f2hX49+Wo7lHx/n/foLS4+e55Fivf19vnoeUZdMJgUANLhqsXcAAKpFsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAK...
INFO  2023-07-01 17:59:51,579 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 17:59:51,580 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 17:59:51,581 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:00:01,596 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:00:01,597 connection.py _safely_send    417 ASYNC_SEND > {"id":"5af13eff-c15d-4410-9fe4-f07b1bf6599a","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:00:01,603 connection.py _on_message     652 RECV < {"id":"5af13eff-c15d-4410-9fe4-f07b1bf6599a","result":{}}
INFO  2023-07-01 18:00:01,603 connection.py _handle_async_msg 688 received async msg: 5af13eff-c15d-4410-9fe4-f07b1bf6599a, maybe command ignore response
ERROR 2023-07-01 18:00:01,623 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:00:02,074 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:00:02,601 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:00:02,601 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:00:02,602 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:00:02,604 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:00:02,604 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:00:02,606 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:01:59,953 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:01:59,957 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:01:59,958 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:01:59,963 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:02:00,343 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:02:00,343 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:02:00,344 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:02:00,346 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:02:00,347 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:02:00,347 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:02:00,349 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:02:00,350 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:02:02,883 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:02:02,884 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:02:12,888 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:02:13,280 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:02:13,280 connection.py _safely_send    417 SEND > {"id":"6e8ab014-0150-4c45-b77d-8203baa95cd0","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:02:13,284 connection.py _on_message     652 RECV < {"id":"6e8ab014-0150-4c45-b77d-8203baa95cd0","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:02:13,285 connection.py _safely_send    417 SEND > {"id":"49bed611-f641-4740-8ef6-4f4621f77be5","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:02:13,288 connection.py _on_message     650 RECV < {"id":"49bed611-f641-4740-8ef6-4f4621f77be5","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:02:13,290 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:02:13,291 connection.py _safely_send    417 SEND > {"id":"710b6629-8975-49f1-a857-2e97f9976323","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:02:13,293 connection.py _on_message     652 RECV < {"id":"710b6629-8975-49f1-a857-2e97f9976323","result":{}}
DEBUG 2023-07-01 18:02:13,294 connection.py _safely_send    417 SEND > {"id":"4eb2589f-b62b-4b84-991f-3dfb8e1cfe13","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:02:13,296 connection.py _on_message     652 RECV < {"id":"4eb2589f-b62b-4b84-991f-3dfb8e1cfe13","result":{}}
DEBUG 2023-07-01 18:02:13,298 connection.py _safely_send    417 SEND > {"id":"411a96d8-da76-4a0b-988d-9d2df58c89d4","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:02:13,302 connection.py _on_message     652 RECV < {"id":"411a96d8-da76-4a0b-988d-9d2df58c89d4","result":{"result":true}}
DEBUG 2023-07-01 18:02:13,304 connection.py _safely_send    417 SEND > {"id":"b5af77a3-7167-401c-83ca-dafe80fa6853","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:02:13,306 connection.py _on_message     652 RECV < {"id":"b5af77a3-7167-401c-83ca-dafe80fa6853","result":{"result":false}}
DEBUG 2023-07-01 18:02:13,307 connection.py _safely_send    417 SEND > {"id":"6fdbf4fb-c5dc-4316-9393-fc371510eb8e","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:02:13,309 connection.py _on_message     650 RECV < {"id":"6fdbf4fb-c5dc-4316-9393-fc371510eb8e","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:02:13,310 connection.py _safely_send    417 SEND > {"id":"3f4800ee-5922-4f93-8dac-42fe32f6875e","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:02:13,312 connection.py _on_message     652 RECV < {"id":"3f4800ee-5922-4f93-8dac-42fe32f6875e","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:02:13,314 connection.py _safely_send    417 SEND > {"id":"f6682739-966a-421a-9558-9d032b6bbad8","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:02:13,315 connection.py _on_message     652 RECV < {"id":"f6682739-966a-421a-9558-9d032b6bbad8","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:02:13,316 connection.py _safely_send    417 SEND > {"id":"a4934510-ae44-436f-b098-f779a9ffbedb","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:02:13,320 connection.py _on_message     652 RECV < {"id":"a4934510-ae44-436f-b098-f779a9ffbedb","result":{"result":false}}
DEBUG 2023-07-01 18:02:13,321 connection.py _safely_send    417 SEND > {"id":"f8e08a73-efe8-42c0-b055-08beb22b1acd","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:02:13,324 connection.py _on_message     652 RECV < {"id":"f8e08a73-efe8-42c0-b055-08beb22b1acd","result":{}}
DEBUG 2023-07-01 18:02:13,325 connection.py _safely_send    417 SEND > {"id":"d985c025-e02d-45d3-884b-2eea41dae1ad","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:02:13,327 connection.py _on_message     652 RECV < {"id":"d985c025-e02d-45d3-884b-2eea41dae1ad","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:02:13,329 connection.py _safely_send    417 SEND > {"id":"fa04080d-51e2-4777-bc22-f99c504a348b","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:02:13,579 connection.py _on_message     652 RECV < {"id":"fa04080d-51e2-4777-bc22-f99c504a348b","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:02:13,582 connection.py _safely_send    417 SEND > {"id":"378a80b5-ea28-4fdd-9120-4911260d7dea","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:02:13,585 connection.py _on_message     652 RECV < {"id":"378a80b5-ea28-4fdd-9120-4911260d7dea","result":{}}
DEBUG 2023-07-01 18:02:13,586 connection.py _safely_send    417 SEND > {"id":"e61121bc-f6d0-46ec-8cbd-b081a9d9a297","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:02:13,588 connection.py _on_message     652 RECV < {"id":"e61121bc-f6d0-46ec-8cbd-b081a9d9a297","result":{}}
DEBUG 2023-07-01 18:02:13,589 connection.py _safely_send    417 SEND > {"id":"472729f5-92ea-448c-8460-feb11c52164b","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:02:13,592 connection.py _on_message     652 RECV < {"id":"472729f5-92ea-448c-8460-feb11c52164b","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:02:13,593 connection.py _safely_send    417 SEND > {"id":"d1e76ca6-9762-46bb-84b6-c8d3950cf909","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:02:13,597 connection.py _on_message     650 RECV < {"id":"d1e76ca6-9762-46bb-84b6-c8d3950cf909","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:02:13,598 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:02:13,601 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:02:13,601 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:02:13,602 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:02:13,603 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:02:13,616 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:02:13,617 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:02:13,618 connection.py _safely_send    417 SEND > {"id":"bbaa2dd0-61e0-43cf-8598-b24bdb4d02d9","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:02:13,677 connection.py _on_message     650 RECV < {"id":"bbaa2dd0-61e0-43cf-8598-b24bdb4d02d9","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:02:13,679 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:02:13,680 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:02:13,680 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:02:13,682 connection.py _safely_send    417 ASYNC_SEND > {"id":"8518d3d0-230f-4dc8-9c7b-b81f3dd567e8","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:02:13,735 connection.py _on_message     652 RECV < {"id":"8518d3d0-230f-4dc8-9c7b-b81f3dd567e8","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:02:13,736 connection.py _handle_async_msg 688 received async msg: 8518d3d0-230f-4dc8-9c7b-b81f3dd567e8
DEBUG 2023-07-01 18:02:14,022 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688205734011},1688205734012]}}
INFO  2023-07-01 18:02:14,025 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688205734011}, 1688205734012]}
INFO  2023-07-01 18:02:14,026 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:02:14,030 connection.py _safely_send    417 SEND > {"id":"322590df-9e14-4270-9a5d-d4ac1e5c4f68","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:02:14,051 connection.py _on_message     652 RECV < {"id":"322590df-9e14-4270-9a5d-d4ac1e5c4f68","result":{"elements":[{"elementId":"647ac9a0-f04f-499a-92d0-419eb3a61a60","tagName":"input"}]}}
INFO  2023-07-01 18:02:14,052 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000017CF7B19A90>]
DEBUG 2023-07-01 18:02:14,054 connection.py _safely_send    417 SEND > {"id":"e16d8e9a-9fa7-4c91-9dbd-7a21eb2fd429","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"647ac9a0-f04f-499a-92d0-419eb3a61a60","pageId":2}}
DEBUG 2023-07-01 18:02:14,059 connection.py _on_message     652 RECV < {"id":"e16d8e9a-9fa7-4c91-9dbd-7a21eb2fd429","result":{}}
INFO  2023-07-01 18:02:14,060 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:02:14,060 connection.py _safely_send    417 SEND > {"id":"b4acd60d-bd48-4174-9437-1e60924077bc","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:02:14,073 connection.py _on_message     652 RECV < {"id":"b4acd60d-bd48-4174-9437-1e60924077bc","result":{"elements":[{"elementId":"4e636eb7-9d7f-4f9a-bdbd-34865773fe14","tagName":"input"}]}}
INFO  2023-07-01 18:02:14,074 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000017CF7B683A0>]
DEBUG 2023-07-01 18:02:14,075 connection.py _safely_send    417 SEND > {"id":"ed7e85be-4bf7-4faa-95c8-00d8ba2a22aa","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"4e636eb7-9d7f-4f9a-bdbd-34865773fe14","pageId":2}}
DEBUG 2023-07-01 18:02:14,082 connection.py _on_message     652 RECV < {"id":"ed7e85be-4bf7-4faa-95c8-00d8ba2a22aa","result":{}}
DEBUG 2023-07-01 18:02:14,084 connection.py _safely_send    417 SEND > {"id":"f3253392-d327-4787-93fb-ebf8dc8e0278","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:02:14,111 connection.py _on_message     652 RECV < {"id":"f3253392-d327-4787-93fb-ebf8dc8e0278","result":{"elementId":"2b1d48a3-6a59-4be0-8147-9772232e6721","tagName":"picker"}}
DEBUG 2023-07-01 18:02:14,112 connection.py _safely_send    417 SEND > {"id":"c6f2764e-7617-4cfc-98c1-3ff7c76dec36","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":"\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a \u5357\u5b81\u5e02 \u5174\u5b81\u533a"},"elementId":"2b1d48a3-6a59-4be0-8147-9772232e6721","pageId":2}}
DEBUG 2023-07-01 18:02:14,128 connection.py _on_message     652 RECV < {"id":"c6f2764e-7617-4cfc-98c1-3ff7c76dec36","result":{}}
DEBUG 2023-07-01 18:02:14,137 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为","广西壮族自治区 南宁市 兴宁区"]}}
DEBUG 2023-07-01 18:02:14,139 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["广西壮族自治区 南宁市 兴宁区"]}}
DEBUG 2023-07-01 18:02:24,129 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:02:24,130 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:02:24,131 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:02:24,133 connection.py _safely_send    417 SEND > {"id":"bc7dcdb2-aa2d-4b12-9273-44f7aa3c9e79","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:02:24,201 connection.py _on_message     650 RECV < {"id":"bc7dcdb2-aa2d-4b12-9273-44f7aa3c9e79","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9wm/Wd4PGPCVl+dFrSquf8ghzigNxOW9fBTxiwsnTOcNXhGeyBXik/FM9UMWXnmEqe6+0xU2JlLIXO9O72InmHm83heHdkAW13lyJxY8ZsqrlCpDDk2dgRZa6UtGIDcRwTgUu7XbKQ+P7QD+u3ZVuy/XHer7+wfjzPI8XP29/nq+cRTbOzswIAGly20hsAALUiWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYANQgWADUIFgA1CBYAN...
INFO  2023-07-01 18:02:24,203 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:02:24,204 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:02:24,206 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:02:34,216 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:02:34,217 connection.py _safely_send    417 ASYNC_SEND > {"id":"ac79a85a-d4f1-4a7d-a633-bd7eb5b01ce2","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:02:34,225 connection.py _on_message     652 RECV < {"id":"ac79a85a-d4f1-4a7d-a633-bd7eb5b01ce2","result":{}}
INFO  2023-07-01 18:02:34,225 connection.py _handle_async_msg 688 received async msg: ac79a85a-d4f1-4a7d-a633-bd7eb5b01ce2, maybe command ignore response
ERROR 2023-07-01 18:02:34,248 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:02:34,717 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:02:35,220 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:02:35,220 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:02:35,222 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:02:35,224 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:02:35,224 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:02:35,225 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:05:06,112 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:05:06,117 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:05:06,119 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:05:06,125 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:05:06,504 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:05:06,504 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:05:06,505 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:05:06,507 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:05:06,508 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:05:06,509 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:05:06,511 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:05:06,512 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:05:08,983 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:05:08,984 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:05:18,987 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:05:19,057 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:05:19,057 connection.py _safely_send    417 SEND > {"id":"d4e8a832-17eb-4f6c-bd96-4dac3d8a45ed","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:05:19,061 connection.py _on_message     652 RECV < {"id":"d4e8a832-17eb-4f6c-bd96-4dac3d8a45ed","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:05:19,062 connection.py _safely_send    417 SEND > {"id":"e450fd79-3433-4b80-94a7-559d01b57a80","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:05:19,066 connection.py _on_message     650 RECV < {"id":"e450fd79-3433-4b80-94a7-559d01b57a80","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:05:19,067 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:05:19,069 connection.py _safely_send    417 SEND > {"id":"3cf4d649-f328-4509-9fec-fe0062574006","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:05:19,071 connection.py _on_message     652 RECV < {"id":"3cf4d649-f328-4509-9fec-fe0062574006","result":{}}
DEBUG 2023-07-01 18:05:19,072 connection.py _safely_send    417 SEND > {"id":"ce260843-bc04-48dc-a3a8-1e1e9e64e678","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:05:19,076 connection.py _on_message     652 RECV < {"id":"ce260843-bc04-48dc-a3a8-1e1e9e64e678","result":{}}
DEBUG 2023-07-01 18:05:19,077 connection.py _safely_send    417 SEND > {"id":"660043fa-aed3-4f62-bbfd-ce5803fad4ff","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:05:19,080 connection.py _on_message     652 RECV < {"id":"660043fa-aed3-4f62-bbfd-ce5803fad4ff","result":{"result":true}}
DEBUG 2023-07-01 18:05:19,082 connection.py _safely_send    417 SEND > {"id":"f094227a-47cf-4e47-9da3-ae53256fd27d","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:05:19,084 connection.py _on_message     652 RECV < {"id":"f094227a-47cf-4e47-9da3-ae53256fd27d","result":{"result":false}}
DEBUG 2023-07-01 18:05:19,085 connection.py _safely_send    417 SEND > {"id":"07a01ac2-14db-44a0-88af-71af1842f938","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:05:19,087 connection.py _on_message     650 RECV < {"id":"07a01ac2-14db-44a0-88af-71af1842f938","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:05:19,088 connection.py _safely_send    417 SEND > {"id":"4b9c49a6-7f73-4c9f-a0fc-b274597850df","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:05:19,090 connection.py _on_message     652 RECV < {"id":"4b9c49a6-7f73-4c9f-a0fc-b274597850df","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:05:19,092 connection.py _safely_send    417 SEND > {"id":"7ad32d4c-e28f-4dc8-b625-37b2dc1cad87","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:05:19,093 connection.py _on_message     652 RECV < {"id":"7ad32d4c-e28f-4dc8-b625-37b2dc1cad87","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:05:19,094 connection.py _safely_send    417 SEND > {"id":"6a676106-0d10-439f-8e74-ad6904576104","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:05:19,097 connection.py _on_message     652 RECV < {"id":"6a676106-0d10-439f-8e74-ad6904576104","result":{"result":false}}
DEBUG 2023-07-01 18:05:19,098 connection.py _safely_send    417 SEND > {"id":"908acebd-c56c-4380-b7e0-34a68ff10040","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:05:19,102 connection.py _on_message     652 RECV < {"id":"908acebd-c56c-4380-b7e0-34a68ff10040","result":{}}
DEBUG 2023-07-01 18:05:19,102 connection.py _safely_send    417 SEND > {"id":"2257eaaa-83fc-4f1a-b755-32f6de7c8447","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:05:19,104 connection.py _on_message     652 RECV < {"id":"2257eaaa-83fc-4f1a-b755-32f6de7c8447","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:05:19,105 connection.py _safely_send    417 SEND > {"id":"d7a37372-dcfd-45ff-b479-4d1fb43784ad","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:05:19,351 connection.py _on_message     652 RECV < {"id":"d7a37372-dcfd-45ff-b479-4d1fb43784ad","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:05:19,354 connection.py _safely_send    417 SEND > {"id":"6ca18acf-ed75-47e0-9352-fbce0b514ba4","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:05:19,358 connection.py _on_message     652 RECV < {"id":"6ca18acf-ed75-47e0-9352-fbce0b514ba4","result":{}}
DEBUG 2023-07-01 18:05:19,358 connection.py _safely_send    417 SEND > {"id":"d062ff43-c0fe-4a31-9552-f74638bf4f5e","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:05:19,360 connection.py _on_message     652 RECV < {"id":"d062ff43-c0fe-4a31-9552-f74638bf4f5e","result":{}}
DEBUG 2023-07-01 18:05:19,361 connection.py _safely_send    417 SEND > {"id":"f78ac962-11d7-4b3d-bdeb-8d2b9b9f21a4","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:05:19,365 connection.py _on_message     652 RECV < {"id":"f78ac962-11d7-4b3d-bdeb-8d2b9b9f21a4","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:05:19,366 connection.py _safely_send    417 SEND > {"id":"20802415-8f1c-4ea8-8216-23fcbe381d2f","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:05:19,369 connection.py _on_message     650 RECV < {"id":"20802415-8f1c-4ea8-8216-23fcbe381d2f","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:05:19,370 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:05:19,375 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:05:19,375 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:05:19,376 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:05:19,377 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:05:19,378 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:05:19,379 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:05:19,379 connection.py _safely_send    417 SEND > {"id":"a2c7a0d0-e78c-44a3-a09c-88d305f01e1a","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:05:19,428 connection.py _on_message     650 RECV < {"id":"a2c7a0d0-e78c-44a3-a09c-88d305f01e1a","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:05:19,430 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:05:19,431 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:05:19,432 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:05:19,433 connection.py _safely_send    417 ASYNC_SEND > {"id":"30acbfdf-7c34-4cf9-bb12-bcf86359f752","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:05:19,483 connection.py _on_message     652 RECV < {"id":"30acbfdf-7c34-4cf9-bb12-bcf86359f752","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:05:19,484 connection.py _handle_async_msg 688 received async msg: 30acbfdf-7c34-4cf9-bb12-bcf86359f752
DEBUG 2023-07-01 18:05:19,765 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688205919753},1688205919755]}}
INFO  2023-07-01 18:05:19,767 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688205919753}, 1688205919755]}
INFO  2023-07-01 18:05:19,770 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:05:19,772 connection.py _safely_send    417 SEND > {"id":"12b3b934-970a-4b1d-8cc6-5d5332c65354","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:05:19,811 connection.py _on_message     652 RECV < {"id":"12b3b934-970a-4b1d-8cc6-5d5332c65354","result":{"elements":[{"elementId":"307ee1fa-0f78-4533-943c-5aec8297a6fb","tagName":"input"}]}}
INFO  2023-07-01 18:05:19,812 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002789BE42BB0>]
DEBUG 2023-07-01 18:05:19,815 connection.py _safely_send    417 SEND > {"id":"1474b16f-0f16-4ef8-97e8-79e001cef76e","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"307ee1fa-0f78-4533-943c-5aec8297a6fb","pageId":2}}
DEBUG 2023-07-01 18:05:19,826 connection.py _on_message     652 RECV < {"id":"1474b16f-0f16-4ef8-97e8-79e001cef76e","result":{}}
INFO  2023-07-01 18:05:19,827 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:05:19,827 connection.py _safely_send    417 SEND > {"id":"b078c7da-0db4-4f07-97c7-27d229ec6b34","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:05:19,834 connection.py _on_message     652 RECV < {"id":"b078c7da-0db4-4f07-97c7-27d229ec6b34","result":{"elements":[{"elementId":"ff9b65d2-1cf9-4acc-8752-9094bbe21ff4","tagName":"input"}]}}
INFO  2023-07-01 18:05:19,835 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002789BE582E0>]
DEBUG 2023-07-01 18:05:19,837 connection.py _safely_send    417 SEND > {"id":"0e3938bd-7f43-401d-bb20-9088402cdcb4","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"ff9b65d2-1cf9-4acc-8752-9094bbe21ff4","pageId":2}}
DEBUG 2023-07-01 18:05:19,845 connection.py _on_message     652 RECV < {"id":"0e3938bd-7f43-401d-bb20-9088402cdcb4","result":{}}
DEBUG 2023-07-01 18:05:19,846 connection.py _safely_send    417 SEND > {"id":"082984db-edf0-4b03-9687-6eea86aae5a1","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:05:19,860 connection.py _on_message     652 RECV < {"id":"082984db-edf0-4b03-9687-6eea86aae5a1","result":{"elementId":"1ab837e3-da18-44db-9097-fa9d33e0b471","tagName":"picker"}}
DEBUG 2023-07-01 18:05:19,861 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:05:19,863 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:05:19,865 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:05:19,866 connection.py _safely_send    417 SEND > {"id":"84e0a31b-2720-487a-bc58-3928020ebd4b","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:05:19,930 connection.py _on_message     650 RECV < {"id":"84e0a31b-2720-487a-bc58-3928020ebd4b","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3W1sW9ed5/G/4mTSpmjjVq3ip3jDrpPsoK0qW9eBLXpSrJKWGwGVEHuTJg4toLTbDDaIKExnNkBtMRApD9DdzlrUoovJxlYHMu20ydgJlYUCZ1xim5i0EXMsmWmxTeKWGT9JVs3ETR/GHsfmvrh8uHwUJVEPf/n7eWVd3nvPvZe8P55z7jl0TTKZFADQ4Ka5PgAAqBSBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8...
INFO  2023-07-01 18:05:19,932 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:05:19,933 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:05:19,934 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 18:05:19,947 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 21, in test_my
    picker.pick(1,1,"bindRegionChange")
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
TypeError: pick() takes 2 positional arguments but 4 were given
INFO  2023-07-01 18:05:29,958 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:05:29,958 connection.py _safely_send    417 ASYNC_SEND > {"id":"238bd480-c202-4174-afb9-da5130141375","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:05:29,960 connection.py _on_message     652 RECV < {"id":"238bd480-c202-4174-afb9-da5130141375","result":{}}
INFO  2023-07-01 18:05:29,961 connection.py _handle_async_msg 688 received async msg: 238bd480-c202-4174-afb9-da5130141375, maybe command ignore response
ERROR 2023-07-01 18:05:29,981 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:05:30,473 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:05:30,960 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:05:30,960 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:05:30,962 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:05:30,963 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:05:30,963 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:05:30,964 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:14:14,735 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:14:14,739 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:14:14,741 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:14:14,747 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:14:15,128 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:14:15,129 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:14:15,130 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:14:15,132 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:14:15,133 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:14:15,134 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:14:15,135 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:14:15,136 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:14:17,599 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:14:17,600 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:14:27,602 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:14:28,570 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:14:28,571 connection.py _safely_send    417 SEND > {"id":"6dd11f41-079d-4e1e-8c90-8fb84583f05b","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:14:28,574 connection.py _on_message     652 RECV < {"id":"6dd11f41-079d-4e1e-8c90-8fb84583f05b","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:14:28,575 connection.py _safely_send    417 SEND > {"id":"3852abcd-34f6-434c-bcf1-3d0e475a9fde","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:14:30,121 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 18:14:30,142 connection.py _on_message     650 RECV < {"id":"3852abcd-34f6-434c-bcf1-3d0e475a9fde","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:14:30,143 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:14:30,144 connection.py _safely_send    417 SEND > {"id":"180c6c8a-3309-4e4a-88a8-abea0703c32a","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:14:30,147 connection.py _on_message     652 RECV < {"id":"180c6c8a-3309-4e4a-88a8-abea0703c32a","result":{}}
DEBUG 2023-07-01 18:14:30,148 connection.py _safely_send    417 SEND > {"id":"57a0fc4e-0219-4053-9a82-1961d6d0d677","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:14:30,150 connection.py _on_message     652 RECV < {"id":"57a0fc4e-0219-4053-9a82-1961d6d0d677","result":{}}
DEBUG 2023-07-01 18:14:30,151 connection.py _safely_send    417 SEND > {"id":"95966087-e608-4471-b852-54e421543499","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:14:30,154 connection.py _on_message     652 RECV < {"id":"95966087-e608-4471-b852-54e421543499","result":{"result":true}}
DEBUG 2023-07-01 18:14:30,155 connection.py _safely_send    417 SEND > {"id":"ad88261f-8500-4d4c-a9b7-68c1c0819bb9","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:14:30,157 connection.py _on_message     652 RECV < {"id":"ad88261f-8500-4d4c-a9b7-68c1c0819bb9","result":{"result":false}}
DEBUG 2023-07-01 18:14:30,158 connection.py _safely_send    417 SEND > {"id":"a5b7c34a-1903-4ded-b9be-ef4bcfdbf3a9","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:14:30,160 connection.py _on_message     650 RECV < {"id":"a5b7c34a-1903-4ded-b9be-ef4bcfdbf3a9","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:14:30,161 connection.py _safely_send    417 SEND > {"id":"d1a1d47c-512d-498e-8dfa-39e4e32d096b","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:14:30,163 connection.py _on_message     652 RECV < {"id":"d1a1d47c-512d-498e-8dfa-39e4e32d096b","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:14:30,165 connection.py _safely_send    417 SEND > {"id":"2ba4f303-5e8a-45c2-b574-cdd72cabbc91","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:14:30,166 connection.py _on_message     652 RECV < {"id":"2ba4f303-5e8a-45c2-b574-cdd72cabbc91","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:14:30,167 connection.py _safely_send    417 SEND > {"id":"975b71cc-f157-4c00-8a1d-8c42fb6cb724","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:14:30,170 connection.py _on_message     652 RECV < {"id":"975b71cc-f157-4c00-8a1d-8c42fb6cb724","result":{"result":false}}
DEBUG 2023-07-01 18:14:30,171 connection.py _safely_send    417 SEND > {"id":"8b0e7425-5e04-4a31-8879-c79ed38d5cfa","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:14:30,173 connection.py _on_message     652 RECV < {"id":"8b0e7425-5e04-4a31-8879-c79ed38d5cfa","result":{}}
DEBUG 2023-07-01 18:14:30,176 connection.py _safely_send    417 SEND > {"id":"cdc8ca6e-f8b6-4299-a2a8-38cb43205bd7","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:14:30,178 connection.py _on_message     652 RECV < {"id":"cdc8ca6e-f8b6-4299-a2a8-38cb43205bd7","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:14:30,179 connection.py _safely_send    417 SEND > {"id":"650a3507-9ceb-46a8-8e87-3bf090f86922","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:14:30,437 connection.py _on_message     652 RECV < {"id":"650a3507-9ceb-46a8-8e87-3bf090f86922","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:14:30,440 connection.py _safely_send    417 SEND > {"id":"e528853a-a5e4-40a0-aba3-1a2deffe7bf9","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:14:30,443 connection.py _on_message     652 RECV < {"id":"e528853a-a5e4-40a0-aba3-1a2deffe7bf9","result":{}}
DEBUG 2023-07-01 18:14:30,444 connection.py _safely_send    417 SEND > {"id":"529fa943-1c13-450a-89c0-0c1dcd396d19","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:14:30,445 connection.py _on_message     652 RECV < {"id":"529fa943-1c13-450a-89c0-0c1dcd396d19","result":{}}
DEBUG 2023-07-01 18:14:30,446 connection.py _safely_send    417 SEND > {"id":"15ae96b0-fb44-45dd-ae2b-d205c637988c","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:14:30,449 connection.py _on_message     652 RECV < {"id":"15ae96b0-fb44-45dd-ae2b-d205c637988c","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:14:30,450 connection.py _safely_send    417 SEND > {"id":"0013bd7b-1989-41d2-8a91-82df26917fca","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:14:30,453 connection.py _on_message     650 RECV < {"id":"0013bd7b-1989-41d2-8a91-82df26917fca","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:14:30,455 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:14:30,456 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:14:30,456 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:14:30,457 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:14:30,457 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:14:30,459 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:14:30,460 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:14:30,460 connection.py _safely_send    417 SEND > {"id":"f44b0b02-3944-4193-bce0-9896a6f845d2","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:14:30,506 connection.py _on_message     650 RECV < {"id":"f44b0b02-3944-4193-bce0-9896a6f845d2","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:14:30,508 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:14:30,509 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:14:30,510 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:14:30,511 connection.py _safely_send    417 ASYNC_SEND > {"id":"ffd03f6e-4f21-4311-a750-48d7d7201e8c","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:14:30,557 connection.py _on_message     652 RECV < {"id":"ffd03f6e-4f21-4311-a750-48d7d7201e8c","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:14:30,557 connection.py _handle_async_msg 688 received async msg: ffd03f6e-4f21-4311-a750-48d7d7201e8c
DEBUG 2023-07-01 18:14:30,842 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688206470830},1688206470832]}}
INFO  2023-07-01 18:14:30,845 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688206470830}, 1688206470832]}
INFO  2023-07-01 18:14:30,847 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:14:30,849 connection.py _safely_send    417 SEND > {"id":"44f1a376-d89f-4787-8d33-3847537796c5","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:14:30,877 connection.py _on_message     652 RECV < {"id":"44f1a376-d89f-4787-8d33-3847537796c5","result":{"elements":[{"elementId":"82792cba-6b38-415b-8a83-47f3d75fd612","tagName":"input"}]}}
INFO  2023-07-01 18:14:30,878 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000216AE812DC0>]
DEBUG 2023-07-01 18:14:30,880 connection.py _safely_send    417 SEND > {"id":"d31498ef-5896-4141-8cc7-6b428c681651","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"82792cba-6b38-415b-8a83-47f3d75fd612","pageId":2}}
DEBUG 2023-07-01 18:14:30,886 connection.py _on_message     652 RECV < {"id":"d31498ef-5896-4141-8cc7-6b428c681651","result":{}}
INFO  2023-07-01 18:14:30,888 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:14:30,890 connection.py _safely_send    417 SEND > {"id":"9c3f7939-0cf3-4db0-9c60-144d8145a8be","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:14:30,899 connection.py _on_message     652 RECV < {"id":"9c3f7939-0cf3-4db0-9c60-144d8145a8be","result":{"elements":[{"elementId":"b68dd932-ed97-49a3-a82b-d37bc9df5fbd","tagName":"input"}]}}
INFO  2023-07-01 18:14:30,900 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000216AE8281C0>]
DEBUG 2023-07-01 18:14:30,901 connection.py _safely_send    417 SEND > {"id":"f95dfe62-a84b-4d60-9110-f016df4efa9e","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"b68dd932-ed97-49a3-a82b-d37bc9df5fbd","pageId":2}}
DEBUG 2023-07-01 18:14:30,910 connection.py _on_message     652 RECV < {"id":"f95dfe62-a84b-4d60-9110-f016df4efa9e","result":{}}
DEBUG 2023-07-01 18:14:30,911 connection.py _safely_send    417 SEND > {"id":"6e8d47f5-8840-4a19-8200-312c6d654f51","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:14:30,925 connection.py _on_message     652 RECV < {"id":"6e8d47f5-8840-4a19-8200-312c6d654f51","result":{"elementId":"03ad41c6-b8af-48ed-b27e-2a2d4c6a839f","tagName":"picker"}}
DEBUG 2023-07-01 18:14:30,926 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:14:30,927 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:14:30,927 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:14:30,929 connection.py _safely_send    417 SEND > {"id":"6a1568b8-0969-4e96-961b-05121edcdaf5","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:14:30,984 connection.py _on_message     650 RECV < {"id":"6a1568b8-0969-4e96-961b-05121edcdaf5","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3W1sW9ed5/G/4mTSpmjjVq3ip3jDrpPsoK0qW9eBLXpSrJKWGwGVEHuTJg4toLTbDDaIKExnNkBtMRApD9DdzlrUoovJxlYHMu20ydgJlYUCZ1xim5i0EXMsmWmxTeKWGT9JVs3ETR/GHsfmvrh8uHwUJVEPf/n7eWVd3nvPvZe8P55z7jl0TTKZFADQ4Ka5PgAAqBSBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8ACoAaBBUANAguAGgQWADUILABqEFgA1CCwAKhBYAFQg8...
INFO  2023-07-01 18:14:30,987 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:14:30,988 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:14:30,988 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 18:14:30,999 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 21, in test_my
    picker.pick(1,"bindRegionChange")
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
TypeError: pick() takes 2 positional arguments but 3 were given
INFO  2023-07-01 18:14:41,017 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:14:41,017 connection.py _safely_send    417 ASYNC_SEND > {"id":"19c932df-7ca9-4d47-b1b4-6bf2fc67eaa4","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:14:41,020 connection.py _on_message     652 RECV < {"id":"19c932df-7ca9-4d47-b1b4-6bf2fc67eaa4","result":{}}
INFO  2023-07-01 18:14:41,020 connection.py _handle_async_msg 688 received async msg: 19c932df-7ca9-4d47-b1b4-6bf2fc67eaa4, maybe command ignore response
ERROR 2023-07-01 18:14:41,041 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:14:41,490 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:14:42,019 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:14:42,019 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:14:42,020 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:14:42,021 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:14:42,022 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:14:42,022 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:15:16,384 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:15:16,389 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:15:16,391 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:15:16,397 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:15:16,776 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:15:16,776 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:15:16,777 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:15:16,779 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:15:16,781 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:15:16,781 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:15:16,782 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:15:16,783 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:15:19,285 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:15:19,285 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:15:29,290 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:15:29,992 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:15:29,993 connection.py _safely_send    417 SEND > {"id":"26cf3515-6ccf-4939-87b3-c2f04d9bf39b","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:15:30,009 connection.py _on_message     652 RECV < {"id":"26cf3515-6ccf-4939-87b3-c2f04d9bf39b","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:15:30,010 connection.py _safely_send    417 SEND > {"id":"c7f29772-2874-4e45-948e-1cfac329af7a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:15:31,327 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 18:15:31,330 connection.py _on_message     650 RECV < {"id":"c7f29772-2874-4e45-948e-1cfac329af7a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:15:31,331 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:15:31,332 connection.py _safely_send    417 SEND > {"id":"9d27de6c-52da-4d84-8ff0-6ff95ee3af77","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:15:31,334 connection.py _on_message     652 RECV < {"id":"9d27de6c-52da-4d84-8ff0-6ff95ee3af77","result":{}}
DEBUG 2023-07-01 18:15:31,334 connection.py _safely_send    417 SEND > {"id":"7f402c3d-42b7-4c79-85b2-f29d9916c548","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:15:31,338 connection.py _on_message     652 RECV < {"id":"7f402c3d-42b7-4c79-85b2-f29d9916c548","result":{}}
DEBUG 2023-07-01 18:15:31,340 connection.py _safely_send    417 SEND > {"id":"041187d5-414d-496b-bae1-a4ea30523606","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:15:31,343 connection.py _on_message     652 RECV < {"id":"041187d5-414d-496b-bae1-a4ea30523606","result":{"result":true}}
DEBUG 2023-07-01 18:15:31,344 connection.py _safely_send    417 SEND > {"id":"8d0872f1-c2ee-4cb0-80c0-791d96db8c9c","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:15:31,346 connection.py _on_message     652 RECV < {"id":"8d0872f1-c2ee-4cb0-80c0-791d96db8c9c","result":{"result":false}}
DEBUG 2023-07-01 18:15:31,347 connection.py _safely_send    417 SEND > {"id":"2ad8e180-98c3-4150-bed0-51d8d767f7c7","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:15:31,349 connection.py _on_message     650 RECV < {"id":"2ad8e180-98c3-4150-bed0-51d8d767f7c7","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:15:31,351 connection.py _safely_send    417 SEND > {"id":"a883fa51-41ee-4073-b2ec-a721d6596cbd","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:15:31,354 connection.py _on_message     652 RECV < {"id":"a883fa51-41ee-4073-b2ec-a721d6596cbd","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:15:31,355 connection.py _safely_send    417 SEND > {"id":"74ae3346-afde-4e28-8d20-6cc688f4dfa6","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:15:31,356 connection.py _on_message     652 RECV < {"id":"74ae3346-afde-4e28-8d20-6cc688f4dfa6","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:15:31,358 connection.py _safely_send    417 SEND > {"id":"e3c45620-6284-4608-ab8a-ea71c515508d","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:15:31,361 connection.py _on_message     652 RECV < {"id":"e3c45620-6284-4608-ab8a-ea71c515508d","result":{"result":false}}
DEBUG 2023-07-01 18:15:31,362 connection.py _safely_send    417 SEND > {"id":"f201e97a-864a-496a-afed-6dad2fd80317","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:15:31,365 connection.py _on_message     652 RECV < {"id":"f201e97a-864a-496a-afed-6dad2fd80317","result":{}}
DEBUG 2023-07-01 18:15:31,365 connection.py _safely_send    417 SEND > {"id":"40f79c6e-1926-49cb-909d-f273a2755584","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:15:31,367 connection.py _on_message     652 RECV < {"id":"40f79c6e-1926-49cb-909d-f273a2755584","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:15:31,368 connection.py _safely_send    417 SEND > {"id":"8d26788a-f052-4950-990c-136bcc64d360","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:15:31,612 connection.py _on_message     652 RECV < {"id":"8d26788a-f052-4950-990c-136bcc64d360","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:15:31,614 connection.py _safely_send    417 SEND > {"id":"e38d48cc-8c1d-4e6d-b1a8-3535eaaa24e0","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:15:31,617 connection.py _on_message     652 RECV < {"id":"e38d48cc-8c1d-4e6d-b1a8-3535eaaa24e0","result":{}}
DEBUG 2023-07-01 18:15:31,618 connection.py _safely_send    417 SEND > {"id":"40c37d18-3a1f-4066-bb9c-132e638b420f","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:15:31,620 connection.py _on_message     652 RECV < {"id":"40c37d18-3a1f-4066-bb9c-132e638b420f","result":{}}
DEBUG 2023-07-01 18:15:31,621 connection.py _safely_send    417 SEND > {"id":"103124ee-a84e-4385-99ac-39a25015cc78","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:15:31,626 connection.py _on_message     652 RECV < {"id":"103124ee-a84e-4385-99ac-39a25015cc78","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:15:31,627 connection.py _safely_send    417 SEND > {"id":"fc7173a8-567e-4660-b673-be287a0ce9b7","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:15:31,630 connection.py _on_message     650 RECV < {"id":"fc7173a8-567e-4660-b673-be287a0ce9b7","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:15:31,631 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:15:31,633 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:15:31,634 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:15:31,635 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:15:31,636 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:15:31,638 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:15:31,638 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:15:31,638 connection.py _safely_send    417 SEND > {"id":"d7b14f14-1b6a-42a3-996c-4f38b00e9809","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:15:31,687 connection.py _on_message     650 RECV < {"id":"d7b14f14-1b6a-42a3-996c-4f38b00e9809","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:15:31,689 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:15:31,690 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:15:31,691 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:15:31,692 connection.py _safely_send    417 ASYNC_SEND > {"id":"eef4eca1-f020-444b-81e5-c97cd7520733","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:15:31,741 connection.py _on_message     652 RECV < {"id":"eef4eca1-f020-444b-81e5-c97cd7520733","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:15:31,741 connection.py _handle_async_msg 688 received async msg: eef4eca1-f020-444b-81e5-c97cd7520733
DEBUG 2023-07-01 18:15:32,009 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688206531997},1688206531998]}}
INFO  2023-07-01 18:15:32,012 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688206531997}, 1688206531998]}
INFO  2023-07-01 18:15:32,013 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:15:32,015 connection.py _safely_send    417 SEND > {"id":"a2855b7b-e223-4212-bc33-9a9aa47015e2","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:15:32,060 connection.py _on_message     652 RECV < {"id":"a2855b7b-e223-4212-bc33-9a9aa47015e2","result":{"elements":[{"elementId":"e1085c98-cfdb-4efa-91cd-211ebc78fb46","tagName":"input"}]}}
INFO  2023-07-01 18:15:32,061 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002030F41B160>]
DEBUG 2023-07-01 18:15:32,063 connection.py _safely_send    417 SEND > {"id":"74d2c341-1ece-47fc-8094-6f05cedbf7da","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"e1085c98-cfdb-4efa-91cd-211ebc78fb46","pageId":2}}
DEBUG 2023-07-01 18:15:32,070 connection.py _on_message     652 RECV < {"id":"74d2c341-1ece-47fc-8094-6f05cedbf7da","result":{}}
INFO  2023-07-01 18:15:32,072 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:15:32,073 connection.py _safely_send    417 SEND > {"id":"35b07a1b-7114-484d-b200-0d39b836aa64","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:15:32,080 connection.py _on_message     652 RECV < {"id":"35b07a1b-7114-484d-b200-0d39b836aa64","result":{"elements":[{"elementId":"72cd5787-20ac-4672-9865-10465bbf7a93","tagName":"input"}]}}
INFO  2023-07-01 18:15:32,081 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002030F436BB0>]
DEBUG 2023-07-01 18:15:32,082 connection.py _safely_send    417 SEND > {"id":"e8a7a27e-cdd5-4fb6-8a31-30faf1c9ebda","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"72cd5787-20ac-4672-9865-10465bbf7a93","pageId":2}}
DEBUG 2023-07-01 18:15:32,095 connection.py _on_message     652 RECV < {"id":"e8a7a27e-cdd5-4fb6-8a31-30faf1c9ebda","result":{}}
DEBUG 2023-07-01 18:15:32,096 connection.py _safely_send    417 SEND > {"id":"681d3c15-d0cf-444d-9791-ab700cc39388","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:15:32,111 connection.py _on_message     652 RECV < {"id":"681d3c15-d0cf-444d-9791-ab700cc39388","result":{"elementId":"81c51ba7-6d19-4fb4-8421-65178f1c885e","tagName":"picker"}}
DEBUG 2023-07-01 18:15:32,112 connection.py _safely_send    417 SEND > {"id":"b3a5db94-5a96-4550-8fca-690313eed9cf","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":1},"elementId":"81c51ba7-6d19-4fb4-8421-65178f1c885e","pageId":2}}
DEBUG 2023-07-01 18:15:32,115 connection.py _on_message     652 RECV < {"id":"b3a5db94-5a96-4550-8fca-690313eed9cf","result":{}}
DEBUG 2023-07-01 18:15:32,235 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",1]}}
DEBUG 2023-07-01 18:15:32,237 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[1]}}
DEBUG 2023-07-01 18:15:42,116 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:15:42,117 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:15:42,118 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:15:42,120 connection.py _safely_send    417 SEND > {"id":"0f15113e-c80f-44c3-84c5-22f395ba491f","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:15:42,161 connection.py _on_message     650 RECV < {"id":"0f15113e-c80f-44c3-84c5-22f395ba491f","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X1sG/eZ4PHHcbx5KZq4ZU9+a31mLolv0S4rR+MgJ3pTnJIrLwIiIoe7NgEoAUsrzeKCkgKKvQDdSobEtkDvbs8kD12sLzJ3QRFIu1i0IXNQoJxLXBOTKOJZS2YaXNO4ZdatFVkxEzXtduNNbN0ffBu+irJISY/8/fwV8WVmSGu++s2PM8y25eVlAQANbtroDQCAVhEsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqEC...
INFO  2023-07-01 18:15:42,162 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:15:42,164 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:15:42,164 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:15:52,175 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:15:52,175 connection.py _safely_send    417 ASYNC_SEND > {"id":"6da3b70e-539e-4763-b91d-1e6f74266bc2","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:15:52,178 connection.py _on_message     652 RECV < {"id":"6da3b70e-539e-4763-b91d-1e6f74266bc2","result":{}}
INFO  2023-07-01 18:15:52,178 connection.py _handle_async_msg 688 received async msg: 6da3b70e-539e-4763-b91d-1e6f74266bc2, maybe command ignore response
ERROR 2023-07-01 18:15:52,199 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:15:52,625 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:15:53,178 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:15:53,178 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:15:53,180 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:15:53,180 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:15:53,181 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:15:53,183 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:16:59,978 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:16:59,983 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:16:59,985 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:16:59,991 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:17:00,381 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:17:00,381 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:17:00,382 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:17:00,384 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:17:00,386 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:17:00,386 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:17:00,388 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:17:00,388 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:17:02,889 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:17:02,889 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:17:12,891 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:17:13,024 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:17:13,025 connection.py _safely_send    417 SEND > {"id":"76935e6d-b654-40c7-a065-52db7706f7c1","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:17:13,029 connection.py _on_message     652 RECV < {"id":"76935e6d-b654-40c7-a065-52db7706f7c1","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:17:13,030 connection.py _safely_send    417 SEND > {"id":"c73d78ff-7f88-429e-9533-94bec5cd6d20","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:17:14,467 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 18:17:14,470 connection.py _on_message     650 RECV < {"id":"c73d78ff-7f88-429e-9533-94bec5cd6d20","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:17:14,471 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:17:14,473 connection.py _safely_send    417 SEND > {"id":"cc9d40c8-5224-4810-9e5d-2e7507bae83c","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:17:14,475 connection.py _on_message     652 RECV < {"id":"cc9d40c8-5224-4810-9e5d-2e7507bae83c","result":{}}
DEBUG 2023-07-01 18:17:14,475 connection.py _safely_send    417 SEND > {"id":"9272e421-b505-4d7e-b8a1-3ac0dd9da1f2","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:17:14,478 connection.py _on_message     652 RECV < {"id":"9272e421-b505-4d7e-b8a1-3ac0dd9da1f2","result":{}}
DEBUG 2023-07-01 18:17:14,479 connection.py _safely_send    417 SEND > {"id":"e2895bd2-8605-4ddd-b7d2-2339f3069677","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:17:14,482 connection.py _on_message     652 RECV < {"id":"e2895bd2-8605-4ddd-b7d2-2339f3069677","result":{"result":true}}
DEBUG 2023-07-01 18:17:14,483 connection.py _safely_send    417 SEND > {"id":"46a77221-cd92-4e3e-adea-ab0e7a2ebe97","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:17:14,485 connection.py _on_message     652 RECV < {"id":"46a77221-cd92-4e3e-adea-ab0e7a2ebe97","result":{"result":false}}
DEBUG 2023-07-01 18:17:14,485 connection.py _safely_send    417 SEND > {"id":"6754b2f7-26a0-46b4-a40a-22a8736f79fc","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:17:14,488 connection.py _on_message     650 RECV < {"id":"6754b2f7-26a0-46b4-a40a-22a8736f79fc","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:17:14,490 connection.py _safely_send    417 SEND > {"id":"c10c137c-ea39-44bb-8128-83c55f835852","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:17:14,492 connection.py _on_message     652 RECV < {"id":"c10c137c-ea39-44bb-8128-83c55f835852","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:17:14,493 connection.py _safely_send    417 SEND > {"id":"cfac21c1-3d0e-4c49-b8ac-cea94dffa2ab","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:17:14,494 connection.py _on_message     652 RECV < {"id":"cfac21c1-3d0e-4c49-b8ac-cea94dffa2ab","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:17:14,495 connection.py _safely_send    417 SEND > {"id":"ccce4f3f-63f0-4966-9f34-9b89d9c42bf4","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:17:14,497 connection.py _on_message     652 RECV < {"id":"ccce4f3f-63f0-4966-9f34-9b89d9c42bf4","result":{"result":false}}
DEBUG 2023-07-01 18:17:14,499 connection.py _safely_send    417 SEND > {"id":"9282dd15-7ea4-40a1-b98d-02cb48caea60","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:17:14,503 connection.py _on_message     652 RECV < {"id":"9282dd15-7ea4-40a1-b98d-02cb48caea60","result":{}}
DEBUG 2023-07-01 18:17:14,504 connection.py _safely_send    417 SEND > {"id":"4ed1bd74-0a56-4e89-99e6-f751ea3c4cd0","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:17:14,507 connection.py _on_message     652 RECV < {"id":"4ed1bd74-0a56-4e89-99e6-f751ea3c4cd0","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:17:14,508 connection.py _safely_send    417 SEND > {"id":"0963b3b8-dc18-4607-980b-01739d2803c7","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:17:14,738 connection.py _on_message     652 RECV < {"id":"0963b3b8-dc18-4607-980b-01739d2803c7","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:17:14,739 connection.py _safely_send    417 SEND > {"id":"ad18a96f-4b41-47eb-898d-96c90e451d0a","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:17:14,743 connection.py _on_message     652 RECV < {"id":"ad18a96f-4b41-47eb-898d-96c90e451d0a","result":{}}
DEBUG 2023-07-01 18:17:14,744 connection.py _safely_send    417 SEND > {"id":"8f15b078-9801-4995-9510-38fbdb0b8ce7","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:17:14,746 connection.py _on_message     652 RECV < {"id":"8f15b078-9801-4995-9510-38fbdb0b8ce7","result":{}}
DEBUG 2023-07-01 18:17:14,747 connection.py _safely_send    417 SEND > {"id":"d40dd042-54b3-4d77-a187-a04ce3624d71","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:17:14,749 connection.py _on_message     652 RECV < {"id":"d40dd042-54b3-4d77-a187-a04ce3624d71","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:17:14,751 connection.py _safely_send    417 SEND > {"id":"caf6bf21-acc7-443c-b6ff-61d55619637a","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:17:14,754 connection.py _on_message     650 RECV < {"id":"caf6bf21-acc7-443c-b6ff-61d55619637a","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:17:14,754 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:17:14,766 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:17:14,766 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:17:14,767 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:17:14,768 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:17:14,770 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:17:14,770 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:17:14,772 connection.py _safely_send    417 SEND > {"id":"f40f9398-8762-4d3f-8510-3168ec82cb7d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:17:14,822 connection.py _on_message     650 RECV < {"id":"f40f9398-8762-4d3f-8510-3168ec82cb7d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:17:14,824 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:17:14,825 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:17:14,826 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:17:14,827 connection.py _safely_send    417 ASYNC_SEND > {"id":"511218ea-11f2-4929-9e87-aa666d85cf62","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:17:14,872 connection.py _on_message     652 RECV < {"id":"511218ea-11f2-4929-9e87-aa666d85cf62","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:17:14,873 connection.py _handle_async_msg 688 received async msg: 511218ea-11f2-4929-9e87-aa666d85cf62
DEBUG 2023-07-01 18:17:15,159 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688206635147},1688206635148]}}
INFO  2023-07-01 18:17:15,162 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688206635147}, 1688206635148]}
INFO  2023-07-01 18:17:15,163 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:17:15,166 connection.py _safely_send    417 SEND > {"id":"867d21f8-2e1b-4070-91a8-1b3f76f6759e","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:17:15,194 connection.py _on_message     652 RECV < {"id":"867d21f8-2e1b-4070-91a8-1b3f76f6759e","result":{"elements":[{"elementId":"07390b1b-31c1-456f-8d76-a9084f4bb175","tagName":"input"}]}}
INFO  2023-07-01 18:17:15,195 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000231F6F49550>]
DEBUG 2023-07-01 18:17:15,198 connection.py _safely_send    417 SEND > {"id":"8fb622fb-a9ee-4f7e-b10c-145cea1e2f6c","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"07390b1b-31c1-456f-8d76-a9084f4bb175","pageId":2}}
DEBUG 2023-07-01 18:17:15,204 connection.py _on_message     652 RECV < {"id":"8fb622fb-a9ee-4f7e-b10c-145cea1e2f6c","result":{}}
INFO  2023-07-01 18:17:15,205 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:17:15,206 connection.py _safely_send    417 SEND > {"id":"2ca59dca-d556-4e07-87a9-a3f34cf8a312","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:17:15,218 connection.py _on_message     652 RECV < {"id":"2ca59dca-d556-4e07-87a9-a3f34cf8a312","result":{"elements":[{"elementId":"a42bd95b-b351-4cbd-b11e-3e45651d0437","tagName":"input"}]}}
INFO  2023-07-01 18:17:15,219 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000231F6F32D90>]
DEBUG 2023-07-01 18:17:15,220 connection.py _safely_send    417 SEND > {"id":"bc28fc7f-7c61-4fab-8956-bf4d04020b30","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"a42bd95b-b351-4cbd-b11e-3e45651d0437","pageId":2}}
DEBUG 2023-07-01 18:17:15,228 connection.py _on_message     652 RECV < {"id":"bc28fc7f-7c61-4fab-8956-bf4d04020b30","result":{}}
DEBUG 2023-07-01 18:17:15,229 connection.py _safely_send    417 SEND > {"id":"0060ec4c-d6b4-4348-98a8-0e48c4394f43","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:17:15,239 connection.py _on_message     652 RECV < {"id":"0060ec4c-d6b4-4348-98a8-0e48c4394f43","result":{"elementId":"20cd4f51-4cba-4869-a095-bdc392975267","tagName":"picker"}}
DEBUG 2023-07-01 18:17:15,241 connection.py _safely_send    417 SEND > {"id":"d20a926f-c7d1-4452-9787-6a7554b3be1f","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":11},"elementId":"20cd4f51-4cba-4869-a095-bdc392975267","pageId":2}}
DEBUG 2023-07-01 18:17:15,247 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",11]}}
DEBUG 2023-07-01 18:17:15,249 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[11]}}
DEBUG 2023-07-01 18:17:15,251 connection.py _on_message     652 RECV < {"id":"d20a926f-c7d1-4452-9787-6a7554b3be1f","result":{}}
DEBUG 2023-07-01 18:17:25,252 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:17:25,252 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:17:25,253 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:17:25,256 connection.py _safely_send    417 SEND > {"id":"217ec6a4-8d1d-43cb-b289-7c3380634f32","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:17:25,296 connection.py _on_message     650 RECV < {"id":"217ec6a4-8d1d-43cb-b289-7c3380634f32","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X1sG/eZ4PHHcbx5KZq4ZU9+a31mLolv0S4rR+MgJ3pTnJIrLwIiIoe7NgEoAUsrzeKCkgKKvQDdSobEtkDvbs8kD12sLzJ3QRFIu1i0IXNQoJxLXBOTKOJZS2YaXNO4ZdatFVkxEzXtduNNbN0ffBu+irJISY/8/fwV8WVmSGu++s2PM8y25eVlAQANbtroDQCAVhEsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqEC...
INFO  2023-07-01 18:17:25,298 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:17:25,300 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:17:25,301 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:17:35,313 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:17:35,313 connection.py _safely_send    417 ASYNC_SEND > {"id":"42dcf6da-3efb-481e-8d32-32d79480edee","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:17:35,314 connection.py _on_message     652 RECV < {"id":"42dcf6da-3efb-481e-8d32-32d79480edee","result":{}}
INFO  2023-07-01 18:17:35,315 connection.py _handle_async_msg 688 received async msg: 42dcf6da-3efb-481e-8d32-32d79480edee, maybe command ignore response
ERROR 2023-07-01 18:17:35,335 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:17:35,818 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:17:36,314 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:17:36,314 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:17:36,316 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:17:36,317 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:17:36,318 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:17:36,318 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:24:28,969 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:24:28,973 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:24:28,975 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:24:28,981 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:24:29,360 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:24:29,360 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:24:29,361 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:24:29,363 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:24:29,364 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:24:29,365 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:24:29,366 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:24:29,367 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:24:31,790 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:24:31,791 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:24:41,794 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:24:41,859 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:24:41,859 connection.py _safely_send    417 SEND > {"id":"b9d4b159-0f20-4de3-9bed-834d23255eba","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:24:41,863 connection.py _on_message     652 RECV < {"id":"b9d4b159-0f20-4de3-9bed-834d23255eba","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:24:41,863 connection.py _safely_send    417 SEND > {"id":"eb2a73a1-2c64-437d-a9fe-e158c2443b02","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:24:41,867 connection.py _on_message     650 RECV < {"id":"eb2a73a1-2c64-437d-a9fe-e158c2443b02","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:24:41,867 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:24:41,868 connection.py _safely_send    417 SEND > {"id":"4109d4cb-5afa-45a5-b8f4-ab9700aeca6e","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:24:41,870 connection.py _on_message     652 RECV < {"id":"4109d4cb-5afa-45a5-b8f4-ab9700aeca6e","result":{}}
DEBUG 2023-07-01 18:24:41,871 connection.py _safely_send    417 SEND > {"id":"b8aa782e-a2d5-4baf-8964-28f959b413dd","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:24:41,874 connection.py _on_message     652 RECV < {"id":"b8aa782e-a2d5-4baf-8964-28f959b413dd","result":{}}
DEBUG 2023-07-01 18:24:41,875 connection.py _safely_send    417 SEND > {"id":"1b7915f7-ffbc-4e21-aaeb-006619b28dfc","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:24:41,878 connection.py _on_message     652 RECV < {"id":"1b7915f7-ffbc-4e21-aaeb-006619b28dfc","result":{"result":true}}
DEBUG 2023-07-01 18:24:41,879 connection.py _safely_send    417 SEND > {"id":"fe31a287-ea7c-49ea-b0e4-d7411d1bdcf8","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:24:41,883 connection.py _on_message     652 RECV < {"id":"fe31a287-ea7c-49ea-b0e4-d7411d1bdcf8","result":{"result":false}}
DEBUG 2023-07-01 18:24:41,883 connection.py _safely_send    417 SEND > {"id":"c0b95ee5-8ec0-40e6-87a5-b6616f3bbeb9","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:24:41,886 connection.py _on_message     650 RECV < {"id":"c0b95ee5-8ec0-40e6-87a5-b6616f3bbeb9","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:24:41,887 connection.py _safely_send    417 SEND > {"id":"fbddde76-aed9-4f93-8100-757b2784f177","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:24:41,889 connection.py _on_message     652 RECV < {"id":"fbddde76-aed9-4f93-8100-757b2784f177","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:24:41,890 connection.py _safely_send    417 SEND > {"id":"3ac9e4d0-5c59-48e9-9833-5efb81fdd5c6","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:24:41,893 connection.py _on_message     652 RECV < {"id":"3ac9e4d0-5c59-48e9-9833-5efb81fdd5c6","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:24:41,895 connection.py _safely_send    417 SEND > {"id":"da1d38d5-3546-4e3f-b167-62a8928235af","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:24:41,897 connection.py _on_message     652 RECV < {"id":"da1d38d5-3546-4e3f-b167-62a8928235af","result":{"result":false}}
DEBUG 2023-07-01 18:24:41,898 connection.py _safely_send    417 SEND > {"id":"9690423a-8fad-4cb9-9cc5-214dfca34408","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:24:41,901 connection.py _on_message     652 RECV < {"id":"9690423a-8fad-4cb9-9cc5-214dfca34408","result":{}}
DEBUG 2023-07-01 18:24:41,902 connection.py _safely_send    417 SEND > {"id":"ebb306bc-e433-45d8-84b0-ce47f7102dce","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:24:41,904 connection.py _on_message     652 RECV < {"id":"ebb306bc-e433-45d8-84b0-ce47f7102dce","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:24:41,905 connection.py _safely_send    417 SEND > {"id":"c46006da-dee3-412c-a2aa-e69d8ee281fb","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:24:42,134 connection.py _on_message     652 RECV < {"id":"c46006da-dee3-412c-a2aa-e69d8ee281fb","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:24:42,136 connection.py _safely_send    417 SEND > {"id":"1925cc69-7839-43bb-8b25-048ba5dad24c","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:24:42,140 connection.py _on_message     652 RECV < {"id":"1925cc69-7839-43bb-8b25-048ba5dad24c","result":{}}
DEBUG 2023-07-01 18:24:42,141 connection.py _safely_send    417 SEND > {"id":"8d9fa995-f871-4a42-b222-cc86cec220c2","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:24:42,143 connection.py _on_message     652 RECV < {"id":"8d9fa995-f871-4a42-b222-cc86cec220c2","result":{}}
DEBUG 2023-07-01 18:24:42,144 connection.py _safely_send    417 SEND > {"id":"9c88535f-aff4-41ad-91cd-7581e0dd42f5","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:24:42,149 connection.py _on_message     652 RECV < {"id":"9c88535f-aff4-41ad-91cd-7581e0dd42f5","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:24:42,149 connection.py _safely_send    417 SEND > {"id":"4365b9d3-50cd-4d81-9f5e-26f40efdda0d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:24:42,153 connection.py _on_message     650 RECV < {"id":"4365b9d3-50cd-4d81-9f5e-26f40efdda0d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:24:42,154 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:24:42,157 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:24:42,157 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:24:42,158 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:24:42,159 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:24:42,160 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:24:42,160 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:24:42,161 connection.py _safely_send    417 SEND > {"id":"51b1e62f-7670-4965-bb71-b55e26c47eec","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:24:42,204 connection.py _on_message     650 RECV < {"id":"51b1e62f-7670-4965-bb71-b55e26c47eec","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:24:42,206 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:24:42,208 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:24:42,209 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:24:42,210 connection.py _safely_send    417 ASYNC_SEND > {"id":"8cc8ccc0-ec59-4137-ba38-9e9d1ac4c9ee","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:24:42,254 connection.py _on_message     652 RECV < {"id":"8cc8ccc0-ec59-4137-ba38-9e9d1ac4c9ee","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:24:42,255 connection.py _handle_async_msg 688 received async msg: 8cc8ccc0-ec59-4137-ba38-9e9d1ac4c9ee
DEBUG 2023-07-01 18:24:42,557 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207082546},1688207082547]}}
INFO  2023-07-01 18:24:42,560 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207082546}, 1688207082547]}
INFO  2023-07-01 18:24:42,562 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:24:42,564 connection.py _safely_send    417 SEND > {"id":"b95bb805-6692-4dd6-ba19-235f51bc8189","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:24:42,614 connection.py _on_message     652 RECV < {"id":"b95bb805-6692-4dd6-ba19-235f51bc8189","result":{"elements":[{"elementId":"5c9dea38-137b-4c2a-8acb-418d8360db48","tagName":"input"}]}}
INFO  2023-07-01 18:24:42,615 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000021D20039280>]
DEBUG 2023-07-01 18:24:42,617 connection.py _safely_send    417 SEND > {"id":"1acf4f6f-28b7-4720-a5aa-c239c4936c07","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"5c9dea38-137b-4c2a-8acb-418d8360db48","pageId":2}}
DEBUG 2023-07-01 18:24:42,625 connection.py _on_message     652 RECV < {"id":"1acf4f6f-28b7-4720-a5aa-c239c4936c07","result":{}}
INFO  2023-07-01 18:24:42,626 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:24:42,627 connection.py _safely_send    417 SEND > {"id":"700a0ba9-66cc-4add-8f5e-c1985be61479","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:24:42,633 connection.py _on_message     652 RECV < {"id":"700a0ba9-66cc-4add-8f5e-c1985be61479","result":{"elements":[{"elementId":"8d6a462f-54bf-47c8-9354-a72b2b772845","tagName":"input"}]}}
INFO  2023-07-01 18:24:42,634 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000021D200392B0>]
DEBUG 2023-07-01 18:24:42,636 connection.py _safely_send    417 SEND > {"id":"121a7d2d-785d-4c9b-affe-2cceda92e267","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"8d6a462f-54bf-47c8-9354-a72b2b772845","pageId":2}}
DEBUG 2023-07-01 18:24:42,649 connection.py _on_message     652 RECV < {"id":"121a7d2d-785d-4c9b-affe-2cceda92e267","result":{}}
DEBUG 2023-07-01 18:24:42,650 connection.py _safely_send    417 SEND > {"id":"22c164df-54cc-4a67-97b1-2d53abd1ef9d","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:24:42,660 connection.py _on_message     652 RECV < {"id":"22c164df-54cc-4a67-97b1-2d53abd1ef9d","result":{"elementId":"d2b7df8f-93ea-4733-b4cd-f10a386c2b40","tagName":"picker"}}
DEBUG 2023-07-01 18:24:42,661 connection.py _safely_send    417 SEND > {"id":"5a106744-53dc-4083-9d60-03c134d6578e","method":"App.addBinding","params":{"name":"page_hook_bindRegionChange_super_callback"}}
DEBUG 2023-07-01 18:24:42,663 connection.py _on_message     652 RECV < {"id":"5a106744-53dc-4083-9d60-03c134d6578e","result":{}}
DEBUG 2023-07-01 18:24:42,665 connection.py _safely_send    417 SEND > {"id":"316efbb7-02ae-4718-ab66-6c03efe90312","method":"App.callFunction","params":{"functionDeclaration":"function hookCurrentPageMethod(){var _=getCurrentPages().pop();if(_.bindRegionChange){if(_.bindRegionChange.__hooked__)return;var e=_.bindRegionChange;_.bindRegionChange=function(..._){\"undefined\"!=typeof page_hook_bindRegionChange_super_callback&&page_hook_bindRegionChange_super_callback(..._),e.call(this,..._)}.bind(_),_.bindRegionChange.__hooked__=!0}}","args":[]}}
DEBUG 2023-07-01 18:24:42,668 connection.py _on_message     652 RECV < {"id":"316efbb7-02ae-4718-ab66-6c03efe90312","result":{}}
DEBUG 2023-07-01 18:24:42,669 connection.py _safely_send    417 SEND > {"id":"41982d99-627d-42ad-9a8b-e387f125af12","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":"\u6e56\u5357\u7701\u6d77\u53e3\u5e02\u79c0\u82f1\u533a"},"elementId":"d2b7df8f-93ea-4733-b4cd-f10a386c2b40","pageId":2}}
DEBUG 2023-07-01 18:24:42,674 connection.py _on_message     652 RECV < {"id":"41982d99-627d-42ad-9a8b-e387f125af12","result":{}}
DEBUG 2023-07-01 18:24:42,791 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"page_hook_bindRegionChange_super_callback","args":[{"type":"change","timeStamp":2221,"target":{"id":"","offsetLeft":90,"offsetTop":127,"dataset":{}},"currentTarget":{"id":"","offsetLeft":90,"offsetTop":127,"dataset":{}},"mark":{},"detail":{"value":"湖南省海口市秀英区"},"mut":false,"_userTap":false}]}}
DEBUG 2023-07-01 18:24:42,792 app.py     super_callback  974 Page.bindRegionChange call hook result: [{'type': 'change', 'timeStamp': 2221, 'target': {'id': '', 'offsetLeft': 90, 'offsetTop': 127, 'dataset': {}}, 'currentTarget': {'id': '', 'offsetLeft': 90, 'offsetTop': 127, 'dataset': {}}, 'mark': {}, 'detail': {'value': '湖南省海口市秀英区'}, 'mut': False, '_userTap': False}]
DEBUG 2023-07-01 18:24:42,793 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为","湖南省海口市秀英区"]}}
DEBUG 2023-07-01 18:24:42,798 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["湖南省海口市秀英区"]}}
DEBUG 2023-07-01 18:24:52,677 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:24:52,678 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:24:52,679 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:24:52,680 connection.py _safely_send    417 SEND > {"id":"9d2313aa-1e22-4f7a-b8ec-585fdda39eea","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:24:52,753 connection.py _on_message     650 RECV < {"id":"9d2313aa-1e22-4f7a-b8ec-585fdda39eea","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9wm/Wd4PGPCVl+dFrSunV+0RzigNxOW9WJnzCNlaVzhq0Oz2AP4aAkKJ6pYsrOMUie7e4xU2JnLCWd6V33YvmmN8vhuDuOSFq6pMjcmDGbeq4QKQx5NnZEO1dKitiQOI4b0ZT+2GQh0f2hX49+WrblHx/n/foLS4+e55Fivf19vnoeUZNIJAQANLhuoXcAACpFsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAKhBsACoQbAAqEGwAK...
INFO  2023-07-01 18:24:52,755 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:24:52,757 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:24:52,758 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:25:02,766 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:25:02,766 connection.py _safely_send    417 ASYNC_SEND > {"id":"8a89b509-f08b-4f64-84bb-06063bf8c287","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:25:02,769 connection.py _on_message     652 RECV < {"id":"8a89b509-f08b-4f64-84bb-06063bf8c287","result":{}}
INFO  2023-07-01 18:25:02,769 connection.py _handle_async_msg 688 received async msg: 8a89b509-f08b-4f64-84bb-06063bf8c287, maybe command ignore response
ERROR 2023-07-01 18:25:02,790 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:25:03,260 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:25:03,768 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:25:03,768 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:25:03,770 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:25:03,770 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:25:03,771 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:25:03,772 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:25:40,097 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:25:40,103 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:25:40,105 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:25:40,111 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:25:40,484 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:25:40,484 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:25:40,485 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:25:40,487 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:25:40,488 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:25:40,489 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:25:40,491 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:25:40,491 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:25:43,017 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:25:43,018 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:25:53,021 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:25:53,099 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:25:53,099 connection.py _safely_send    417 SEND > {"id":"c7c25861-9f6c-4b45-891d-c07135b065df","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:25:53,102 connection.py _on_message     652 RECV < {"id":"c7c25861-9f6c-4b45-891d-c07135b065df","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:25:53,102 connection.py _safely_send    417 SEND > {"id":"d7076ad5-11db-435b-bb23-7e002a8711a0","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:25:53,105 connection.py _on_message     650 RECV < {"id":"d7076ad5-11db-435b-bb23-7e002a8711a0","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:25:53,106 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:25:53,106 connection.py _safely_send    417 SEND > {"id":"0f850ffc-ef99-4024-a0a9-525230976062","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:25:53,109 connection.py _on_message     652 RECV < {"id":"0f850ffc-ef99-4024-a0a9-525230976062","result":{}}
DEBUG 2023-07-01 18:25:53,110 connection.py _safely_send    417 SEND > {"id":"cd6e37d9-58d8-496c-ac2d-6f60c4566059","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:25:53,112 connection.py _on_message     652 RECV < {"id":"cd6e37d9-58d8-496c-ac2d-6f60c4566059","result":{}}
DEBUG 2023-07-01 18:25:53,114 connection.py _safely_send    417 SEND > {"id":"398753f6-bd3c-4ae2-a9c2-53c7475b0f38","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:25:53,116 connection.py _on_message     652 RECV < {"id":"398753f6-bd3c-4ae2-a9c2-53c7475b0f38","result":{"result":true}}
DEBUG 2023-07-01 18:25:53,117 connection.py _safely_send    417 SEND > {"id":"5ee14395-d09d-4a86-87e4-9cf25ef55510","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:25:53,119 connection.py _on_message     652 RECV < {"id":"5ee14395-d09d-4a86-87e4-9cf25ef55510","result":{"result":false}}
DEBUG 2023-07-01 18:25:53,120 connection.py _safely_send    417 SEND > {"id":"514db072-b32c-4fb3-bd8a-8c8b9c6bd7ef","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:25:53,123 connection.py _on_message     650 RECV < {"id":"514db072-b32c-4fb3-bd8a-8c8b9c6bd7ef","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:25:53,124 connection.py _safely_send    417 SEND > {"id":"92817fdb-84b7-4a01-bb98-235f27bfafc2","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:25:53,126 connection.py _on_message     652 RECV < {"id":"92817fdb-84b7-4a01-bb98-235f27bfafc2","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:25:53,127 connection.py _safely_send    417 SEND > {"id":"f7969ee7-9845-47f5-898c-9f228d5d9d97","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:25:53,128 connection.py _on_message     652 RECV < {"id":"f7969ee7-9845-47f5-898c-9f228d5d9d97","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:25:53,129 connection.py _safely_send    417 SEND > {"id":"b0fc8827-3887-40b1-a39d-e984c79f10cc","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:25:53,133 connection.py _on_message     652 RECV < {"id":"b0fc8827-3887-40b1-a39d-e984c79f10cc","result":{"result":false}}
DEBUG 2023-07-01 18:25:53,134 connection.py _safely_send    417 SEND > {"id":"4fe42d06-3bab-4505-a31c-5fe7dd3b1815","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:25:53,137 connection.py _on_message     652 RECV < {"id":"4fe42d06-3bab-4505-a31c-5fe7dd3b1815","result":{}}
DEBUG 2023-07-01 18:25:53,137 connection.py _safely_send    417 SEND > {"id":"3c111060-3659-4352-b3c5-2412c8b8c9e0","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:25:53,139 connection.py _on_message     652 RECV < {"id":"3c111060-3659-4352-b3c5-2412c8b8c9e0","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:25:53,142 connection.py _safely_send    417 SEND > {"id":"7ed22c75-13d7-4df1-babf-f80c1c20e084","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:25:53,346 connection.py _on_message     652 RECV < {"id":"7ed22c75-13d7-4df1-babf-f80c1c20e084","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:25:53,348 connection.py _safely_send    417 SEND > {"id":"c0286656-effa-4fa5-9881-ad90bdaa8cfe","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:25:53,351 connection.py _on_message     652 RECV < {"id":"c0286656-effa-4fa5-9881-ad90bdaa8cfe","result":{}}
DEBUG 2023-07-01 18:25:53,352 connection.py _safely_send    417 SEND > {"id":"c3cc23b7-478f-43d7-91a2-9f901570aaf7","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:25:53,354 connection.py _on_message     652 RECV < {"id":"c3cc23b7-478f-43d7-91a2-9f901570aaf7","result":{}}
DEBUG 2023-07-01 18:25:53,355 connection.py _safely_send    417 SEND > {"id":"791af24a-926a-408c-b8f2-bc16c9087578","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:25:53,358 connection.py _on_message     652 RECV < {"id":"791af24a-926a-408c-b8f2-bc16c9087578","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:25:53,359 connection.py _safely_send    417 SEND > {"id":"f081f790-13fc-4be4-9d4a-5756a1ecc835","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:25:53,362 connection.py _on_message     650 RECV < {"id":"f081f790-13fc-4be4-9d4a-5756a1ecc835","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:25:53,363 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:25:53,365 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:25:53,366 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:25:53,366 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:25:53,366 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:25:53,368 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:25:53,369 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:25:53,370 connection.py _safely_send    417 SEND > {"id":"41a825d6-1158-4b46-ba8d-6ceeea7b60a8","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:25:53,412 connection.py _on_message     650 RECV < {"id":"41a825d6-1158-4b46-ba8d-6ceeea7b60a8","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:25:53,413 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:25:53,414 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:25:53,415 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:25:53,416 connection.py _safely_send    417 ASYNC_SEND > {"id":"ae9b7b53-3c2e-48dc-b687-6f0974fc0731","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:25:53,473 connection.py _on_message     652 RECV < {"id":"ae9b7b53-3c2e-48dc-b687-6f0974fc0731","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:25:53,474 connection.py _handle_async_msg 688 received async msg: ae9b7b53-3c2e-48dc-b687-6f0974fc0731
DEBUG 2023-07-01 18:25:53,780 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207153767},1688207153768]}}
INFO  2023-07-01 18:25:53,782 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207153767}, 1688207153768]}
INFO  2023-07-01 18:25:53,786 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:25:53,787 connection.py _safely_send    417 SEND > {"id":"67d76a8b-f44d-48a5-99dd-aeaa7b60e01d","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:25:53,818 connection.py _on_message     652 RECV < {"id":"67d76a8b-f44d-48a5-99dd-aeaa7b60e01d","result":{"elements":[{"elementId":"d767b9fa-fb5e-4a60-adaa-7e684625e939","tagName":"input"}]}}
INFO  2023-07-01 18:25:53,819 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000014447C22C40>]
DEBUG 2023-07-01 18:25:53,822 connection.py _safely_send    417 SEND > {"id":"0e1c1e0f-8afa-4fe0-a509-b25b3f517020","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"d767b9fa-fb5e-4a60-adaa-7e684625e939","pageId":2}}
DEBUG 2023-07-01 18:25:53,834 connection.py _on_message     652 RECV < {"id":"0e1c1e0f-8afa-4fe0-a509-b25b3f517020","result":{}}
INFO  2023-07-01 18:25:53,834 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:25:53,835 connection.py _safely_send    417 SEND > {"id":"9d862919-7861-4a45-93af-f6688cf94958","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:25:53,843 connection.py _on_message     652 RECV < {"id":"9d862919-7861-4a45-93af-f6688cf94958","result":{"elements":[{"elementId":"66823a5e-1d14-4962-a6a8-78d053a0f6c1","tagName":"input"}]}}
INFO  2023-07-01 18:25:53,844 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x0000014447C39610>]
DEBUG 2023-07-01 18:25:53,845 connection.py _safely_send    417 SEND > {"id":"d16f39d1-dd4d-4411-811a-6ca4b91660ad","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"66823a5e-1d14-4962-a6a8-78d053a0f6c1","pageId":2}}
DEBUG 2023-07-01 18:25:53,858 connection.py _on_message     652 RECV < {"id":"d16f39d1-dd4d-4411-811a-6ca4b91660ad","result":{}}
DEBUG 2023-07-01 18:25:53,859 connection.py _safely_send    417 SEND > {"id":"3b8a29a5-6605-46d4-a53a-a879005dc8be","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:25:53,875 connection.py _on_message     652 RECV < {"id":"3b8a29a5-6605-46d4-a53a-a879005dc8be","result":{"elementId":"d3feab83-285b-42cc-a01c-cab889ed1909","tagName":"picker"}}
DEBUG 2023-07-01 18:25:53,877 connection.py _safely_send    417 SEND > {"id":"16a447a5-3a1c-431b-986c-538eeb912dda","method":"App.addBinding","params":{"name":"page_hook_bindRegionChange_super_callback"}}
DEBUG 2023-07-01 18:25:53,879 connection.py _on_message     652 RECV < {"id":"16a447a5-3a1c-431b-986c-538eeb912dda","result":{}}
DEBUG 2023-07-01 18:25:53,880 connection.py _safely_send    417 SEND > {"id":"a893f932-bdad-4687-8838-dad12fc5a2ee","method":"App.callFunction","params":{"functionDeclaration":"function hookCurrentPageMethod(){var _=getCurrentPages().pop();if(_.bindRegionChange){if(_.bindRegionChange.__hooked__)return;var e=_.bindRegionChange;_.bindRegionChange=function(..._){\"undefined\"!=typeof page_hook_bindRegionChange_super_callback&&page_hook_bindRegionChange_super_callback(..._),e.call(this,..._)}.bind(_),_.bindRegionChange.__hooked__=!0}}","args":[]}}
DEBUG 2023-07-01 18:25:53,883 connection.py _on_message     652 RECV < {"id":"a893f932-bdad-4687-8838-dad12fc5a2ee","result":{}}
DEBUG 2023-07-01 18:25:53,884 connection.py _safely_send    417 SEND > {"id":"10d7825d-59e0-4df9-9b87-dd53ec8e1aa7","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5357\u7701","\u6d77\u53e3\u5e02","\u79c0\u82f1\u533a"]},"elementId":"d3feab83-285b-42cc-a01c-cab889ed1909","pageId":2}}
DEBUG 2023-07-01 18:25:53,889 connection.py _on_message     652 RECV < {"id":"10d7825d-59e0-4df9-9b87-dd53ec8e1aa7","result":{}}
DEBUG 2023-07-01 18:25:54,002 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"page_hook_bindRegionChange_super_callback","args":[{"type":"change","timeStamp":2244,"target":{"id":"","offsetLeft":90,"offsetTop":127,"dataset":{}},"currentTarget":{"id":"","offsetLeft":90,"offsetTop":127,"dataset":{}},"mark":{},"detail":{"value":["湖南省","海口市","秀英区"]},"mut":false,"_userTap":false}]}}
DEBUG 2023-07-01 18:25:54,004 app.py     super_callback  974 Page.bindRegionChange call hook result: [{'type': 'change', 'timeStamp': 2244, 'target': {'id': '', 'offsetLeft': 90, 'offsetTop': 127, 'dataset': {}}, 'currentTarget': {'id': '', 'offsetLeft': 90, 'offsetTop': 127, 'dataset': {}}, 'mark': {}, 'detail': {'value': ['湖南省', '海口市', '秀英区']}, 'mut': False, '_userTap': False}]
DEBUG 2023-07-01 18:25:54,004 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖南省","海口市","秀英区"]]}}
DEBUG 2023-07-01 18:25:54,009 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖南省","海口市","秀英区"]]}}
DEBUG 2023-07-01 18:26:03,891 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:26:03,891 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:26:03,892 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:26:03,894 connection.py _safely_send    417 SEND > {"id":"9fe20e29-2742-4ca3-b79d-49151f0cad98","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:26:03,958 connection.py _on_message     650 RECV < {"id":"9fe20e29-2742-4ca3-b79d-49151f0cad98","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9sG+ed5/Gv4mTTzSKNW7WKfyS+sOckt2irytY4iEVvilOy5UVAJcQ5p7FDCyjtNosLQgrb3QvQWDJE2gV61z2LOuSwudjahUzbbbJ2QuWgwFlXuCYmHcRcS2ZaXJO4YeDYlqyaqZtuunZdm/fHkNSQHP6QRP34yu/XX+ZwZp6ZoebD53nmeeiaVColAKDBDXN9AABQKQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAq...
INFO  2023-07-01 18:26:03,960 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:26:03,961 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:26:03,962 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:26:13,974 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:26:13,974 connection.py _safely_send    417 ASYNC_SEND > {"id":"ab26fdc9-63a4-4a9f-ac9d-25bba1fae852","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:26:13,976 connection.py _on_message     652 RECV < {"id":"ab26fdc9-63a4-4a9f-ac9d-25bba1fae852","result":{}}
INFO  2023-07-01 18:26:13,977 connection.py _handle_async_msg 688 received async msg: ab26fdc9-63a4-4a9f-ac9d-25bba1fae852, maybe command ignore response
ERROR 2023-07-01 18:26:13,998 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:26:14,464 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:26:14,977 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:26:14,977 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:26:14,978 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:26:14,980 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:26:14,981 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:26:14,982 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:26:33,828 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:26:33,833 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:26:33,834 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:26:33,841 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:26:34,220 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:26:34,220 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:26:34,221 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:26:34,223 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:26:34,224 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:26:34,224 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:26:34,226 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:26:34,226 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:26:36,651 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:26:36,652 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:26:46,654 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:26:47,117 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:26:47,119 connection.py _safely_send    417 SEND > {"id":"069977cd-a91b-4a51-9d5a-52781f783bbb","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:26:47,132 connection.py _on_message     652 RECV < {"id":"069977cd-a91b-4a51-9d5a-52781f783bbb","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:26:47,132 connection.py _safely_send    417 SEND > {"id":"34e4734c-8122-43b4-9b9e-01cc49467782","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:26:48,387 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 18:26:48,390 connection.py _on_message     650 RECV < {"id":"34e4734c-8122-43b4-9b9e-01cc49467782","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:26:48,391 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:26:48,391 connection.py _safely_send    417 SEND > {"id":"0f6627ee-1e32-4469-bfeb-858cacac82d1","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:26:48,393 connection.py _on_message     652 RECV < {"id":"0f6627ee-1e32-4469-bfeb-858cacac82d1","result":{}}
DEBUG 2023-07-01 18:26:48,394 connection.py _safely_send    417 SEND > {"id":"af94f6a0-2698-4475-8744-3c80d1ae8d71","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:26:48,397 connection.py _on_message     652 RECV < {"id":"af94f6a0-2698-4475-8744-3c80d1ae8d71","result":{}}
DEBUG 2023-07-01 18:26:48,398 connection.py _safely_send    417 SEND > {"id":"bbdd4d51-b20a-4c28-8e44-eae2add2f49a","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:26:48,401 connection.py _on_message     652 RECV < {"id":"bbdd4d51-b20a-4c28-8e44-eae2add2f49a","result":{"result":true}}
DEBUG 2023-07-01 18:26:48,402 connection.py _safely_send    417 SEND > {"id":"54e5dc0a-9c29-4466-92a3-a3b8908bb37e","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:26:48,404 connection.py _on_message     652 RECV < {"id":"54e5dc0a-9c29-4466-92a3-a3b8908bb37e","result":{"result":false}}
DEBUG 2023-07-01 18:26:48,404 connection.py _safely_send    417 SEND > {"id":"7741ad25-0bb9-4ba9-9c18-c576868b51cc","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:26:48,407 connection.py _on_message     650 RECV < {"id":"7741ad25-0bb9-4ba9-9c18-c576868b51cc","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:26:48,409 connection.py _safely_send    417 SEND > {"id":"073ef3a8-bfeb-4e06-89e4-8d5e5e63eef7","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:26:48,411 connection.py _on_message     652 RECV < {"id":"073ef3a8-bfeb-4e06-89e4-8d5e5e63eef7","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:26:48,412 connection.py _safely_send    417 SEND > {"id":"04680c0e-cbcd-4db5-9dc0-17632f2ffb73","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:26:48,413 connection.py _on_message     652 RECV < {"id":"04680c0e-cbcd-4db5-9dc0-17632f2ffb73","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:26:48,414 connection.py _safely_send    417 SEND > {"id":"93a56faf-39b8-4906-a16c-9d2ffa38b355","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:26:48,417 connection.py _on_message     652 RECV < {"id":"93a56faf-39b8-4906-a16c-9d2ffa38b355","result":{"result":false}}
DEBUG 2023-07-01 18:26:48,421 connection.py _safely_send    417 SEND > {"id":"13560916-5a16-44e5-9976-c4bfd2f8477e","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:26:48,424 connection.py _on_message     652 RECV < {"id":"13560916-5a16-44e5-9976-c4bfd2f8477e","result":{}}
DEBUG 2023-07-01 18:26:48,424 connection.py _safely_send    417 SEND > {"id":"11f09a58-7fec-4270-b521-9c25ff53d9f6","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:26:48,427 connection.py _on_message     652 RECV < {"id":"11f09a58-7fec-4270-b521-9c25ff53d9f6","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:26:48,428 connection.py _safely_send    417 SEND > {"id":"69f58080-0e61-477d-8c6f-47511384286e","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:26:48,653 connection.py _on_message     652 RECV < {"id":"69f58080-0e61-477d-8c6f-47511384286e","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:26:48,654 connection.py _safely_send    417 SEND > {"id":"83dd00b6-9a02-4e30-a7b2-1e1ae6710477","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:26:48,659 connection.py _on_message     652 RECV < {"id":"83dd00b6-9a02-4e30-a7b2-1e1ae6710477","result":{}}
DEBUG 2023-07-01 18:26:48,659 connection.py _safely_send    417 SEND > {"id":"ae30a175-5bdb-4d7d-9f9f-394f232edf34","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:26:48,661 connection.py _on_message     652 RECV < {"id":"ae30a175-5bdb-4d7d-9f9f-394f232edf34","result":{}}
DEBUG 2023-07-01 18:26:48,662 connection.py _safely_send    417 SEND > {"id":"640acbf7-e6da-471b-88b2-c9f156ee30c9","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:26:48,664 connection.py _on_message     652 RECV < {"id":"640acbf7-e6da-471b-88b2-c9f156ee30c9","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:26:48,666 connection.py _safely_send    417 SEND > {"id":"287739b0-293a-45a8-850d-3ef1c9271408","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:26:48,670 connection.py _on_message     650 RECV < {"id":"287739b0-293a-45a8-850d-3ef1c9271408","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:26:48,670 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:26:48,687 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:26:48,688 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:26:48,688 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:26:48,689 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:26:48,690 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:26:48,690 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:26:48,691 connection.py _safely_send    417 SEND > {"id":"c3b1f505-d546-44ec-adb1-1105988cc32c","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:26:48,737 connection.py _on_message     650 RECV < {"id":"c3b1f505-d546-44ec-adb1-1105988cc32c","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:26:48,739 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:26:48,739 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:26:48,740 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:26:48,740 connection.py _safely_send    417 ASYNC_SEND > {"id":"972786c5-b917-44c5-88c9-8dda0a3d36ec","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:26:48,795 connection.py _on_message     652 RECV < {"id":"972786c5-b917-44c5-88c9-8dda0a3d36ec","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:26:48,795 connection.py _handle_async_msg 688 received async msg: 972786c5-b917-44c5-88c9-8dda0a3d36ec
DEBUG 2023-07-01 18:26:49,094 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207209079},1688207209080]}}
INFO  2023-07-01 18:26:49,097 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207209079}, 1688207209080]}
INFO  2023-07-01 18:26:49,099 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:26:49,100 connection.py _safely_send    417 SEND > {"id":"5c782427-ddaf-4834-8750-37e3a3b4ab8c","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:26:49,111 connection.py _on_message     652 RECV < {"id":"5c782427-ddaf-4834-8750-37e3a3b4ab8c","result":{"elements":[{"elementId":"aa1b868c-227f-4789-932c-c471e3cc5291","tagName":"input"}]}}
INFO  2023-07-01 18:26:49,112 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001FD3B47A430>]
DEBUG 2023-07-01 18:26:49,113 connection.py _safely_send    417 SEND > {"id":"4c201cc8-8d95-4501-8fca-6e791699fe71","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"aa1b868c-227f-4789-932c-c471e3cc5291","pageId":2}}
DEBUG 2023-07-01 18:26:49,124 connection.py _on_message     652 RECV < {"id":"4c201cc8-8d95-4501-8fca-6e791699fe71","result":{}}
INFO  2023-07-01 18:26:49,125 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:26:49,126 connection.py _safely_send    417 SEND > {"id":"b5694478-6c57-484f-bfcc-c6e6a98687ca","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:26:49,130 connection.py _on_message     652 RECV < {"id":"b5694478-6c57-484f-bfcc-c6e6a98687ca","result":{"elements":[{"elementId":"1008b1f1-8159-44d1-9019-1cfccd46138a","tagName":"input"}]}}
INFO  2023-07-01 18:26:49,131 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001FD3B8D1D30>]
DEBUG 2023-07-01 18:26:49,132 connection.py _safely_send    417 SEND > {"id":"819531e6-f6c9-4969-abe1-5922d21a2f13","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"1008b1f1-8159-44d1-9019-1cfccd46138a","pageId":2}}
DEBUG 2023-07-01 18:26:49,138 connection.py _on_message     652 RECV < {"id":"819531e6-f6c9-4969-abe1-5922d21a2f13","result":{}}
DEBUG 2023-07-01 18:26:49,139 connection.py _safely_send    417 SEND > {"id":"da2b3e0c-11af-4407-bf9e-17f6cd0b3f28","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:26:49,154 connection.py _on_message     652 RECV < {"id":"da2b3e0c-11af-4407-bf9e-17f6cd0b3f28","result":{"elementId":"dd4d78cd-be99-45a2-87dd-1aaab8bff070","tagName":"picker"}}
DEBUG 2023-07-01 18:26:49,155 connection.py _safely_send    417 SEND > {"id":"867ec551-6cbf-42da-ad49-f62060cbb86c","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5317\u7701","\u6d77\u53e3\u5e02","\u79c0\u82f1\u533a"]},"elementId":"dd4d78cd-be99-45a2-87dd-1aaab8bff070","pageId":2}}
DEBUG 2023-07-01 18:26:49,162 connection.py _on_message     652 RECV < {"id":"867ec551-6cbf-42da-ad49-f62060cbb86c","result":{}}
DEBUG 2023-07-01 18:26:49,177 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖北省","海口市","秀英区"]]}}
DEBUG 2023-07-01 18:26:49,178 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖北省","海口市","秀英区"]]}}
DEBUG 2023-07-01 18:26:59,163 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:26:59,164 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:26:59,165 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:26:59,165 connection.py _safely_send    417 SEND > {"id":"54ea9507-4055-400b-8c1c-c12eaf1eb15e","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:26:59,228 connection.py _on_message     650 RECV < {"id":"54ea9507-4055-400b-8c1c-c12eaf1eb15e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9sG+ed5/Ev82PTzSKNW7WKbCe+sJcft2irytY4iEU3xSnZ8iKgEmKf09ihBZR2m8UFIYXt7hVoLAYS7QV6lz2LOuSwudjahUw7bbJ2QuWgwFlXuCYmbcRcS2ZaXJO4ZeDYlqyaqZtuu3HTmPfHkNSQHP6QRP34yu/XX9ZwOM/MSPPh83znGdqRTqcFADS4ZqF3AACqRWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYANQgsACoQWABUIPAAqAGgQVADQILgBoEFgA1CCwAahBYAN...
INFO  2023-07-01 18:26:59,230 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:26:59,231 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:26:59,232 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:27:09,244 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:27:09,244 connection.py _safely_send    417 ASYNC_SEND > {"id":"c9003906-661e-4fc3-87d1-99125a95befb","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:27:09,246 connection.py _on_message     652 RECV < {"id":"c9003906-661e-4fc3-87d1-99125a95befb","result":{}}
INFO  2023-07-01 18:27:09,247 connection.py _handle_async_msg 688 received async msg: c9003906-661e-4fc3-87d1-99125a95befb, maybe command ignore response
ERROR 2023-07-01 18:27:09,267 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:27:09,716 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:27:10,246 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:27:10,246 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:27:10,247 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:27:10,248 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:27:10,248 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:27:10,248 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:27:18,294 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:27:18,296 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:27:18,297 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:27:18,302 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:27:18,684 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:27:18,684 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:27:18,685 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:27:18,685 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:27:18,686 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:27:18,686 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:27:18,687 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:27:18,688 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:27:21,157 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:27:21,157 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:27:31,159 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:27:31,229 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:27:31,229 connection.py _safely_send    417 SEND > {"id":"34b84121-01b6-44a5-aaea-15ff256a9da3","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:27:31,232 connection.py _on_message     652 RECV < {"id":"34b84121-01b6-44a5-aaea-15ff256a9da3","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:27:31,232 connection.py _safely_send    417 SEND > {"id":"64b68c48-32b9-46e4-b76a-7358880652ab","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:27:31,235 connection.py _on_message     650 RECV < {"id":"64b68c48-32b9-46e4-b76a-7358880652ab","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:27:31,239 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:27:31,240 connection.py _safely_send    417 SEND > {"id":"f748a504-0fb0-4cf0-b589-286c76d12920","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:27:31,242 connection.py _on_message     652 RECV < {"id":"f748a504-0fb0-4cf0-b589-286c76d12920","result":{}}
DEBUG 2023-07-01 18:27:31,243 connection.py _safely_send    417 SEND > {"id":"22ca4b81-633e-4884-a992-9e49eab484d9","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:27:31,245 connection.py _on_message     652 RECV < {"id":"22ca4b81-633e-4884-a992-9e49eab484d9","result":{}}
DEBUG 2023-07-01 18:27:31,246 connection.py _safely_send    417 SEND > {"id":"0dcfb941-0fa2-419a-b677-ca37c77298b4","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:27:31,249 connection.py _on_message     652 RECV < {"id":"0dcfb941-0fa2-419a-b677-ca37c77298b4","result":{"result":true}}
DEBUG 2023-07-01 18:27:31,251 connection.py _safely_send    417 SEND > {"id":"02815fec-2119-4f67-be9b-59a86bc4f592","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:27:31,253 connection.py _on_message     652 RECV < {"id":"02815fec-2119-4f67-be9b-59a86bc4f592","result":{"result":false}}
DEBUG 2023-07-01 18:27:31,254 connection.py _safely_send    417 SEND > {"id":"2f37a613-6b98-4e4d-98fc-333ef68e9a87","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:27:31,256 connection.py _on_message     650 RECV < {"id":"2f37a613-6b98-4e4d-98fc-333ef68e9a87","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:27:31,256 connection.py _safely_send    417 SEND > {"id":"f40addc0-a689-4118-95ac-39751ea9c02b","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:27:31,259 connection.py _on_message     652 RECV < {"id":"f40addc0-a689-4118-95ac-39751ea9c02b","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:27:31,260 connection.py _safely_send    417 SEND > {"id":"5b42c53b-79ee-4715-ad42-eed0d0154b39","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:27:31,263 connection.py _on_message     652 RECV < {"id":"5b42c53b-79ee-4715-ad42-eed0d0154b39","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:27:31,264 connection.py _safely_send    417 SEND > {"id":"b0326c4e-0cf5-4ff0-9edc-7a062f935e12","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:27:31,267 connection.py _on_message     652 RECV < {"id":"b0326c4e-0cf5-4ff0-9edc-7a062f935e12","result":{"result":false}}
DEBUG 2023-07-01 18:27:31,268 connection.py _safely_send    417 SEND > {"id":"3855ed5d-682f-459d-8117-8949977e0df4","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:27:31,270 connection.py _on_message     652 RECV < {"id":"3855ed5d-682f-459d-8117-8949977e0df4","result":{}}
DEBUG 2023-07-01 18:27:31,270 connection.py _safely_send    417 SEND > {"id":"bc69d683-e879-44c5-9134-8939c9ae3f2b","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:27:31,276 connection.py _on_message     652 RECV < {"id":"bc69d683-e879-44c5-9134-8939c9ae3f2b","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:27:31,276 connection.py _safely_send    417 SEND > {"id":"96c1460f-7013-4a06-a84f-5fe7afd2e5d0","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:27:31,509 connection.py _on_message     652 RECV < {"id":"96c1460f-7013-4a06-a84f-5fe7afd2e5d0","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:27:31,512 connection.py _safely_send    417 SEND > {"id":"da46d332-cc7a-4e70-8cdd-81183237c002","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:27:31,516 connection.py _on_message     652 RECV < {"id":"da46d332-cc7a-4e70-8cdd-81183237c002","result":{}}
DEBUG 2023-07-01 18:27:31,517 connection.py _safely_send    417 SEND > {"id":"1ab5be5c-7e72-4611-a33a-144f17c13da7","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:27:31,518 connection.py _on_message     652 RECV < {"id":"1ab5be5c-7e72-4611-a33a-144f17c13da7","result":{}}
DEBUG 2023-07-01 18:27:31,520 connection.py _safely_send    417 SEND > {"id":"a5ae1ecc-325f-4813-a4f9-02d4db1b9fd9","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:27:31,525 connection.py _on_message     652 RECV < {"id":"a5ae1ecc-325f-4813-a4f9-02d4db1b9fd9","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:27:31,526 connection.py _safely_send    417 SEND > {"id":"65009222-8206-4e5b-9ed0-cd70fac3c482","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:27:31,530 connection.py _on_message     650 RECV < {"id":"65009222-8206-4e5b-9ed0-cd70fac3c482","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:27:31,530 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:27:31,533 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:27:31,534 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:27:31,534 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:27:31,534 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:27:31,537 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:27:31,538 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:27:31,538 connection.py _safely_send    417 SEND > {"id":"24f033e9-0fa6-403b-9a12-725991b79451","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:27:31,599 connection.py _on_message     650 RECV < {"id":"24f033e9-0fa6-403b-9a12-725991b79451","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:27:31,601 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:27:31,601 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:27:31,602 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:27:31,602 connection.py _safely_send    417 ASYNC_SEND > {"id":"999ffaed-c505-4a5c-b728-c179fc41488c","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:27:31,655 connection.py _on_message     652 RECV < {"id":"999ffaed-c505-4a5c-b728-c179fc41488c","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:27:31,655 connection.py _handle_async_msg 688 received async msg: 999ffaed-c505-4a5c-b728-c179fc41488c
DEBUG 2023-07-01 18:27:31,949 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207251936},1688207251937]}}
INFO  2023-07-01 18:27:31,952 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207251936}, 1688207251937]}
INFO  2023-07-01 18:27:31,953 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:27:31,956 connection.py _safely_send    417 SEND > {"id":"3019980e-e539-4d4e-8ca8-667ca59b19d9","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:27:31,982 connection.py _on_message     652 RECV < {"id":"3019980e-e539-4d4e-8ca8-667ca59b19d9","result":{"elements":[{"elementId":"3cb20acb-36a1-4bfa-b340-e402dca6d815","tagName":"input"}]}}
INFO  2023-07-01 18:27:31,983 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000270DA7F2BE0>]
DEBUG 2023-07-01 18:27:31,985 connection.py _safely_send    417 SEND > {"id":"da5997fa-a769-432d-b188-98728ac80ccb","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"3cb20acb-36a1-4bfa-b340-e402dca6d815","pageId":2}}
DEBUG 2023-07-01 18:27:31,990 connection.py _on_message     652 RECV < {"id":"da5997fa-a769-432d-b188-98728ac80ccb","result":{}}
INFO  2023-07-01 18:27:31,991 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:27:31,992 connection.py _safely_send    417 SEND > {"id":"5a29b9b3-783e-430d-b656-86bae306f427","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:27:31,997 connection.py _on_message     652 RECV < {"id":"5a29b9b3-783e-430d-b656-86bae306f427","result":{"elements":[{"elementId":"c8acbbf9-02a9-482e-8a24-ce46dba23c15","tagName":"input"}]}}
INFO  2023-07-01 18:27:31,998 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x00000270DA809400>]
DEBUG 2023-07-01 18:27:31,998 connection.py _safely_send    417 SEND > {"id":"d1bfdac6-a413-4af9-8d19-9fdf36bef477","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"c8acbbf9-02a9-482e-8a24-ce46dba23c15","pageId":2}}
DEBUG 2023-07-01 18:27:32,008 connection.py _on_message     652 RECV < {"id":"d1bfdac6-a413-4af9-8d19-9fdf36bef477","result":{}}
DEBUG 2023-07-01 18:27:32,010 connection.py _safely_send    417 SEND > {"id":"556d27e8-b261-4c46-8f38-a4dd29a703ca","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:27:32,022 connection.py _on_message     652 RECV < {"id":"556d27e8-b261-4c46-8f38-a4dd29a703ca","result":{"elementId":"27335154-355c-4a46-9505-3290c1480ad0","tagName":"picker"}}
DEBUG 2023-07-01 18:27:32,024 connection.py _safely_send    417 SEND > {"id":"c447c9d3-8862-4ca9-94f3-d299da374d5f","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5317\u7701","\u957f\u6c99\u5e02","\u8299\u84c9\u533a"]},"elementId":"27335154-355c-4a46-9505-3290c1480ad0","pageId":2}}
DEBUG 2023-07-01 18:27:32,035 connection.py _on_message     652 RECV < {"id":"c447c9d3-8862-4ca9-94f3-d299da374d5f","result":{}}
DEBUG 2023-07-01 18:27:32,047 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖北省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:27:32,048 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖北省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:27:42,035 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:27:42,035 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:27:42,036 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:27:42,036 connection.py _safely_send    417 SEND > {"id":"8e7ce1ec-72cc-45b8-8ab3-5267b95a016d","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:27:42,084 connection.py _on_message     650 RECV < {"id":"8e7ce1ec-72cc-45b8-8ab3-5267b95a016d","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9s2/d95/E382PpMrRxp06RbMcX9tLkhq6aHH0dxKKb4tSsvAiohNjnrLZpAaPd9XBBSWHdXYHaYiDRHtC7rhZ16GG52NpBpu3WObuhclDgzBNuiUkFMc+SmRXXJF4Z+JdkzUzdbO3ipjHvjy9JfUl++UMS9eMtPx9/WV9+f5PfFz+f9/fzpR3pdFoAQIM7lnoHAKBaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA0CC4AaBBYANQgsAGoQWADUILAAqEFgAVCDwAKgBoEFQA...
INFO  2023-07-01 18:27:42,085 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:27:42,086 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:27:42,087 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:27:52,104 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:27:52,104 connection.py _safely_send    417 ASYNC_SEND > {"id":"1dfa9b9b-5fee-44a0-8601-c9641d40619d","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:27:52,105 connection.py _on_message     652 RECV < {"id":"1dfa9b9b-5fee-44a0-8601-c9641d40619d","result":{}}
INFO  2023-07-01 18:27:52,106 connection.py _handle_async_msg 688 received async msg: 1dfa9b9b-5fee-44a0-8601-c9641d40619d, maybe command ignore response
ERROR 2023-07-01 18:27:52,127 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:27:52,710 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:27:53,106 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:27:53,106 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:27:53,108 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:27:53,108 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:27:53,108 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:27:53,108 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:27:55,296 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:27:55,299 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:27:55,299 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:27:55,305 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:27:55,693 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:27:55,694 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:27:55,694 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:27:55,695 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:27:55,695 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:27:55,696 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:27:55,697 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:27:55,698 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:27:58,217 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:27:58,218 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:28:08,219 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:28:08,494 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:28:08,494 connection.py _safely_send    417 SEND > {"id":"4edbbacb-2af2-4870-bfc2-d9b44a4845d9","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:28:08,497 connection.py _on_message     652 RECV < {"id":"4edbbacb-2af2-4870-bfc2-d9b44a4845d9","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:28:08,498 connection.py _safely_send    417 SEND > {"id":"6f892e0a-44d0-462f-a378-d7fe1c37e66d","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:28:08,501 connection.py _on_message     650 RECV < {"id":"6f892e0a-44d0-462f-a378-d7fe1c37e66d","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:28:08,502 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:28:08,503 connection.py _safely_send    417 SEND > {"id":"bbca13b5-549d-4b1f-8fc6-b4ef19e4ec46","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:28:08,505 connection.py _on_message     652 RECV < {"id":"bbca13b5-549d-4b1f-8fc6-b4ef19e4ec46","result":{}}
DEBUG 2023-07-01 18:28:08,506 connection.py _safely_send    417 SEND > {"id":"338bc051-e867-4e6f-bf3a-642239a1c996","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:28:08,509 connection.py _on_message     652 RECV < {"id":"338bc051-e867-4e6f-bf3a-642239a1c996","result":{}}
DEBUG 2023-07-01 18:28:08,511 connection.py _safely_send    417 SEND > {"id":"95c60f9b-82c1-4072-b695-1158069732f7","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:28:08,513 connection.py _on_message     652 RECV < {"id":"95c60f9b-82c1-4072-b695-1158069732f7","result":{"result":true}}
DEBUG 2023-07-01 18:28:08,514 connection.py _safely_send    417 SEND > {"id":"68eb5be2-9800-4119-a42f-0be00c4b952d","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:28:08,517 connection.py _on_message     652 RECV < {"id":"68eb5be2-9800-4119-a42f-0be00c4b952d","result":{"result":false}}
DEBUG 2023-07-01 18:28:08,518 connection.py _safely_send    417 SEND > {"id":"68d7c7e4-33ef-423d-80a8-d82f65a8ee77","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:28:08,520 connection.py _on_message     650 RECV < {"id":"68d7c7e4-33ef-423d-80a8-d82f65a8ee77","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:28:08,521 connection.py _safely_send    417 SEND > {"id":"3a1090fe-4eb5-4e40-91e3-e59255f87e82","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:28:08,523 connection.py _on_message     652 RECV < {"id":"3a1090fe-4eb5-4e40-91e3-e59255f87e82","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:28:08,524 connection.py _safely_send    417 SEND > {"id":"cce8560d-02df-466b-ba92-ba40cb3616da","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:28:08,526 connection.py _on_message     652 RECV < {"id":"cce8560d-02df-466b-ba92-ba40cb3616da","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:28:08,529 connection.py _safely_send    417 SEND > {"id":"38da81f0-e43b-4502-9a75-089fa3ab31bd","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:28:08,531 connection.py _on_message     652 RECV < {"id":"38da81f0-e43b-4502-9a75-089fa3ab31bd","result":{"result":false}}
DEBUG 2023-07-01 18:28:08,532 connection.py _safely_send    417 SEND > {"id":"2f397790-8bfa-4d34-8fe5-5a41571cf821","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:28:08,535 connection.py _on_message     652 RECV < {"id":"2f397790-8bfa-4d34-8fe5-5a41571cf821","result":{}}
DEBUG 2023-07-01 18:28:08,537 connection.py _safely_send    417 SEND > {"id":"08bb6032-5941-4884-8d11-71a282542860","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:28:08,539 connection.py _on_message     652 RECV < {"id":"08bb6032-5941-4884-8d11-71a282542860","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:28:08,540 connection.py _safely_send    417 SEND > {"id":"c6204600-689e-4c68-ba3c-12e1040c877e","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:28:08,782 connection.py _on_message     652 RECV < {"id":"c6204600-689e-4c68-ba3c-12e1040c877e","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:28:08,816 connection.py _safely_send    417 SEND > {"id":"d21b0277-7d0f-4a69-b60a-674c5f083471","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:28:08,849 connection.py _on_message     652 RECV < {"id":"d21b0277-7d0f-4a69-b60a-674c5f083471","result":{}}
DEBUG 2023-07-01 18:28:08,852 connection.py _safely_send    417 SEND > {"id":"60f3f63c-b664-4af7-9c15-afed899e8230","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:28:08,856 connection.py _on_message     652 RECV < {"id":"60f3f63c-b664-4af7-9c15-afed899e8230","result":{}}
DEBUG 2023-07-01 18:28:08,859 connection.py _safely_send    417 SEND > {"id":"6fc1de52-4ea8-4672-bb63-317add51ea7a","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:28:08,865 connection.py _on_message     652 RECV < {"id":"6fc1de52-4ea8-4672-bb63-317add51ea7a","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:28:08,867 connection.py _safely_send    417 SEND > {"id":"64e49bdf-9789-499a-97d1-c3962144197b","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:28:08,872 connection.py _on_message     650 RECV < {"id":"64e49bdf-9789-499a-97d1-c3962144197b","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:28:08,873 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:28:08,879 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:28:08,884 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:28:08,884 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:28:08,885 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:28:08,886 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:28:08,887 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:28:08,887 connection.py _safely_send    417 SEND > {"id":"15ba728d-8544-4d1c-859d-a603bf59a9f3","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:28:08,943 connection.py _on_message     650 RECV < {"id":"15ba728d-8544-4d1c-859d-a603bf59a9f3","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:28:08,944 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:28:08,945 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:28:08,945 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:28:08,946 connection.py _safely_send    417 ASYNC_SEND > {"id":"d9ac9853-b029-4b5e-aab6-e2104ee70b38","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:28:08,991 connection.py _on_message     652 RECV < {"id":"d9ac9853-b029-4b5e-aab6-e2104ee70b38","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:28:08,992 connection.py _handle_async_msg 688 received async msg: d9ac9853-b029-4b5e-aab6-e2104ee70b38
DEBUG 2023-07-01 18:28:09,301 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207289288},1688207289289]}}
INFO  2023-07-01 18:28:09,303 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207289288}, 1688207289289]}
INFO  2023-07-01 18:28:09,304 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:28:09,308 connection.py _safely_send    417 SEND > {"id":"2372c9d6-6149-4db2-8865-6fc5c04dcb18","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:28:09,322 connection.py _on_message     652 RECV < {"id":"2372c9d6-6149-4db2-8865-6fc5c04dcb18","result":{"elements":[{"elementId":"64763d31-95f6-486f-a8fb-7ecec68b6d9f","tagName":"input"}]}}
INFO  2023-07-01 18:28:09,322 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002CADB051D00>]
DEBUG 2023-07-01 18:28:09,324 connection.py _safely_send    417 SEND > {"id":"f308934c-b760-49dd-8026-f9db98b6f476","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"64763d31-95f6-486f-a8fb-7ecec68b6d9f","pageId":2}}
DEBUG 2023-07-01 18:28:09,331 connection.py _on_message     652 RECV < {"id":"f308934c-b760-49dd-8026-f9db98b6f476","result":{}}
INFO  2023-07-01 18:28:09,332 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:28:09,333 connection.py _safely_send    417 SEND > {"id":"10da167f-f080-4e8a-89cc-4331b4d56b22","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:28:09,340 connection.py _on_message     652 RECV < {"id":"10da167f-f080-4e8a-89cc-4331b4d56b22","result":{"elements":[{"elementId":"368673a2-83b7-4094-8a82-9373121dbe3c","tagName":"input"}]}}
INFO  2023-07-01 18:28:09,341 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002CADB08A340>]
DEBUG 2023-07-01 18:28:09,342 connection.py _safely_send    417 SEND > {"id":"34290302-d605-4670-a4fb-2a07ebe9ddf9","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"368673a2-83b7-4094-8a82-9373121dbe3c","pageId":2}}
DEBUG 2023-07-01 18:28:09,352 connection.py _on_message     652 RECV < {"id":"34290302-d605-4670-a4fb-2a07ebe9ddf9","result":{}}
DEBUG 2023-07-01 18:28:09,353 connection.py _safely_send    417 SEND > {"id":"a22e9635-9d6a-476d-819a-972099231927","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:28:09,368 connection.py _on_message     652 RECV < {"id":"a22e9635-9d6a-476d-819a-972099231927","result":{"elementId":"2dd5b7b9-3eed-4971-a3a5-86bb2c1e097f","tagName":"picker"}}
DEBUG 2023-07-01 18:28:09,369 connection.py _safely_send    417 SEND > {"id":"09bc663e-4241-44b7-88be-f58fc63dec2a","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5357\u7701","\u957f\u6c99\u5e02","\u8299\u84c9\u533a"]},"elementId":"2dd5b7b9-3eed-4971-a3a5-86bb2c1e097f","pageId":2}}
DEBUG 2023-07-01 18:28:09,380 connection.py _on_message     652 RECV < {"id":"09bc663e-4241-44b7-88be-f58fc63dec2a","result":{}}
DEBUG 2023-07-01 18:28:09,392 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:28:09,393 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:28:19,381 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:28:19,381 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:28:19,381 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:28:19,381 connection.py _safely_send    417 SEND > {"id":"7215f40b-41e1-4a32-9853-c6bcd0095232","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:28:19,449 connection.py _on_message     650 RECV < {"id":"7215f40b-41e1-4a32-9853-c6bcd0095232","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3XtcW+ed7/ufxMXYnsTGJMTYsWtysU8mLS96UJoE5TLbSUZTzxQmaZuJHZkzlb07c3YbYL86nexXY5hdlHSa7swYaLNnzozN9IWVS9PcILOdzdRlN4lFsjvqCVHrmdi5iOAYDLbA2LUtGyPtP5YklqQlIUCAHvx5/2GLpXXTktaX5/mtZwlTKBQSAFCBeaF3AADSRWABUAaBBUAZBBYAZRBYAJRBYAFQBoEFQBkEFgBlEFgAlEFgAVAGgQVAGQQWAGUQWACUQWABUAaBBUAZBBYAZRBYAJRBYAFQBoEFQBkEFgBlEFgAlEFgAVAGgQVAGQQWAGUQWACUQWABUAaBBUAZBBYAZRBYAJRBYAFQBoEFQBkEFg...
INFO  2023-07-01 18:28:19,451 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:28:19,452 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:28:19,452 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:28:29,462 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:28:29,462 connection.py _safely_send    417 ASYNC_SEND > {"id":"acb98389-1fd7-4f90-82b2-d61a0a3af4c3","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:28:29,463 connection.py _on_message     652 RECV < {"id":"acb98389-1fd7-4f90-82b2-d61a0a3af4c3","result":{}}
INFO  2023-07-01 18:28:29,464 connection.py _handle_async_msg 688 received async msg: acb98389-1fd7-4f90-82b2-d61a0a3af4c3, maybe command ignore response
ERROR 2023-07-01 18:28:29,485 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:28:29,958 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:28:30,462 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:28:30,462 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:28:30,463 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:28:30,463 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:28:30,464 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:28:30,464 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:30:18,964 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:30:18,967 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:30:18,968 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:30:18,974 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:30:19,346 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:30:19,346 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:30:19,346 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:30:19,347 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:30:19,348 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:30:19,348 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:30:19,349 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:30:19,350 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:30:21,901 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:30:21,902 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:30:31,904 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:30:32,186 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:30:32,186 connection.py _safely_send    417 SEND > {"id":"eb2d33fe-3ad4-427a-90cd-48f2fadc5ae7","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:30:32,189 connection.py _on_message     652 RECV < {"id":"eb2d33fe-3ad4-427a-90cd-48f2fadc5ae7","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:30:32,189 connection.py _safely_send    417 SEND > {"id":"8293cc26-1471-4f23-9ce7-9f2005c94926","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:30:32,193 connection.py _on_message     650 RECV < {"id":"8293cc26-1471-4f23-9ce7-9f2005c94926","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:30:32,194 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:30:32,194 connection.py _safely_send    417 SEND > {"id":"c58faad1-e673-4a95-acc5-d041e2f31072","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:30:32,196 connection.py _on_message     652 RECV < {"id":"c58faad1-e673-4a95-acc5-d041e2f31072","result":{}}
DEBUG 2023-07-01 18:30:32,198 connection.py _safely_send    417 SEND > {"id":"7a9e4fda-6af9-4668-a7de-5081dfd10a50","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:30:32,201 connection.py _on_message     652 RECV < {"id":"7a9e4fda-6af9-4668-a7de-5081dfd10a50","result":{}}
DEBUG 2023-07-01 18:30:32,203 connection.py _safely_send    417 SEND > {"id":"4bc17fed-3a1f-4446-a1ef-535d44bbe0dd","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:30:32,206 connection.py _on_message     652 RECV < {"id":"4bc17fed-3a1f-4446-a1ef-535d44bbe0dd","result":{"result":true}}
DEBUG 2023-07-01 18:30:32,207 connection.py _safely_send    417 SEND > {"id":"c48b0ea8-16f2-4490-955e-966dfe351cc9","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:30:32,211 connection.py _on_message     652 RECV < {"id":"c48b0ea8-16f2-4490-955e-966dfe351cc9","result":{"result":false}}
DEBUG 2023-07-01 18:30:32,212 connection.py _safely_send    417 SEND > {"id":"e9e036a3-c70d-45df-af36-1571c60c18ec","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:30:32,214 connection.py _on_message     650 RECV < {"id":"e9e036a3-c70d-45df-af36-1571c60c18ec","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:30:32,214 connection.py _safely_send    417 SEND > {"id":"bfd5b3b3-b4fd-415a-9016-3c32cde02191","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:30:32,216 connection.py _on_message     652 RECV < {"id":"bfd5b3b3-b4fd-415a-9016-3c32cde02191","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:30:32,218 connection.py _safely_send    417 SEND > {"id":"90c0b7a2-7990-4ef3-ac42-43fb2b95526b","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:30:32,221 connection.py _on_message     652 RECV < {"id":"90c0b7a2-7990-4ef3-ac42-43fb2b95526b","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:30:32,222 connection.py _safely_send    417 SEND > {"id":"520f4895-502c-410f-a08c-d114e6eddaf5","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:30:32,225 connection.py _on_message     652 RECV < {"id":"520f4895-502c-410f-a08c-d114e6eddaf5","result":{"result":false}}
DEBUG 2023-07-01 18:30:32,226 connection.py _safely_send    417 SEND > {"id":"bc79806d-309b-4744-8afc-05d6d117675c","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:30:32,228 connection.py _on_message     652 RECV < {"id":"bc79806d-309b-4744-8afc-05d6d117675c","result":{}}
DEBUG 2023-07-01 18:30:32,228 connection.py _safely_send    417 SEND > {"id":"e976af62-87ee-47cc-8cd0-3ca85f560157","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:30:32,230 connection.py _on_message     652 RECV < {"id":"e976af62-87ee-47cc-8cd0-3ca85f560157","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:30:32,232 connection.py _safely_send    417 SEND > {"id":"385d74b1-550a-4933-82fe-6531979761b3","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:30:32,494 connection.py _on_message     652 RECV < {"id":"385d74b1-550a-4933-82fe-6531979761b3","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:30:32,498 connection.py _safely_send    417 SEND > {"id":"f07741e6-e739-4aea-afca-a458cbd20724","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:30:32,502 connection.py _on_message     652 RECV < {"id":"f07741e6-e739-4aea-afca-a458cbd20724","result":{}}
DEBUG 2023-07-01 18:30:32,508 connection.py _safely_send    417 SEND > {"id":"798b0412-2b9f-4300-be52-b77161d3a2d3","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:30:32,511 connection.py _on_message     652 RECV < {"id":"798b0412-2b9f-4300-be52-b77161d3a2d3","result":{}}
DEBUG 2023-07-01 18:30:32,512 connection.py _safely_send    417 SEND > {"id":"07699b58-ab93-4629-a6a3-3e77d1f812c2","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:30:32,515 connection.py _on_message     652 RECV < {"id":"07699b58-ab93-4629-a6a3-3e77d1f812c2","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:30:32,516 connection.py _safely_send    417 SEND > {"id":"db47a276-4e3f-47d3-a372-1ee51896aeef","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:30:32,520 connection.py _on_message     650 RECV < {"id":"db47a276-4e3f-47d3-a372-1ee51896aeef","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:30:32,521 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:30:32,523 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:30:32,524 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:30:32,524 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:30:32,525 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:30:32,528 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:30:32,528 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:30:32,529 connection.py _safely_send    417 SEND > {"id":"9473d526-f956-4f6d-ba12-6dd685cb71f6","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:30:32,570 connection.py _on_message     650 RECV < {"id":"9473d526-f956-4f6d-ba12-6dd685cb71f6","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:30:32,572 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:30:32,573 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:30:32,573 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:30:32,574 connection.py _safely_send    417 ASYNC_SEND > {"id":"db5044e6-fb3f-400a-89e4-fd56485066cc","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:30:32,630 connection.py _on_message     652 RECV < {"id":"db5044e6-fb3f-400a-89e4-fd56485066cc","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:30:32,631 connection.py _handle_async_msg 688 received async msg: db5044e6-fb3f-400a-89e4-fd56485066cc
DEBUG 2023-07-01 18:30:32,916 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207432904},1688207432905]}}
INFO  2023-07-01 18:30:32,918 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207432904}, 1688207432905]}
INFO  2023-07-01 18:30:32,919 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:30:32,922 connection.py _safely_send    417 SEND > {"id":"6949d95c-e778-40d5-a907-a147d33d233f","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:30:32,939 connection.py _on_message     652 RECV < {"id":"6949d95c-e778-40d5-a907-a147d33d233f","result":{"elements":[{"elementId":"45092667-1d36-49dc-aabd-050ef0ed2549","tagName":"input"}]}}
INFO  2023-07-01 18:30:32,940 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001C92106A370>]
DEBUG 2023-07-01 18:30:32,941 connection.py _safely_send    417 SEND > {"id":"e799fece-674a-4fc9-90ec-464e3587d41a","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"45092667-1d36-49dc-aabd-050ef0ed2549","pageId":2}}
DEBUG 2023-07-01 18:30:32,947 connection.py _on_message     652 RECV < {"id":"e799fece-674a-4fc9-90ec-464e3587d41a","result":{}}
INFO  2023-07-01 18:30:32,948 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:30:32,949 connection.py _safely_send    417 SEND > {"id":"09f0b71d-097a-4bc8-843a-a82644fe71c6","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:30:32,956 connection.py _on_message     652 RECV < {"id":"09f0b71d-097a-4bc8-843a-a82644fe71c6","result":{"elements":[{"elementId":"9a4ec40d-8d4d-48f4-923b-2c0511527596","tagName":"input"}]}}
INFO  2023-07-01 18:30:32,956 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001C92106A490>]
DEBUG 2023-07-01 18:30:32,957 connection.py _safely_send    417 SEND > {"id":"dceb4aba-6edb-4c8e-96af-ff83cb3d832c","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"9a4ec40d-8d4d-48f4-923b-2c0511527596","pageId":2}}
DEBUG 2023-07-01 18:30:32,965 connection.py _on_message     652 RECV < {"id":"dceb4aba-6edb-4c8e-96af-ff83cb3d832c","result":{}}
DEBUG 2023-07-01 18:30:32,966 connection.py _safely_send    417 SEND > {"id":"7bfc05e8-d6ac-4f60-87f9-802fd7a7e397","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:30:32,990 connection.py _on_message     652 RECV < {"id":"7bfc05e8-d6ac-4f60-87f9-802fd7a7e397","result":{"elementId":"b0e36637-8229-49ce-8fc5-3894200a8a11","tagName":"picker"}}
DEBUG 2023-07-01 18:30:32,993 connection.py _safely_send    417 SEND > {"id":"e05ab961-d053-450f-9748-194debea3208","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5357\u7701","\u957f\u6c99\u5e02","\u8299\u84c9\u533a"]},"elementId":"b0e36637-8229-49ce-8fc5-3894200a8a11","pageId":2}}
DEBUG 2023-07-01 18:30:32,998 connection.py _on_message     652 RECV < {"id":"e05ab961-d053-450f-9748-194debea3208","result":{}}
INFO  2023-07-01 18:30:32,998 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="街道门牌号信息"]
DEBUG 2023-07-01 18:30:32,999 connection.py _safely_send    417 SEND > {"id":"97439e05-5f19-4063-8dc8-3cfa1532cda7","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8857\u9053\u95e8\u724c\u53f7\u4fe1\u606f\"]","pageId":2}}
DEBUG 2023-07-01 18:30:33,008 connection.py _on_message     652 RECV < {"id":"97439e05-5f19-4063-8dc8-3cfa1532cda7","result":{"elements":[{"elementId":"1c62f8ab-fab9-4364-93c2-fb08aafd4cee","tagName":"input"}]}}
INFO  2023-07-01 18:30:33,009 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001C92106A430>]
DEBUG 2023-07-01 18:30:33,009 connection.py _safely_send    417 SEND > {"id":"736ac6cf-f3de-4a51-9ec3-d64aa0832b3d","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5"},"elementId":"1c62f8ab-fab9-4364-93c2-fb08aafd4cee","pageId":2}}
DEBUG 2023-07-01 18:30:33,013 connection.py _on_message     652 RECV < {"id":"736ac6cf-f3de-4a51-9ec3-d64aa0832b3d","result":{}}
INFO  2023-07-01 18:30:33,014 page.py    _get_elements_by_css 559 try to get elements: view[bindtap="submitFun"]
DEBUG 2023-07-01 18:30:33,015 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:30:33,015 connection.py _safely_send    417 SEND > {"id":"9a9694e9-c718-43ee-ac9c-de322e029232","method":"Page.getElements","params":{"selector":"view[bindtap=\"submitFun\"]","pageId":2}}
DEBUG 2023-07-01 18:30:33,016 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:30:33,031 connection.py _on_message     652 RECV < {"id":"9a9694e9-c718-43ee-ac9c-de322e029232","result":{"elements":[]}}
WARNI 2023-07-01 18:30:33,031 page.py    _get_elements_by_css 564 Could not found any element 'view[bindtap="submitFun"]' you need
DEBUG 2023-07-01 18:30:33,032 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:30:33,033 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:30:33,033 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:30:33,033 connection.py _safely_send    417 SEND > {"id":"c5bb09ad-2e75-4ea3-ae6d-d50f85761075","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:30:33,094 connection.py _on_message     650 RECV < {"id":"c5bb09ad-2e75-4ea3-ae6d-d50f85761075","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9sm/d94PEP42TJMqQBTqtix44vxLnJDesIbXo6xKTb4tTseBMwEbHPWWzTAkoJveGCkEK7XYDG5AGkXaB3XU3pkMNwkLlBpuWeMzumdvCgzSWuqUkFd88amWtxTeuOgeOfqpm16dLZdW3eH/yhh+RDipKpHx/5/for5q/nIaXnre/zfZ6HcRSLRQEADR5Y7RUAgHYRLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAah...
INFO  2023-07-01 18:30:33,096 basenative.py wrapper         29  call IdeNative.screen_shot end
DEBUG 2023-07-01 18:30:33,096 connection.py _safely_send    417 SEND > {"id":"a158b914-807b-4983-b722-d583f3c2e63c","method":"Page.getElementByXpath","params":{"selector":"/*","pageId":2}}
DEBUG 2023-07-01 18:30:33,150 connection.py _on_message     652 RECV < {"id":"a158b914-807b-4983-b722-d583f3c2e63c","result":{"elementId":"d9a1ef33-c86c-4149-a547-42f09a355546","tagName":"view"}}
DEBUG 2023-07-01 18:30:33,151 connection.py _safely_send    417 SEND > {"id":"ed846699-362e-4345-940b-083a6b630fd9","method":"Element.getWXML","params":{"type":"outer","elementId":"d9a1ef33-c86c-4149-a547-42f09a355546","pageId":2}}
DEBUG 2023-07-01 18:30:33,200 connection.py _on_message     650 RECV < {"id":"ed846699-362e-4345-940b-083a6b630fd9","result":{"wxml":"<view class=\"main\"><view class=\"data\"><view class=\"item\"><text>联系人</text><input placeholder=\"请填写姓名\" type=\"text\" value=\"测试联系人\">请填写姓名</input></view><view class=\"item\"><text>手机号</text><input placeholder=\"11位手机号码\" type=\"number\" value=\"18211110000\">11位手机号码</input></view><view class=\"item\"><text>地区</text><picker custom-item=\"全部\" mode=\"region\" value=\"[&quot;湖南省&quot;,&quot;长沙市&quot;,&quot;芙蓉区&quot;]\" aria-haspopup=\"true\...
INFO  2023-07-01 18:30:33,204 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:30:33,204 basenative.py wrapper         29  call BaseNative.get_start_up end
ERROR 2023-07-01 18:30:33,215 assertbase.py _get_stack_info 342 <bound method test.test_my of <test.test testMethod=test_my>>
Traceback (most recent call last):
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 41, in testPartExecutor
    yield
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\framework\libs\unittest\case.py", line 127, in run
    self._callTestMethod(testMethod)
  File "D:\软件默认安装位置\python38\lib\unittest\case.py", line 633, in _callTestMethod
    method()
  File "C:\Users\yang\Desktop\test\wx_auto\wx_auto_test\tests\test.py", line 30, in test_my
    self.page.get_element('view[bindtap="submitFun"]').click()
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\minium_log.py", line 122, in wrapper
    result = func(*args, **kwargs)
  File "D:\软件默认安装位置\python38\lib\site-packages\minium-1.4.0-py3.8.egg\minium\miniprogram\base_driver\page.py", line 286, in get_element
    raise MiniElementNotFoundError("element[%s] not found" % selector)
minium.framework.exception.MiniElementNotFoundError: element[view[bindtap="submitFun"]] not found
INFO  2023-07-01 18:30:43,218 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:30:43,218 connection.py _safely_send    417 ASYNC_SEND > {"id":"cc627490-b211-41d5-b261-4ca80463dd2b","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:30:43,220 connection.py _on_message     652 RECV < {"id":"cc627490-b211-41d5-b261-4ca80463dd2b","result":{}}
INFO  2023-07-01 18:30:43,220 connection.py _handle_async_msg 688 received async msg: cc627490-b211-41d5-b261-4ca80463dd2b, maybe command ignore response
ERROR 2023-07-01 18:30:43,243 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:30:43,669 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:30:44,220 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:30:44,220 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:30:44,221 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:30:44,222 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:30:44,222 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:30:44,222 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:31:15,303 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:31:15,306 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:31:15,307 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:31:15,313 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:31:15,685 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:31:15,685 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:31:15,685 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:31:15,686 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:31:15,687 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:31:15,687 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:31:15,688 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:31:15,689 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:31:18,211 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:31:18,211 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:31:28,213 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:31:28,323 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:31:28,323 connection.py _safely_send    417 SEND > {"id":"2e5a2f14-a0df-40d9-89f7-8a88be6040a7","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:31:28,326 connection.py _on_message     652 RECV < {"id":"2e5a2f14-a0df-40d9-89f7-8a88be6040a7","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:31:28,327 connection.py _safely_send    417 SEND > {"id":"62188b8c-4ec3-4e04-a8d9-c50f334182fa","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:31:28,330 connection.py _on_message     650 RECV < {"id":"62188b8c-4ec3-4e04-a8d9-c50f334182fa","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:31:28,331 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:31:28,331 connection.py _safely_send    417 SEND > {"id":"147bf3fa-0277-49f6-9a10-06b2d895b812","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:31:28,333 connection.py _on_message     652 RECV < {"id":"147bf3fa-0277-49f6-9a10-06b2d895b812","result":{}}
DEBUG 2023-07-01 18:31:28,335 connection.py _safely_send    417 SEND > {"id":"61c75c47-e4f3-4d02-bff8-64030caff780","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:31:28,337 connection.py _on_message     652 RECV < {"id":"61c75c47-e4f3-4d02-bff8-64030caff780","result":{}}
DEBUG 2023-07-01 18:31:28,339 connection.py _safely_send    417 SEND > {"id":"f4e04de7-ad83-4b69-b8d4-9e2e06669571","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:31:28,341 connection.py _on_message     652 RECV < {"id":"f4e04de7-ad83-4b69-b8d4-9e2e06669571","result":{"result":true}}
DEBUG 2023-07-01 18:31:28,342 connection.py _safely_send    417 SEND > {"id":"74d2edd3-b40e-44fe-a054-4bf46c61e596","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:31:28,344 connection.py _on_message     652 RECV < {"id":"74d2edd3-b40e-44fe-a054-4bf46c61e596","result":{"result":false}}
DEBUG 2023-07-01 18:31:28,345 connection.py _safely_send    417 SEND > {"id":"79a94051-2e61-479c-abaf-4c9bd676ebbf","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:31:28,347 connection.py _on_message     650 RECV < {"id":"79a94051-2e61-479c-abaf-4c9bd676ebbf","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:31:28,348 connection.py _safely_send    417 SEND > {"id":"c8e9f81d-91e7-47da-8afa-4cef9b0d319f","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:31:28,350 connection.py _on_message     652 RECV < {"id":"c8e9f81d-91e7-47da-8afa-4cef9b0d319f","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:31:28,351 connection.py _safely_send    417 SEND > {"id":"a5e6987a-b18c-48b2-9155-8bfbc5e70fb5","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:31:28,352 connection.py _on_message     652 RECV < {"id":"a5e6987a-b18c-48b2-9155-8bfbc5e70fb5","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:31:28,353 connection.py _safely_send    417 SEND > {"id":"ac4f3972-ee17-440a-a84c-24f439b5b667","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:31:28,355 connection.py _on_message     652 RECV < {"id":"ac4f3972-ee17-440a-a84c-24f439b5b667","result":{"result":false}}
DEBUG 2023-07-01 18:31:28,358 connection.py _safely_send    417 SEND > {"id":"82dc5db3-d510-40a6-9fe4-b584725deb40","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:31:28,361 connection.py _on_message     652 RECV < {"id":"82dc5db3-d510-40a6-9fe4-b584725deb40","result":{}}
DEBUG 2023-07-01 18:31:28,361 connection.py _safely_send    417 SEND > {"id":"3edc8319-dd97-4d44-94a8-b1b3aec8e1bb","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:31:28,363 connection.py _on_message     652 RECV < {"id":"3edc8319-dd97-4d44-94a8-b1b3aec8e1bb","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:31:28,364 connection.py _safely_send    417 SEND > {"id":"18650188-9864-46dc-a243-81ff552d00e4","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:31:28,666 connection.py _on_message     652 RECV < {"id":"18650188-9864-46dc-a243-81ff552d00e4","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:31:28,668 connection.py _safely_send    417 SEND > {"id":"d0e3b598-b05b-4067-b008-6f7aeef2aefe","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:31:28,671 connection.py _on_message     652 RECV < {"id":"d0e3b598-b05b-4067-b008-6f7aeef2aefe","result":{}}
DEBUG 2023-07-01 18:31:28,672 connection.py _safely_send    417 SEND > {"id":"7b1f9810-3ffa-472a-b8d9-8731147feebe","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:31:28,673 connection.py _on_message     652 RECV < {"id":"7b1f9810-3ffa-472a-b8d9-8731147feebe","result":{}}
DEBUG 2023-07-01 18:31:28,675 connection.py _safely_send    417 SEND > {"id":"d7f11fce-bee8-4ed7-8352-e7857d24828d","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:31:28,677 connection.py _on_message     652 RECV < {"id":"d7f11fce-bee8-4ed7-8352-e7857d24828d","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:31:28,678 connection.py _safely_send    417 SEND > {"id":"6998033e-40e7-4bd5-93ad-ad3915c47d1e","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:31:28,682 connection.py _on_message     650 RECV < {"id":"6998033e-40e7-4bd5-93ad-ad3915c47d1e","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:31:28,682 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:31:28,686 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:31:28,686 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:31:28,688 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:31:28,688 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:31:28,689 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:31:28,689 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:31:28,690 connection.py _safely_send    417 SEND > {"id":"3139b8c0-e28e-423c-b319-d60185c4a5e5","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:31:28,731 connection.py _on_message     650 RECV < {"id":"3139b8c0-e28e-423c-b319-d60185c4a5e5","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:31:28,733 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:31:28,734 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:31:28,734 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:31:28,734 connection.py _safely_send    417 ASYNC_SEND > {"id":"876ae790-df6d-4a0f-adfe-f42003a66b9a","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:31:28,822 connection.py _on_message     652 RECV < {"id":"876ae790-df6d-4a0f-adfe-f42003a66b9a","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:31:28,822 connection.py _handle_async_msg 688 received async msg: 876ae790-df6d-4a0f-adfe-f42003a66b9a
DEBUG 2023-07-01 18:31:29,176 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207489164},1688207489164]}}
INFO  2023-07-01 18:31:29,178 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207489164}, 1688207489164]}
INFO  2023-07-01 18:31:29,180 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:31:29,183 connection.py _safely_send    417 SEND > {"id":"4a15dd0a-0e82-4464-926c-b32e4a60c77f","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:31:29,242 connection.py _on_message     652 RECV < {"id":"4a15dd0a-0e82-4464-926c-b32e4a60c77f","result":{"elements":[{"elementId":"e1fff7e3-ecf6-4974-a055-ce9c1871af4f","tagName":"input"}]}}
INFO  2023-07-01 18:31:29,242 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002C488322CD0>]
DEBUG 2023-07-01 18:31:29,244 connection.py _safely_send    417 SEND > {"id":"18b310b3-131e-48d2-a5f9-eabbaa5f6c8b","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"e1fff7e3-ecf6-4974-a055-ce9c1871af4f","pageId":2}}
DEBUG 2023-07-01 18:31:29,251 connection.py _on_message     652 RECV < {"id":"18b310b3-131e-48d2-a5f9-eabbaa5f6c8b","result":{}}
INFO  2023-07-01 18:31:29,251 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:31:29,252 connection.py _safely_send    417 SEND > {"id":"dc4c8e3b-90a2-48e6-be1c-4b23e974f4d6","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:31:29,259 connection.py _on_message     652 RECV < {"id":"dc4c8e3b-90a2-48e6-be1c-4b23e974f4d6","result":{"elements":[{"elementId":"8f455d3f-3ec0-46be-be6d-0e459c6b1c54","tagName":"input"}]}}
INFO  2023-07-01 18:31:29,260 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002C488322AC0>]
DEBUG 2023-07-01 18:31:29,261 connection.py _safely_send    417 SEND > {"id":"056dc8c4-a4e9-478f-9d00-2dc5045ecfc0","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"8f455d3f-3ec0-46be-be6d-0e459c6b1c54","pageId":2}}
DEBUG 2023-07-01 18:31:29,268 connection.py _on_message     652 RECV < {"id":"056dc8c4-a4e9-478f-9d00-2dc5045ecfc0","result":{}}
DEBUG 2023-07-01 18:31:29,269 connection.py _safely_send    417 SEND > {"id":"ad234564-7176-480d-a0bc-9bdc20694832","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:31:29,287 connection.py _on_message     652 RECV < {"id":"ad234564-7176-480d-a0bc-9bdc20694832","result":{"elementId":"3c2f60fd-df9c-469f-8f3a-608e116e632d","tagName":"picker"}}
DEBUG 2023-07-01 18:31:29,288 connection.py _safely_send    417 SEND > {"id":"0027347f-139e-4c3d-b409-a79988b74241","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5357\u7701","\u957f\u6c99\u5e02","\u8299\u84c9\u533a"]},"elementId":"3c2f60fd-df9c-469f-8f3a-608e116e632d","pageId":2}}
DEBUG 2023-07-01 18:31:29,292 connection.py _on_message     652 RECV < {"id":"0027347f-139e-4c3d-b409-a79988b74241","result":{}}
INFO  2023-07-01 18:31:29,292 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="街道门牌号信息"]
DEBUG 2023-07-01 18:31:29,293 connection.py _safely_send    417 SEND > {"id":"e87bec1e-4e94-4695-92e3-764c19f2e82d","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8857\u9053\u95e8\u724c\u53f7\u4fe1\u606f\"]","pageId":2}}
DEBUG 2023-07-01 18:31:29,299 connection.py _on_message     652 RECV < {"id":"e87bec1e-4e94-4695-92e3-764c19f2e82d","result":{"elements":[{"elementId":"17e73150-41e2-47d6-a109-7aeb1cce32c1","tagName":"input"}]}}
INFO  2023-07-01 18:31:29,300 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000002C48833B190>]
DEBUG 2023-07-01 18:31:29,301 connection.py _safely_send    417 SEND > {"id":"e247b0f8-7b4a-4d95-8952-41c94e697578","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5"},"elementId":"17e73150-41e2-47d6-a109-7aeb1cce32c1","pageId":2}}
DEBUG 2023-07-01 18:31:29,303 connection.py _on_message     652 RECV < {"id":"e247b0f8-7b4a-4d95-8952-41c94e697578","result":{}}
INFO  2023-07-01 18:31:29,304 page.py    _get_elements_by_css 559 try to get elements: view[class="btn active"]
DEBUG 2023-07-01 18:31:29,304 connection.py _safely_send    417 SEND > {"id":"7db01cb7-9d99-4da8-b0cb-145f9131d5c0","method":"Page.getElements","params":{"selector":"view[class=\"btn active\"]","pageId":2}}
DEBUG 2023-07-01 18:31:29,388 connection.py _on_message     652 RECV < {"id":"7db01cb7-9d99-4da8-b0cb-145f9131d5c0","result":{"elements":[{"elementId":"fe369365-afee-44cf-88c4-8dab24620a7d","tagName":"view"}]}}
INFO  2023-07-01 18:31:29,389 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.BaseElement object at 0x000002C48833B2E0>]
DEBUG 2023-07-01 18:31:29,390 connection.py _safely_send    417 SEND > {"id":"bc9facee-0813-49dd-9639-3ff24b08497b","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"fe369365-afee-44cf-88c4-8dab24620a7d","pageId":2}}
DEBUG 2023-07-01 18:31:29,428 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:31:29,432 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:31:29,434 connection.py _on_message     652 RECV < {"id":"bc9facee-0813-49dd-9639-3ff24b08497b","result":{"styles":["auto"]}}
DEBUG 2023-07-01 18:31:29,435 connection.py _safely_send    417 SEND > {"id":"5ed8128c-3444-4542-bdae-9fa0770e85c7","method":"Element.tap","params":{"elementId":"fe369365-afee-44cf-88c4-8dab24620a7d","pageId":2}}
DEBUG 2023-07-01 18:31:29,446 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:31:29,454 connection.py _on_message     652 RECV < {"id":"5ed8128c-3444-4542-bdae-9fa0770e85c7","result":{}}
DEBUG 2023-07-01 18:31:29,457 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:31:30,455 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:31:30,456 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:31:30,457 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:31:30,458 connection.py _safely_send    417 SEND > {"id":"75e869d1-4ec7-458e-a14d-d8bd3b0e8ae4","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:31:30,570 connection.py _on_message     650 RECV < {"id":"75e869d1-4ec7-458e-a14d-d8bd3b0e8ae4","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9sm/d94PEP42TJMqQBTqtix44vxLnJDesIbXo6xKTb4tTseBMwEbHPWWzTAkoJveGCkEK7XYDG5AGkXaB3XU3pkMNwkLlBpuWeMzumdvCgzSWuqUkFd88amWtxTeuOgeOfqpm16dLZdW3eH/yhh+RDipKpHx/5/for5q/nIaXnre/zfZ6HcRSLRQEADR5Y7RUAgHYRLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAah...
INFO  2023-07-01 18:31:30,572 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:31:30,574 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:31:30,574 basenative.py wrapper         29  call BaseNative.get_start_up end
INFO  2023-07-01 18:31:40,598 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:31:40,598 connection.py _safely_send    417 ASYNC_SEND > {"id":"0344dc33-717e-42af-874b-60c70a71e259","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:31:40,601 connection.py _on_message     652 RECV < {"id":"0344dc33-717e-42af-874b-60c70a71e259","result":{}}
INFO  2023-07-01 18:31:40,602 connection.py _handle_async_msg 688 received async msg: 0344dc33-717e-42af-874b-60c70a71e259, maybe command ignore response
ERROR 2023-07-01 18:31:40,624 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:31:41,198 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:31:41,599 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:31:41,599 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:31:41,600 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:31:41,601 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:31:41,601 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:31:41,601 basenative.py wrapper         29  call IdeNative.release end
DEBUG 2023-07-01 18:33:32,118 loader.py  load_from_case_name 157 Loading Case: test.test_my
DEBUG 2023-07-01 18:33:32,121 loader.py  load_from_case_name 162 put case[test_my] into queue
INFO  2023-07-01 18:33:32,122 miniconfig.py from_file       131 load config from config.json
INFO  2023-07-01 18:33:32,128 loader.py  run_session     269 start session with fork mode 
{'debug': False, 'base_dir': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests', 'platform': 'ide', 'app': 'wx', 'debug_mode': 'debug', 'close_ide': False, 'auto_capture': 'auto', 'auto_relaunch': False, 'device_desire': {}, 'account_info': {}, 'report_usage': True, 'remote_connect_timeout': 300, 'request_timeout': 60, 'use_push': True, 'full_reset': False, 'outputs': 'C:\\Users\\yang\\Desktop\\test\\wx_auto\\wx_auto_test\\tests\\outputs', 'enable_app_log': True, 'enable_network_panel': False, 'project_path': 'C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master', 'dev_tool_path': 'C:/Program Files (x86)/Tencent/微信web开发者工具/cli.bat', 'test_port': 9420, 'mock_native_modal': {}, 'mock_request': [], 'auto_authorize': False, 'audits': None, 'teardown_snapshot': False, 'mock_images_dir': '', 'mock_images': {}, 'need_perf': False, 'appid': None, 'assert_capture': True, 'framework_capture': True, 'error_capture': False}

DEBUG 2023-07-01 18:33:32,507 minitest.py _miniClassSetUp 248 =====================
DEBUG 2023-07-01 18:33:32,508 minitest.py _miniClassSetUp 249 Testing class：test
DEBUG 2023-07-01 18:33:32,508 minitest.py _miniClassSetUp 250 =====================
INFO  2023-07-01 18:33:32,508 minitest.py init_miniprogram 145 start init miniprogram
INFO  2023-07-01 18:33:32,509 basenative.py wrapper         25  call IdeNative.start_wechat
INFO  2023-07-01 18:33:32,510 basenative.py wrapper         29  call IdeNative.start_wechat end
INFO  2023-07-01 18:33:32,511 wx_minium.py launch_dev_tool 564 Starting dev tool and launch MiniProgram project ...
INFO  2023-07-01 18:33:32,511 minium_object.py _do_shell       68  de shell: cli.bat auto --project "C:/Users/yang/Desktop/test/wx_auto/wechat-app-mall-master" --auto-port 9420
INFO  2023-07-01 18:33:35,044 minium_object.py _do_shell       86  err:
- initialize

√ IDE server has started, listening on http://127.0.0.1:59957
- preparing
- Fetching AppID (wxc322d013dc6066b9) permissions
√ Using AppID: wxc322d013dc6066b9
√ auto

INFO  2023-07-01 18:33:35,045 minium_object.py _do_shell       87  out:

INFO  2023-07-01 18:33:45,047 wx_minium.py connect_dev_tool 660 Trying to connect Dev tool ...
INFO  2023-07-01 18:33:45,278 connection.py _connect        342 connect to WebChatTools successfully
DEBUG 2023-07-01 18:33:45,278 connection.py _safely_send    417 SEND > {"id":"ce8bbc12-b6f9-4ce2-ad3a-1e56e90f4fc8","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:33:45,389 connection.py _on_message     652 RECV < {"id":"ce8bbc12-b6f9-4ce2-ad3a-1e56e90f4fc8","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:33:45,390 connection.py _safely_send    417 SEND > {"id":"a2818bc1-5393-498b-b9d6-6235153328fa","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:33:49,978 connection.py _on_message     652 RECV < {"method":"App.initialized","params":{"from":"devtools"}}
DEBUG 2023-07-01 18:33:49,981 connection.py _on_message     650 RECV < {"id":"a2818bc1-5393-498b-b9d6-6235153328fa","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
DEBUG 2023-07-01 18:33:49,982 connection.py remove          283 remove key which is not in observers
DEBUG 2023-07-01 18:33:49,982 connection.py _safely_send    417 SEND > {"id":"a428ebda-d56c-41f6-8940-105759e6f791","method":"App.addBinding","params":{"name":"onAppRouteDone"}}
DEBUG 2023-07-01 18:33:49,984 connection.py _on_message     652 RECV < {"id":"a428ebda-d56c-41f6-8940-105759e6f791","result":{}}
DEBUG 2023-07-01 18:33:49,984 connection.py _safely_send    417 SEND > {"id":"ed8e16f7-a8de-491d-8bee-d4445f972546","method":"App.callFunction","params":{"functionDeclaration":"function () {\n    if (!global.__minium_onAppRouteDone) {\n        wx.onAppRouteDone(function (options) {\n            onAppRouteDone(options, Date.now())\n        })\n        global.__minium_onAppRouteDone = true\n    }\n}","args":[]}}
DEBUG 2023-07-01 18:33:50,018 connection.py _on_message     652 RECV < {"id":"ed8e16f7-a8de-491d-8bee-d4445f972546","result":{}}
DEBUG 2023-07-01 18:33:50,020 connection.py _safely_send    417 SEND > {"id":"dd0f68d8-5888-4a58-a43d-b2091da093c8","method":"App.callFunction","params":{"functionDeclaration":"function miniumRequestStack(){if(!global.__minium_request_stack){global.__minium_request_stack=new Map,global.__minium_wait_util=function(e=0,t=20){var r=(getCurrentPages().pop()||{}).__wxWebviewId__;return new Promise((_=>{var a=10*t,i=setInterval((()=>{a--;var t=global.__minium_request_stack.has(r)?global.__minium_request_stack.get(r).size:0;console.debug(\"[minitest] current stack size: \",t),t<=e?(clearInterval(i),_(!0)):a<0&&(clearInterval(i),_(!1))}),100)}))};var e=wx.request;return Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(t){if(\"https://weapp.tencent.com/jscov_driver/CollectCovTimer\"==t.url)return e(t);var r,_=(getCurrentPages().pop()||{}).__wxWebviewId__;global.__minium_request_stack.has(_)?r=global.__minium_request_stack.get(_):(r=new Map,global.__minium_request_stack.set(_,r));var a,i=t.complete;t.complete=e=>{r.delete(a),0===r.size&&global.__minium_request_stack.delete(_),i&&i(e)};var n=e(t);return a=n&&n.uniqueId||Math.random(),r.set(a,Date.now()),n}}),!0}return!1}","args":[]}}
DEBUG 2023-07-01 18:33:50,022 connection.py _on_message     652 RECV < {"id":"dd0f68d8-5888-4a58-a43d-b2091da093c8","result":{"result":true}}
DEBUG 2023-07-01 18:33:50,023 connection.py _safely_send    417 SEND > {"id":"6c848b8c-9180-47d0-964b-44bcc947fecf","method":"App.callFunction","params":{"functionDeclaration":"function checkInject(){return!!global.__minium||(global.__minium={},!1)}","args":[]}}
DEBUG 2023-07-01 18:33:50,024 connection.py _on_message     652 RECV < {"id":"6c848b8c-9180-47d0-964b-44bcc947fecf","result":{"result":false}}
DEBUG 2023-07-01 18:33:50,025 connection.py _safely_send    417 SEND > {"id":"e023f5da-c6ba-4b92-9b6d-68ffa1c6915e","method":"App.callFunction","params":{"functionDeclaration":"function(){return {\"pages\": __wxConfig.pages, \"tabBar\": __wxConfig.tabBar && __wxConfig.tabBar.list} }","args":[]}}
DEBUG 2023-07-01 18:33:50,027 connection.py _on_message     650 RECV < {"id":"e023f5da-c6ba-4b92-9b6d-68ffa1c6915e","result":{"result":{"pages":["pages/index/index","pages/list/index","pages/cart/index","pages/user/index","pages/details/index","pages/bindPhone/index","pages/coupon/index","pages/order/index","pages/addressList/index","pages/addressAdd/index","pages/orderDetails/index"],"tabBar":[{"selectedIconPath":"images/home_page_n.png","iconPath":"images/home_page_y.png","pagePath":"pages/index/index.html","text":"首页"},{"selectedIconPath":"images/Shopping.png","iconPath"...
DEBUG 2023-07-01 18:33:50,030 connection.py _safely_send    417 SEND > {"id":"d0b3a1b8-3380-49a7-bd9c-2755a753ba36","method":"App.callWxMethod","params":{"method":"getAccountInfoSync","args":[]}}
DEBUG 2023-07-01 18:33:50,032 connection.py _on_message     652 RECV < {"id":"d0b3a1b8-3380-49a7-bd9c-2755a753ba36","result":{"result":{"miniProgram":{"appId":"wxc322d013dc6066b9","envVersion":"develop","version":""}}}}
DEBUG 2023-07-01 18:33:50,033 connection.py _safely_send    417 SEND > {"id":"c94d5246-dbbe-4e10-a957-8eda397f0b67","method":"Tool.getInfo","params":{}}
DEBUG 2023-07-01 18:33:50,034 connection.py _on_message     652 RECV < {"id":"c94d5246-dbbe-4e10-a957-8eda397f0b67","result":{"version":"1.06.2301160","SDKVersion":"2.32.3"}}
DEBUG 2023-07-01 18:33:50,035 connection.py _safely_send    417 SEND > {"id":"c2aba441-ff9c-4c06-9db1-02e104ae1cde","method":"App.callFunction","params":{"functionDeclaration":"function ideMockModal(){return!!global.__minium_mock_native_modal||(global.__minium_auth_setting={},global.__minium_mock_native_modal_list=[],global.__minium_handle_mock_modal=function(_,l){let m=[];for(;global.__minium_mock_native_modal_list.length>0;){let i=global.__minium_mock_native_modal_list.pop();if(-1===l.indexOf(i.type)||!(_ in i)){m.unshift(i);continue}let o=i[_];if(global.__minium_mock_native_modal_list.push(...m),\"function\"!=typeof o)throw`${o} is not callable`;return o(),!0}return console.warn(`can't find [${l}][${_}]`),global.__minium_mock_native_modal_list.push(...m),!1},global.__minium_get_all_modal=function(){let _=[];global.__minium_mock_native_modal_list.forEach((l=>{_.push({type:l.type,texts:Object.keys(l).filter((_=>\"type\"!==_))})}))},global.__minium_handle_mock_native_modal=function(_){return global.__minium_handle_mock_modal(_,[\"modal\",\"auth\"])},global.__minium_handle_mock_map_modal=function(_){return global.__minium_handle_mock_modal(_,[\"map\"])},global.__minium_handle_mock_auth_modal=function(_){return global.__minium_handle_mock_modal(_,[\"auth\"])},global.__minium_mock_native_modal=function(_){_.type=\"modal\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_map_modal=function(_){_.type=\"map\",global.__minium_mock_native_modal_list.push(_)},global.__minium_mock_auth_modal=function(_){_.type=\"auth\",global.__minium_mock_native_modal_list.push(_)},!1)}","args":[]}}
DEBUG 2023-07-01 18:33:50,038 connection.py _on_message     652 RECV < {"id":"c2aba441-ff9c-4c06-9db1-02e104ae1cde","result":{"result":false}}
DEBUG 2023-07-01 18:33:50,041 connection.py _safely_send    417 SEND > {"id":"aabd7a6f-8e5f-4ff2-b19a-f7121862dbaa","method":"App.mockWxMethod","params":{"method":"showActionSheet","functionDeclaration":"function miniActionSheet(e){return new Promise((n=>{let t={},o=e.itemList;for(let e=0;e<o.length;e++)t[o[e]]=function(){let t={errMsg:\"showActionSheet:ok\",tapIndex:e};return n(t),t};return t[\"\u53d6\u6d88\"]=function(){let e={errMsg:\"showActionSheet:fail cancel\"};return n(e),e},console.warn(\"[minium] mock wx.showActionSheet, you can use `native.handle_action_sheet` to handle it\"),global.__minium_mock_native_modal(t)}))}","args":[]}}
DEBUG 2023-07-01 18:33:50,044 connection.py _on_message     652 RECV < {"id":"aabd7a6f-8e5f-4ff2-b19a-f7121862dbaa","result":{}}
DEBUG 2023-07-01 18:33:50,044 connection.py _safely_send    417 SEND > {"id":"6dbff331-6a9c-428f-8731-a7b88b21a332","method":"App.getCurrentPage","params":{}}
DEBUG 2023-07-01 18:33:50,046 connection.py _on_message     652 RECV < {"id":"6dbff331-6a9c-428f-8731-a7b88b21a332","result":{"pageId":1,"path":"pages/index/index","query":{}}}
DEBUG 2023-07-01 18:33:50,047 connection.py _safely_send    417 SEND > {"id":"d1b72a52-ac47-4b43-ac6b-19afde0e9e1f","method":"App.callWxMethod","params":{"method":"getSetting","args":[]}}
DEBUG 2023-07-01 18:33:50,308 connection.py _on_message     652 RECV < {"id":"d1b72a52-ac47-4b43-ac6b-19afde0e9e1f","result":{"result":{"errMsg":"getSetting:ok","authSetting":{"scope.address":true,"scope.invoice":true,"scope.invoiceTitle":true,"scope.userInfo":true}}}}
DEBUG 2023-07-01 18:33:50,310 connection.py _safely_send    417 SEND > {"id":"42b97ba2-4e1e-4df8-9bff-948c8d539731","method":"App.callFunction","params":{"functionDeclaration":"function mockNetwork(){if(!global[\"__minium_request_network_mocked\"]){function e(i,s){if(typeof i!=typeof s)return!1;switch(typeof i){case\"string\":return!!new RegExp(i).exec(s);case\"number\":return i===s;case\"object\":if(i instanceof Array){if(i.length!=s.length)return!1;for(var c=0;c<i.length;c++)if(!e(i[c],s[c]))return!1;return!0}for(var t in i)if(\"success\"!=t&&\"fail\"!=t&&\"complete\"!=t&&\"_miniMockType\"!=t){if(void 0===s[t])return!1;if(!e(i[t],s[t]))return!1}return!0}return!1}Object.defineProperty(global,\"__minium_request_network_mocked\",{value:!0,writable:!1}),global[\"__minium_request_network_mock_rule\"]||(global[\"__minium_request_network_mock_rule\"]=[]),global[\"__minium_requestTask\"]=class{constructor(e,i,s){this.success=e,this.fail=i,this.callback=s,this.chunkCallback=[],this.headersReceivedCallback=[],this.progressUpdateCallback=[],this.fd=setTimeout((()=>{this.headersReceivedCallback.forEach((e=>{this.success&&e({header:this.success.header})})),this.chunkCallback.forEach((e=>{this.success&&e(this.success.data)})),this.progressUpdateCallback.forEach((e=>{this.success&&e({progress:100,totalBytesWritten:100,totalBytesExpectedToWrite:100})})),s(this.success||this.fail)}))}abort(){clearTimeout(this.fd)}offChunkReceived(e){var i=this.chunkCallback.indexOf(e);-1!==i&&this.chunkCallback.splice(i,1)}offHeadersReceived(e){var i=this.headersReceivedCallback.indexOf(e);-1!==i&&this.headersReceivedCallback.splice(i,1)}onChunkReceived(e){this.chunkCallback.push(e)}onHeadersReceived(e){this.headersReceivedCallback.push(e)}onProgressUpdate(e){this.progressUpdateCallback.push(e)}};var i=wx[\"request\"];Object.defineProperty(wx,\"request\",{configurable:!0,get:()=>function(s){for(var c=0;c<global[\"__minium_request_network_mock_rule\"].length;c++){var t=global[\"__minium_request_network_mock_rule\"][c];if(e(t,s)){if(1===t._miniMockType&&([t]=global[\"__minium_request_network_mock_rule\"].splice(c,1)),console.log(\"@@@@rule match\",t),s.__miniumMocked=!0,t.success)return new global[\"__minium_requestTask\"](t.success,void 0,(e=>{s.success&&s.success(e),s.complete&&s.complete(e)}));if(t.fail)return new global[\"__minium_requestTask\"](void 0,t.fail,(e=>{s.fail&&s.fail(e),s.complete&&s.complete(e)}));if(1===t._miniMockType)return}}return i(s)}})}}","args":[]}}
DEBUG 2023-07-01 18:33:50,312 connection.py _on_message     652 RECV < {"id":"42b97ba2-4e1e-4df8-9bff-948c8d539731","result":{}}
DEBUG 2023-07-01 18:33:50,313 connection.py _safely_send    417 SEND > {"id":"c3221003-6b83-4d71-9f65-2665c0044746","method":"App.enableLog","params":{}}
DEBUG 2023-07-01 18:33:50,314 connection.py _on_message     652 RECV < {"id":"c3221003-6b83-4d71-9f65-2665c0044746","result":{}}
DEBUG 2023-07-01 18:33:50,315 connection.py _safely_send    417 SEND > {"id":"2ef1c966-e1e9-4d45-b21f-6fd6283fbd77","method":"App.callFunction","params":{"functionDeclaration":"function getAppConfig(){if(0===arguments.length)return __wxConfig;{const n={};return Array.from(arguments).forEach((r=>{n[r]=__wxConfig[r]})),n}}","args":["accountInfo"]}}
DEBUG 2023-07-01 18:33:50,317 connection.py _on_message     652 RECV < {"id":"2ef1c966-e1e9-4d45-b21f-6fd6283fbd77","result":{"result":{"accountInfo":{"appId":"wxc322d013dc6066b9","nickname":"易通共享WIFI","icon":"http://wx.qlogo.cn/mmhead/Q3auHgzwzM64hANJnIiconXXdrxqOQkicGrdHlKu80KFf7c8MfUInPCg/0"}}}}
DEBUG 2023-07-01 18:33:50,318 connection.py _safely_send    417 SEND > {"id":"5284af99-081a-48b0-92c3-494e6b035394","method":"App.callWxMethod","params":{"method":"getSystemInfoSync","args":[]}}
DEBUG 2023-07-01 18:33:50,323 connection.py _on_message     650 RECV < {"id":"5284af99-081a-48b0-92c3-494e6b035394","result":{"result":{"model":"iPhone 5","pixelRatio":2,"windowWidth":320,"windowHeight":456,"system":"iOS 10.0.1","language":"zh_CN","version":"8.0.5","deviceOrientation":"portrait","screenWidth":320,"screenHeight":568,"SDKVersion":"2.32.3","brand":"devtools","fontSizeSetting":16,"benchmarkLevel":1,"batteryLevel":100,"statusBarHeight":20,"bluetoothEnabled":true,"locationEnabled":true,"wifiEnabled":true,"cameraAuthorized":true,"locationAuthorized":true,"micropho...
INFO  2023-07-01 18:33:50,323 minitest.py init_miniprogram 160 end init miniprogram
INFO  2023-07-01 18:33:50,328 minitest.py _miniSetUp      341 =========Current case: test_my=========
INFO  2023-07-01 18:33:50,328 minitest.py _miniSetUp      344 package info: C:.Users.yang.Desktop.test.wx_auto.wx_auto_test.tests.test, case info: test.test_my
INFO  2023-07-01 18:33:50,329 basenative.py wrapper         25  call BaseNative.check_connection
INFO  2023-07-01 18:33:50,330 basenative.py wrapper         29  call BaseNative.check_connection end
INFO  2023-07-01 18:33:50,332 minitest.py capture         673 capture setup.png
INFO  2023-07-01 18:33:50,332 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:33:50,332 connection.py _safely_send    417 SEND > {"id":"719a24c8-5289-4715-af82-87ce9b848c29","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:33:50,376 connection.py _on_message     650 RECV < {"id":"719a24c8-5289-4715-af82-87ce9b848c29","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAI6CAIAAACGsomOAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3WtQVGeC8PGnb9wvmgYUULGNijERibSooCbDOCExCWQSkzg76GyIO7VVO4tuamqyWxuot2B2k8yHXaBqd2a3DFWBrpiZTFJpJjGLMay6Qoy2CXZQMWDaG4hAc782fXk/HG25eYs2+MD/90mbpvvQBf9+znOePkfl8XgEAMhAPdUbAAC3i2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGgQLgDQIFgBpECwA0iBYAKRBsABIg2ABkAbBAiANggVAGg...
INFO  2023-07-01 18:33:50,378 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:33:50,379 minitest.py _miniSetUp      394 =========case: test_my start=========
INFO  2023-07-01 18:33:50,380 app.py     navigate_to     528 NavigateTo: /pages/addressAdd/index
DEBUG 2023-07-01 18:33:50,380 connection.py _safely_send    417 ASYNC_SEND > {"id":"a8588b45-06ca-488c-8bc6-a51cb4b49f40","method":"App.callWxMethod","params":{"method":"navigateTo","args":[{"url":"/pages/addressAdd/index"}]}}
DEBUG 2023-07-01 18:33:50,439 connection.py _on_message     652 RECV < {"id":"a8588b45-06ca-488c-8bc6-a51cb4b49f40","result":{"result":{"errMsg":"navigateTo:ok","eventChannel":{"listener":{}}}}}
INFO  2023-07-01 18:33:50,440 connection.py _handle_async_msg 688 received async msg: a8588b45-06ca-488c-8bc6-a51cb4b49f40
DEBUG 2023-07-01 18:33:50,773 connection.py _on_message     652 RECV < {"method":"App.bindingCalled","params":{"name":"onAppRouteDone","args":[{"webviewId":2,"path":"pages/addressAdd/index","query":{},"openType":"navigateTo","__ts__":1688207630757},1688207630759]}}
INFO  2023-07-01 18:33:50,776 app.py     _on_route_changed 791 Route changed, {'name': 'onAppRouteDone', 'args': [{'webviewId': 2, 'path': 'pages/addressAdd/index', 'query': {}, 'openType': 'navigateTo', '__ts__': 1688207630757}, 1688207630759]}
INFO  2023-07-01 18:33:50,778 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="请填写姓名"]
DEBUG 2023-07-01 18:33:50,779 connection.py _safely_send    417 SEND > {"id":"a547a2b7-379a-43f4-81c4-9b0bc18ccce5","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8bf7\u586b\u5199\u59d3\u540d\"]","pageId":2}}
DEBUG 2023-07-01 18:33:50,801 connection.py _on_message     652 RECV < {"id":"a547a2b7-379a-43f4-81c4-9b0bc18ccce5","result":{"elements":[{"elementId":"26a034c6-6223-4172-b979-4e973b3d0ddb","tagName":"input"}]}}
INFO  2023-07-01 18:33:50,802 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001DE43182FD0>]
DEBUG 2023-07-01 18:33:50,803 connection.py _safely_send    417 SEND > {"id":"f697bf07-931e-4bf8-a557-025e1af492a0","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5\u8054\u7cfb\u4eba"},"elementId":"26a034c6-6223-4172-b979-4e973b3d0ddb","pageId":2}}
DEBUG 2023-07-01 18:33:50,817 connection.py _on_message     652 RECV < {"id":"f697bf07-931e-4bf8-a557-025e1af492a0","result":{}}
INFO  2023-07-01 18:33:50,818 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="11位手机号码"]
DEBUG 2023-07-01 18:33:50,818 connection.py _safely_send    417 SEND > {"id":"2dce00d6-9eff-4bb4-8d10-8fad08e856ab","method":"Page.getElements","params":{"selector":"input[placeholder=\"11\u4f4d\u624b\u673a\u53f7\u7801\"]","pageId":2}}
DEBUG 2023-07-01 18:33:50,822 connection.py _on_message     652 RECV < {"id":"2dce00d6-9eff-4bb4-8d10-8fad08e856ab","result":{"elements":[{"elementId":"cf6f902f-9f06-49fc-ac69-4e27b20080f3","tagName":"input"}]}}
INFO  2023-07-01 18:33:50,823 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001DE4319A190>]
DEBUG 2023-07-01 18:33:50,824 connection.py _safely_send    417 SEND > {"id":"2705dbf6-5474-43de-a32c-a10faa506d88","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"18211110000"},"elementId":"cf6f902f-9f06-49fc-ac69-4e27b20080f3","pageId":2}}
DEBUG 2023-07-01 18:33:50,829 connection.py _on_message     652 RECV < {"id":"2705dbf6-5474-43de-a32c-a10faa506d88","result":{}}
DEBUG 2023-07-01 18:33:50,830 connection.py _safely_send    417 SEND > {"id":"4bc8d720-7ded-4892-a275-9794e8b59f02","method":"Page.getElementByXpath","params":{"selector":"/view/view[1]/view[3]/picker","pageId":2}}
DEBUG 2023-07-01 18:33:50,843 connection.py _on_message     652 RECV < {"id":"4bc8d720-7ded-4892-a275-9794e8b59f02","result":{"elementId":"59753a8c-8da8-4a0f-b564-a86f56638a88","tagName":"picker"}}
DEBUG 2023-07-01 18:33:50,844 connection.py _safely_send    417 SEND > {"id":"d5dba737-0131-4cd9-af90-1d3aa4fb0c36","method":"Element.triggerEvent","params":{"type":"change","detail":{"value":["\u6e56\u5357\u7701","\u957f\u6c99\u5e02","\u8299\u84c9\u533a"]},"elementId":"59753a8c-8da8-4a0f-b564-a86f56638a88","pageId":2}}
DEBUG 2023-07-01 18:33:50,854 connection.py _on_message     652 RECV < {"id":"d5dba737-0131-4cd9-af90-1d3aa4fb0c36","result":{}}
INFO  2023-07-01 18:33:50,855 page.py    _get_elements_by_css 559 try to get elements: input[placeholder="街道门牌号信息"]
DEBUG 2023-07-01 18:33:50,855 connection.py _safely_send    417 SEND > {"id":"759bc1bb-0f38-4f85-b832-59660addabf9","method":"Page.getElements","params":{"selector":"input[placeholder=\"\u8857\u9053\u95e8\u724c\u53f7\u4fe1\u606f\"]","pageId":2}}
DEBUG 2023-07-01 18:33:50,860 connection.py _on_message     652 RECV < {"id":"759bc1bb-0f38-4f85-b832-59660addabf9","result":{"elements":[{"elementId":"8be519c7-35f8-445d-9de6-440ec929438d","tagName":"input"}]}}
INFO  2023-07-01 18:33:50,860 page.py    _get_elements_by_css 566 find elements success: [<minium.miniprogram.base_driver.element.FormElement object at 0x000001DE4319A310>]
DEBUG 2023-07-01 18:33:50,861 connection.py _safely_send    417 SEND > {"id":"f4172b1d-3fae-4591-991c-965d2bb82d09","method":"Element.triggerEvent","params":{"type":"input","detail":{"value":"\u6d4b\u8bd5"},"elementId":"8be519c7-35f8-445d-9de6-440ec929438d","pageId":2}}
DEBUG 2023-07-01 18:33:50,871 connection.py _on_message     652 RECV < {"id":"f4172b1d-3fae-4591-991c-965d2bb82d09","result":{}}
DEBUG 2023-07-01 18:33:50,871 connection.py _safely_send    417 SEND > {"id":"8a0cf197-2fac-4398-b200-b7b410108d3e","method":"Page.getElementByXpath","params":{"selector":"/view/view[2]","pageId":2}}
DEBUG 2023-07-01 18:33:50,872 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["picker发送选择改变，携带值为",["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:33:50,874 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[["湖南省","长沙市","芙蓉区"]]}}
DEBUG 2023-07-01 18:33:50,891 connection.py _on_message     652 RECV < {"id":"8a0cf197-2fac-4398-b200-b7b410108d3e","result":{"elementId":"d2cd9c0c-5a66-46db-89c2-881990fa9475","tagName":"view"}}
DEBUG 2023-07-01 18:33:50,892 connection.py _safely_send    417 SEND > {"id":"d5387ed8-271b-44fc-8a1b-14817e97a0f3","method":"Element.getStyles","params":{"names":["pointer-events"],"elementId":"d2cd9c0c-5a66-46db-89c2-881990fa9475","pageId":2}}
DEBUG 2023-07-01 18:33:50,896 connection.py _on_message     652 RECV < {"id":"d5387ed8-271b-44fc-8a1b-14817e97a0f3","result":{"styles":["auto"]}}
DEBUG 2023-07-01 18:33:50,897 connection.py _safely_send    417 SEND > {"id":"4aaa514d-0e97-493d-bf90-e9a4bee11ee0","method":"Element.tap","params":{"elementId":"d2cd9c0c-5a66-46db-89c2-881990fa9475","pageId":2}}
DEBUG 2023-07-01 18:33:50,910 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:33:50,916 connection.py _on_message     652 RECV < {"id":"4aaa514d-0e97-493d-bf90-e9a4bee11ee0","result":{}}
DEBUG 2023-07-01 18:33:50,919 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:33:51,917 minitest.py _miniTearDown   587 =========Current case Down: test_my=========
INFO  2023-07-01 18:33:51,918 minitest.py capture         673 capture teardown.png
INFO  2023-07-01 18:33:51,919 basenative.py wrapper         25  call IdeNative.screen_shot
DEBUG 2023-07-01 18:33:51,919 connection.py _safely_send    417 SEND > {"id":"e29ef60e-6b89-4242-a84a-300cb7d4f48e","method":"App.captureScreenshot","params":{}}
DEBUG 2023-07-01 18:33:51,969 connection.py _on_message     650 RECV < {"id":"e29ef60e-6b89-4242-a84a-300cb7d4f48e","result":{"data":"iVBORw0KGgoAAAANSUhEUgAAAZAAAAJ2CAIAAAD+KEOZAAAAAXNSR0IArs4c6QAAIABJREFUeJzt3X9sm/d94PEP42TJMqQBTqtix44vxLnJDesIbXo6xKTb4tTseBMwEbHPWWzTAkoJveGCkEK7XYDG5AGkXaB3XU3pkMNwkLlBpuWeMzumdvCgzSWuqUkFd88amWtxTeuOgeOfqpm16dLZdW3eH/yhh+RDipKpHx/5/for5q/nIaXnre/zfZ6HcRSLRQEADR5Y7RUAgHYRLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAahAsAGoQLABqECwAah...
INFO  2023-07-01 18:33:51,971 basenative.py wrapper         29  call IdeNative.screen_shot end
INFO  2023-07-01 18:33:51,971 basenative.py wrapper         25  call BaseNative.get_start_up
INFO  2023-07-01 18:33:51,972 basenative.py wrapper         29  call BaseNative.get_start_up end
DEBUG 2023-07-01 18:33:55,632 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:33:55,639 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:33:57,396 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:33:57,403 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:33:58,181 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:33:58,188 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:33:58,869 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:33:58,874 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:33:59,556 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:33:59,563 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
DEBUG 2023-07-01 18:34:00,252 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":[{"userInfo":{"nickName":"微信用户","gender":0,"language":"","city":"","province":"","country":"","avatarUrl":"https://thirdwx.qlogo.cn/mmopen/vi_32/POgEwh4mIHO4nibH0KlMECNjjGxQUq24ZEaGT4poC6icRiccVGKSyXwibcPq4BWmiaIGuG1icwxaQX6grC9VemZoJ8rg/132"},"openid":null}]}}
DEBUG 2023-07-01 18:34:00,257 connection.py _on_message     652 RECV < {"method":"App.logAdded","params":{"type":"log","args":["complete"]}}
INFO  2023-07-01 18:34:01,995 session.py run             67  case queue is empty, test complete, release None
DEBUG 2023-07-01 18:34:01,995 connection.py _safely_send    417 ASYNC_SEND > {"id":"9350ce9a-a6f2-49dd-af47-a8e5e045de7d","method":"Tool.close","params":{}}
DEBUG 2023-07-01 18:34:01,997 connection.py _on_message     652 RECV < {"id":"9350ce9a-a6f2-49dd-af47-a8e5e045de7d","result":{}}
INFO  2023-07-01 18:34:01,997 connection.py _handle_async_msg 688 received async msg: 9350ce9a-a6f2-49dd-af47-a8e5e045de7d, maybe command ignore response
ERROR 2023-07-01 18:34:02,017 connection.py _on_error       632 Connection to remote host was lost.
INFO  2023-07-01 18:34:02,444 connection.py _ws_run_forever 367 websocket run forever shutdown
INFO  2023-07-01 18:34:02,998 basenative.py wrapper         25  call IdeNative.stop_wechat
INFO  2023-07-01 18:34:02,998 basenative.py wrapper         29  call IdeNative.stop_wechat end
INFO  2023-07-01 18:34:02,999 basenative.py wrapper         25  call IdeNative.release
INFO  2023-07-01 18:34:03,000 basenative.py wrapper         25  call BaseNative.release_auto_authorize
INFO  2023-07-01 18:34:03,000 basenative.py wrapper         29  call BaseNative.release_auto_authorize end
INFO  2023-07-01 18:34:03,000 basenative.py wrapper         29  call IdeNative.release end
